var Hx=t=>{throw TypeError(t)};var sm=(t,e,n)=>e.has(t)||Hx("Cannot "+n);var q=(t,e,n)=>(sm(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?Hx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Te=(t,e,n,r)=>(sm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(sm(t,e,"access private method"),n);var id=(t,e,n,r)=>({set _(s){Te(t,e,s,n)},get _(){return q(t,e,r)}});function b2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function B1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W1={exports:{}},If={},H1={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),T2=Symbol.for("react.portal"),S2=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),A2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),k2=Symbol.for("react.memo"),D2=Symbol.for("react.lazy"),Kx=Symbol.iterator;function j2(t){return t===null||typeof t!="object"?null:(t=Kx&&t[Kx]||t["@@iterator"],typeof t=="function"?t:null)}var K1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q1=Object.assign,G1={};function sl(t,e,n){this.props=t,this.context=e,this.refs=G1,this.updater=n||K1}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q1(){}Q1.prototype=sl.prototype;function my(t,e,n){this.props=t,this.context=e,this.refs=G1,this.updater=n||K1}var gy=my.prototype=new Q1;gy.constructor=my;q1(gy,sl.prototype);gy.isPureReactComponent=!0;var qx=Array.isArray,Y1=Object.prototype.hasOwnProperty,vy={current:null},X1={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Y1.call(e,r)&&!X1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fu,type:t,key:i,ref:o,props:s,_owner:vy.current}}function M2(t,e){return{$$typeof:fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fu}function O2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gx=/\/+/g;function im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O2(""+t.key):e.toString(36)}function Bd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fu:case T2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+im(o,0):r,qx(s)?(n="",t!=null&&(n=t.replace(Gx,"$&/")+"/"),Bd(s,e,n,"",function(d){return d})):s!=null&&(yy(s)&&(s=M2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+im(i,a);o+=Bd(i,e,n,c,s)}else if(c=j2(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+im(i,a++),o+=Bd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function od(t,e,n){if(t==null)return t;var r=[],s=0;return Bd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function L2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Wd={transition:null},F2={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:vy};function Z1(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:od,forEach:function(t,e,n){od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return od(t,function(){e++}),e},toArray:function(t){return od(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=sl;Ie.Fragment=S2;Ie.Profiler=I2;Ie.PureComponent=my;Ie.StrictMode=C2;Ie.Suspense=R2;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;Ie.act=Z1;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Y1.call(e,c)&&!X1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:fu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:P2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A2,_context:t},t.Consumer=t};Ie.createElement=J1;Ie.createFactory=function(t){var e=J1.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:N2,render:t}};Ie.isValidElement=yy;Ie.lazy=function(t){return{$$typeof:D2,_payload:{_status:-1,_result:t},_init:L2}};Ie.memo=function(t,e){return{$$typeof:k2,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};Ie.unstable_act=Z1;Ie.useCallback=function(t,e){return on.current.useCallback(t,e)};Ie.useContext=function(t){return on.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return on.current.useEffect(t,e)};Ie.useId=function(){return on.current.useId()};Ie.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return on.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Ie.useRef=function(t){return on.current.useRef(t)};Ie.useState=function(t){return on.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return on.current.useTransition()};Ie.version="18.3.1";H1.exports=Ie;var f=H1.exports;const re=B1(f),wy=b2({__proto__:null,default:re},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=f,$2=Symbol.for("react.element"),U2=Symbol.for("react.fragment"),z2=Object.prototype.hasOwnProperty,B2=V2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W2={key:!0,ref:!0,__self:!0,__source:!0};function eT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)z2.call(e,r)&&!W2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$2,type:t,key:i,ref:o,props:s,_owner:B2.current}}If.Fragment=U2;If.jsx=eT;If.jsxs=eT;W1.exports=If;var l=W1.exports,tT={exports:{}},kn={},nT={exports:{}},rT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,k){var U=M.length;M.push(k);e:for(;0<U;){var H=U-1>>>1,F=M[H];if(0<s(F,k))M[H]=k,M[U]=F,U=H;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var k=M[0],U=M.pop();if(U!==k){M[0]=U;e:for(var H=0,F=M.length,G=F>>>1;H<G;){var se=2*(H+1)-1,te=M[se],Z=se+1,J=M[Z];if(0>s(te,U))Z<F&&0>s(J,te)?(M[H]=J,M[Z]=U,H=Z):(M[H]=te,M[se]=U,H=se);else if(Z<F&&0>s(J,U))M[H]=J,M[Z]=U,H=Z;else break e}}return k}function s(M,k){var U=M.sortIndex-k.sortIndex;return U!==0?U:M.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,p=null,m=3,y=!1,_=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var k=n(d);k!==null;){if(k.callback===null)r(d);else if(k.startTime<=M)r(d),k.sortIndex=k.expirationTime,e(c,k);else break;k=n(d)}}function N(M){if(v=!1,T(M),!_)if(n(c)!==null)_=!0,W(j);else{var k=n(d);k!==null&&Y(N,k.startTime-M)}}function j(M,k){_=!1,v&&(v=!1,x(S),S=-1),y=!0;var U=m;try{for(T(k),p=n(c);p!==null&&(!(p.expirationTime>k)||M&&!D());){var H=p.callback;if(typeof H=="function"){p.callback=null,m=p.priorityLevel;var F=H(p.expirationTime<=k);k=t.unstable_now(),typeof F=="function"?p.callback=F:p===n(c)&&r(c),T(k)}else r(c);p=n(c)}if(p!==null)var G=!0;else{var se=n(d);se!==null&&Y(N,se.startTime-k),G=!1}return G}finally{p=null,m=U,y=!1}}var L=!1,C=null,S=-1,P=5,A=-1;function D(){return!(t.unstable_now()-A<P)}function O(){if(C!==null){var M=t.unstable_now();A=M;var k=!0;try{k=C(!0,M)}finally{k?I():(L=!1,C=null)}}else L=!1}var I;if(typeof w=="function")I=function(){w(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=O,I=function(){$.postMessage(null)}}else I=function(){E(O,0)};function W(M){C=M,L||(L=!0,I())}function Y(M,k){S=E(function(){M(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,W(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var U=m;m=k;try{return M()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=m;m=M;try{return k()}finally{m=U}},t.unstable_scheduleCallback=function(M,k,U){var H=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,M={id:h++,callback:k,priorityLevel:M,startTime:U,expirationTime:F,sortIndex:-1},U>H?(M.sortIndex=U,e(d,M),n(c)===null&&M===n(d)&&(v?(x(S),S=-1):v=!0,Y(N,U-H))):(M.sortIndex=F,e(c,M),_||y||(_=!0,W(j))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var k=m;return function(){var U=m;m=k;try{return M.apply(this,arguments)}finally{m=U}}}})(rT);nT.exports=rT;var H2=nT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=f,Rn=H2;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sT=new Set,Ac={};function Io(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(Ac[t]=e,t=0;t<e.length;t++)sT.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pg=Object.prototype.hasOwnProperty,q2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qx={},Yx={};function G2(t){return pg.call(Yx,t)?!0:pg.call(Qx,t)?!1:q2.test(t)?Yx[t]=!0:(Qx[t]=!0,!1)}function Q2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y2(t,e,n,r){if(e===null||typeof e>"u"||Q2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var xy=/[\-:]([a-z])/g;function _y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xy,_y);Rt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xy,_y);Rt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xy,_y);Rt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y2(e,n,s,r)&&(n=null),r||s===null?G2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=K2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),iT=Symbol.for("react.provider"),oT=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),vg=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),aT=Symbol.for("react.offscreen"),Xx=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=Xx&&t[Xx]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,om;function Xl(t){if(om===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var am=!1;function lm(t,e){if(!t||am)return"";am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function X2(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function yg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case Zo:return"Portal";case mg:return"Profiler";case by:return"StrictMode";case gg:return"Suspense";case vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oT:return(t.displayName||"Context")+".Consumer";case iT:return(t._context.displayName||"Context")+".Provider";case Ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sy:return e=t.displayName||null,e!==null?e:yg(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return yg(t(e))}catch{}}return null}function J2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yg(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z2(t){var e=lT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ld(t){t._valueTracker||(t._valueTracker=Z2(t))}function cT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wg(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uT(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function xg(t,e){uT(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_g(t,e.type,n):e.hasOwnProperty("defaultValue")&&_g(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _g(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function ha(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Jl(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function dT(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cd,fT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ej=["Webkit","ms","Moz","O"];Object.keys(dc).forEach(function(t){ej.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dc[e]=dc[t]})});function pT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dc.hasOwnProperty(t)&&dc[t]?(""+e).trim():e+"px"}function mT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tj=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tg(t,e){if(e){if(tj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ig=null,fa=null,pa=null;function n_(t){if(t=gu(t)){if(typeof Ig!="function")throw Error(X(280));var e=t.stateNode;e&&(e=kf(e),Ig(t.stateNode,t.type,e))}}function gT(t){fa?pa?pa.push(t):pa=[t]:fa=t}function vT(){if(fa){var t=fa,e=pa;if(pa=fa=null,n_(t),e)for(t=0;t<e.length;t++)n_(e[t])}}function yT(t,e){return t(e)}function wT(){}var cm=!1;function xT(t,e,n){if(cm)return t(e,n);cm=!0;try{return yT(t,e,n)}finally{cm=!1,(fa!==null||pa!==null)&&(wT(),vT())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Ag=!1;if(es)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Ag=!1}function nj(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var hc=!1,wh=null,xh=!1,Pg=null,rj={onError:function(t){hc=!0,wh=t}};function sj(t,e,n,r,s,i,o,a,c){hc=!1,wh=null,nj.apply(rj,arguments)}function ij(t,e,n,r,s,i,o,a,c){if(sj.apply(this,arguments),hc){if(hc){var d=wh;hc=!1,wh=null}else throw Error(X(198));xh||(xh=!0,Pg=d)}}function Ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _T(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r_(t){if(Ao(t)!==t)throw Error(X(188))}function oj(t){var e=t.alternate;if(!e){if(e=Ao(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return r_(s),t;if(i===r)return r_(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function ET(t){return t=oj(t),t!==null?bT(t):null}function bT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bT(t);if(e!==null)return e;t=t.sibling}return null}var TT=Rn.unstable_scheduleCallback,s_=Rn.unstable_cancelCallback,aj=Rn.unstable_shouldYield,lj=Rn.unstable_requestPaint,lt=Rn.unstable_now,cj=Rn.unstable_getCurrentPriorityLevel,Iy=Rn.unstable_ImmediatePriority,ST=Rn.unstable_UserBlockingPriority,_h=Rn.unstable_NormalPriority,uj=Rn.unstable_LowPriority,CT=Rn.unstable_IdlePriority,Af=null,Cr=null;function dj(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Af,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:pj,hj=Math.log,fj=Math.LN2;function pj(t){return t>>>=0,t===0?32:31-(hj(t)/fj|0)|0}var ud=64,dd=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zl(a):(i&=o,i!==0&&(r=Zl(i)))}else o=n&~s,o!==0?r=Zl(o):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function mj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=mj(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Ng(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IT(){var t=ud;return ud<<=1,!(ud&4194240)&&(ud=64),t}function um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function vj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ay(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function AT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PT,Py,NT,RT,kT,Rg=!1,hd=[],Zs=null,ei=null,ti=null,Rc=new Map,kc=new Map,Fs=[],yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function zl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gu(e),e!==null&&Py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wj(t,e,n,r,s){switch(e){case"focusin":return Zs=zl(Zs,t,e,n,r,s),!0;case"dragenter":return ei=zl(ei,t,e,n,r,s),!0;case"mouseover":return ti=zl(ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rc.set(i,zl(Rc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,zl(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function DT(t){var e=Gi(t.target);if(e!==null){var n=Ao(e);if(n!==null){if(e=n.tag,e===13){if(e=_T(n),e!==null){t.blockedOn=e,kT(t.priority,function(){NT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cg=r,n.target.dispatchEvent(r),Cg=null}else return e=gu(n),e!==null&&Py(e),t.blockedOn=n,!1;e.shift()}return!0}function o_(t,e,n){Hd(t)&&n.delete(e)}function xj(){Rg=!1,Zs!==null&&Hd(Zs)&&(Zs=null),ei!==null&&Hd(ei)&&(ei=null),ti!==null&&Hd(ti)&&(ti=null),Rc.forEach(o_),kc.forEach(o_)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Rg||(Rg=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,xj)))}function Dc(t){function e(s){return Bl(s,t)}if(0<hd.length){Bl(hd[0],t);for(var n=1;n<hd.length;n++){var r=hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zs!==null&&Bl(Zs,t),ei!==null&&Bl(ei,t),ti!==null&&Bl(ti,t),Rc.forEach(e),kc.forEach(e),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)DT(n),n.blockedOn===null&&Fs.shift()}var ma=ps.ReactCurrentBatchConfig,bh=!0;function _j(t,e,n,r){var s=Le,i=ma.transition;ma.transition=null;try{Le=1,Ny(t,e,n,r)}finally{Le=s,ma.transition=i}}function Ej(t,e,n,r){var s=Le,i=ma.transition;ma.transition=null;try{Le=4,Ny(t,e,n,r)}finally{Le=s,ma.transition=i}}function Ny(t,e,n,r){if(bh){var s=kg(t,e,n,r);if(s===null)xm(t,e,r,Th,n),i_(t,r);else if(wj(s,t,e,n,r))r.stopPropagation();else if(i_(t,r),e&4&&-1<yj.indexOf(t)){for(;s!==null;){var i=gu(s);if(i!==null&&PT(i),i=kg(t,e,n,r),i===null&&xm(t,e,r,Th,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xm(t,e,r,null,n)}}var Th=null;function kg(t,e,n,r){if(Th=null,t=Cy(r),t=Gi(t),t!==null)if(e=Ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function jT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cj()){case Iy:return 1;case ST:return 4;case _h:case uj:return 16;case CT:return 536870912;default:return 16}default:return 16}}var Qs=null,Ry=null,Kd=null;function MT(){if(Kd)return Kd;var t,e=Ry,n=e.length,r,s="value"in Qs?Qs.value:Qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kd=s.slice(t,1<r?1-r:void 0)}function qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function a_(){return!1}function Dn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fd:a_,this.isPropagationStopped=a_,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Dn(il),mu=Xe({},il,{view:0,detail:0}),bj=Dn(mu),dm,hm,Wl,Pf=Xe({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(dm=t.screenX-Wl.screenX,hm=t.screenY-Wl.screenY):hm=dm=0,Wl=t),dm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),l_=Dn(Pf),Tj=Xe({},Pf,{dataTransfer:0}),Sj=Dn(Tj),Cj=Xe({},mu,{relatedTarget:0}),fm=Dn(Cj),Ij=Xe({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),Aj=Dn(Ij),Pj=Xe({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nj=Dn(Pj),Rj=Xe({},il,{data:0}),c_=Dn(Rj),kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jj[t])?!!e[t]:!1}function Dy(){return Mj}var Oj=Xe({},mu,{key:function(t){if(t.key){var e=kj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(t){return t.type==="keypress"?qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lj=Dn(Oj),Fj=Xe({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=Dn(Fj),Vj=Xe({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),$j=Dn(Vj),Uj=Xe({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),zj=Dn(Uj),Bj=Xe({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wj=Dn(Bj),Hj=[9,13,27,32],jy=es&&"CompositionEvent"in window,fc=null;es&&"documentMode"in document&&(fc=document.documentMode);var Kj=es&&"TextEvent"in window&&!fc,OT=es&&(!jy||fc&&8<fc&&11>=fc),d_=" ",h_=!1;function LT(t,e){switch(t){case"keyup":return Hj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function qj(t,e){switch(t){case"compositionend":return FT(e);case"keypress":return e.which!==32?null:(h_=!0,d_);case"textInput":return t=e.data,t===d_&&h_?null:t;default:return null}}function Gj(t,e){if(ta)return t==="compositionend"||!jy&&LT(t,e)?(t=MT(),Kd=Ry=Qs=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OT&&e.locale!=="ko"?null:e.data;default:return null}}var Qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qj[t.type]:e==="textarea"}function VT(t,e,n,r){gT(r),e=Sh(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pc=null,jc=null;function Yj(t){YT(t,0)}function Nf(t){var e=sa(t);if(cT(e))return t}function Xj(t,e){if(t==="change")return e}var $T=!1;if(es){var pm;if(es){var mm="oninput"in document;if(!mm){var p_=document.createElement("div");p_.setAttribute("oninput","return;"),mm=typeof p_.oninput=="function"}pm=mm}else pm=!1;$T=pm&&(!document.documentMode||9<document.documentMode)}function m_(){pc&&(pc.detachEvent("onpropertychange",UT),jc=pc=null)}function UT(t){if(t.propertyName==="value"&&Nf(jc)){var e=[];VT(e,jc,t,Cy(t)),xT(Yj,e)}}function Jj(t,e,n){t==="focusin"?(m_(),pc=e,jc=n,pc.attachEvent("onpropertychange",UT)):t==="focusout"&&m_()}function Zj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(jc)}function eM(t,e){if(t==="click")return Nf(e)}function tM(t,e){if(t==="input"||t==="change")return Nf(e)}function nM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:nM;function Mc(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pg.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function g_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v_(t,e){var n=g_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g_(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BT(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rM(t){var e=BT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zT(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=v_(n,i);var o=v_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sM=es&&"documentMode"in document&&11>=document.documentMode,na=null,Dg=null,mc=null,jg=!1;function y_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||na==null||na!==yh(r)||(r=na,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mc&&Mc(mc,r)||(mc=r,r=Sh(Dg,"onSelect"),0<r.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function pd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},gm={},WT={};es&&(WT=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Rf(t){if(gm[t])return gm[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WT)return gm[t]=e[n];return t}var HT=Rf("animationend"),KT=Rf("animationiteration"),qT=Rf("animationstart"),GT=Rf("transitionend"),QT=new Map,w_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){QT.set(t,e),Io(e,[t])}for(var vm=0;vm<w_.length;vm++){var ym=w_[vm],iM=ym.toLowerCase(),oM=ym[0].toUpperCase()+ym.slice(1);Ii(iM,"on"+oM)}Ii(HT,"onAnimationEnd");Ii(KT,"onAnimationIteration");Ii(qT,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(GT,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function x_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ij(r,e,void 0,t),t.currentTarget=null}function YT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;x_(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;x_(s,a,d),i=c}}}if(xh)throw t=Pg,xh=!1,Pg=null,t}function Be(t,e){var n=e[Vg];n===void 0&&(n=e[Vg]=new Set);var r=t+"__bubble";n.has(r)||(XT(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),XT(n,t,r,e)}var md="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[md]){t[md]=!0,sT.forEach(function(n){n!=="selectionchange"&&(aM.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[md]||(e[md]=!0,wm("selectionchange",!1,e))}}function XT(t,e,n,r){switch(jT(e)){case 1:var s=_j;break;case 4:s=Ej;break;default:s=Ny}n=s.bind(null,e,n,t),s=void 0,!Ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}xT(function(){var d=i,h=Cy(n),p=[];e:{var m=QT.get(t);if(m!==void 0){var y=ky,_=t;switch(t){case"keypress":if(qd(n)===0)break e;case"keydown":case"keyup":y=Lj;break;case"focusin":_="focus",y=fm;break;case"focusout":_="blur",y=fm;break;case"beforeblur":case"afterblur":y=fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=l_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Sj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$j;break;case HT:case KT:case qT:y=Aj;break;case GT:y=zj;break;case"scroll":y=bj;break;case"wheel":y=Wj;break;case"copy":case"cut":case"paste":y=Nj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=u_}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=Nc(w,x),N!=null&&v.push(Lc(w,N,T)))),E)break;w=w.return}0<v.length&&(m=new y(m,_,null,n,h),p.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Cg&&(_=n.relatedTarget||n.fromElement)&&(Gi(_)||_[ts]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=d,_=_?Gi(_):null,_!==null&&(E=Ao(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=d),y!==_)){if(v=l_,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=u_,N="onPointerLeave",x="onPointerEnter",w="pointer"),E=y==null?m:sa(y),T=_==null?m:sa(_),m=new v(N,w+"leave",y,n,h),m.target=E,m.relatedTarget=T,N=null,Gi(h)===d&&(v=new v(x,w+"enter",_,n,h),v.target=T,v.relatedTarget=E,N=v),E=N,y&&_)t:{for(v=y,x=_,w=0,T=v;T;T=Vo(T))w++;for(T=0,N=x;N;N=Vo(N))T++;for(;0<w-T;)v=Vo(v),w--;for(;0<T-w;)x=Vo(x),T--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=Vo(v),x=Vo(x)}v=null}else v=null;y!==null&&__(p,m,y,v,!1),_!==null&&E!==null&&__(p,E,_,v,!0)}}e:{if(m=d?sa(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=Xj;else if(f_(m))if($T)j=tM;else{j=Zj;var L=Jj}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=eM);if(j&&(j=j(t,d))){VT(p,j,n,h);break e}L&&L(t,m,d),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&_g(m,"number",m.value)}switch(L=d?sa(d):window,t){case"focusin":(f_(L)||L.contentEditable==="true")&&(na=L,Dg=d,mc=null);break;case"focusout":mc=Dg=na=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,y_(p,n,h);break;case"selectionchange":if(sM)break;case"keydown":case"keyup":y_(p,n,h)}var C;if(jy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ta?LT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(OT&&n.locale!=="ko"&&(ta||S!=="onCompositionStart"?S==="onCompositionEnd"&&ta&&(C=MT()):(Qs=h,Ry="value"in Qs?Qs.value:Qs.textContent,ta=!0)),L=Sh(d,S),0<L.length&&(S=new c_(S,t,null,n,h),p.push({event:S,listeners:L}),C?S.data=C:(C=FT(n),C!==null&&(S.data=C)))),(C=Kj?qj(t,n):Gj(t,n))&&(d=Sh(d,"onBeforeInput"),0<d.length&&(h=new c_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=C))}YT(p,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Nc(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function __(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Nc(n,i),c!=null&&o.unshift(Lc(n,c,a))):s||(c=Nc(n,i),c!=null&&o.push(Lc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(lM,`
`).replace(cM,"")}function gd(t,e,n){if(e=E_(e),E_(t)!==e&&n)throw Error(X(425))}function Ch(){}var Mg=null,Og=null;function Lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fg=typeof setTimeout=="function"?setTimeout:void 0,uM=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(hM)}:Fg;function hM(t){setTimeout(function(){throw t})}function _m(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dc(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),_r="__reactFiber$"+ol,Fc="__reactProps$"+ol,ts="__reactContainer$"+ol,Vg="__reactEvents$"+ol,fM="__reactListeners$"+ol,pM="__reactHandles$"+ol;function Gi(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ts]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[_r])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function gu(t){return t=t[_r]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function kf(t){return t[Fc]||null}var $g=[],ia=-1;function Ai(t){return{current:t}}function We(t){0>ia||(t.current=$g[ia],$g[ia]=null,ia--)}function $e(t,e){ia++,$g[ia]=t.current,t.current=e}var gi={},Gt=Ai(gi),mn=Ai(!1),ao=gi;function Va(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function Ih(){We(mn),We(Gt)}function S_(t,e,n){if(Gt.current!==gi)throw Error(X(168));$e(Gt,e),$e(mn,n)}function JT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,J2(t)||"Unknown",s));return Xe({},n,r)}function Ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,ao=Gt.current,$e(Gt,t),$e(mn,mn.current),!0}function C_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=JT(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,We(mn),We(Gt),$e(Gt,t)):We(mn),$e(mn,n)}var qr=null,Df=!1,Em=!1;function ZT(t){qr===null?qr=[t]:qr.push(t)}function mM(t){Df=!0,ZT(t)}function Pi(){if(!Em&&qr!==null){Em=!0;var t=0,e=Le;try{var n=qr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,Df=!1}catch(s){throw qr!==null&&(qr=qr.slice(t+1)),TT(Iy,Pi),s}finally{Le=e,Em=!1}}return null}var oa=[],aa=0,Ph=null,Nh=0,On=[],Ln=0,lo=null,Gr=1,Qr="";function Wi(t,e){oa[aa++]=Nh,oa[aa++]=Ph,Ph=t,Nh=e}function eS(t,e,n){On[Ln++]=Gr,On[Ln++]=Qr,On[Ln++]=lo,lo=t;var r=Gr;t=Qr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gr=1<<32-sr(e)+s|n<<s|r,Qr=i+t}else Gr=1<<i|n<<s|r,Qr=t}function Oy(t){t.return!==null&&(Wi(t,1),eS(t,1,0))}function Ly(t){for(;t===Ph;)Ph=oa[--aa],oa[aa]=null,Nh=oa[--aa],oa[aa]=null;for(;t===lo;)lo=On[--Ln],On[Ln]=null,Qr=On[--Ln],On[Ln]=null,Gr=On[--Ln],On[Ln]=null}var In=null,Sn=null,He=!1,Zn=null;function tS(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function I_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Sn=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:Gr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Sn=null,!0):!1;default:return!1}}function Ug(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zg(t){if(He){var e=Sn;if(e){var n=e;if(!I_(t,e)){if(Ug(t))throw Error(X(418));e=ni(n.nextSibling);var r=In;e&&I_(t,e)?tS(r,n):(t.flags=t.flags&-4097|2,He=!1,In=t)}}else{if(Ug(t))throw Error(X(418));t.flags=t.flags&-4097|2,He=!1,In=t}}}function A_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function vd(t){if(t!==In)return!1;if(!He)return A_(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lg(t.type,t.memoizedProps)),e&&(e=Sn)){if(Ug(t))throw nS(),Error(X(418));for(;e;)tS(t,e),e=ni(e.nextSibling)}if(A_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=In?ni(t.stateNode.nextSibling):null;return!0}function nS(){for(var t=Sn;t;)t=ni(t.nextSibling)}function $a(){Sn=In=null,He=!1}function Fy(t){Zn===null?Zn=[t]:Zn.push(t)}var gM=ps.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function yd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P_(t){var e=t._init;return e(t._payload)}function rS(t){function e(x,w){if(t){var T=x.deletions;T===null?(x.deletions=[w],x.flags|=16):T.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=oi(x,w),x.index=0,x.sibling=null,x}function i(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags|=2,w):T):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,T,N){return w===null||w.tag!==6?(w=Pm(T,x.mode,N),w.return=x,w):(w=s(w,T),w.return=x,w)}function c(x,w,T,N){var j=T.type;return j===ea?h(x,w,T.props.children,N,T.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Os&&P_(j)===w.type)?(N=s(w,T.props),N.ref=Hl(x,w,T),N.return=x,N):(N=eh(T.type,T.key,T.props,null,x.mode,N),N.ref=Hl(x,w,T),N.return=x,N)}function d(x,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Nm(T,x.mode,N),w.return=x,w):(w=s(w,T.children||[]),w.return=x,w)}function h(x,w,T,N,j){return w===null||w.tag!==7?(w=io(T,x.mode,N,j),w.return=x,w):(w=s(w,T),w.return=x,w)}function p(x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pm(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:return T=eh(w.type,w.key,w.props,null,x.mode,T),T.ref=Hl(x,null,w),T.return=x,T;case Zo:return w=Nm(w,x.mode,T),w.return=x,w;case Os:var N=w._init;return p(x,N(w._payload),T)}if(Jl(w)||$l(w))return w=io(w,x.mode,T,null),w.return=x,w;yd(x,w)}return null}function m(x,w,T,N){var j=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(x,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ad:return T.key===j?c(x,w,T,N):null;case Zo:return T.key===j?d(x,w,T,N):null;case Os:return j=T._init,m(x,w,j(T._payload),N)}if(Jl(T)||$l(T))return j!==null?null:h(x,w,T,N,null);yd(x,T)}return null}function y(x,w,T,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(w,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ad:return x=x.get(N.key===null?T:N.key)||null,c(w,x,N,j);case Zo:return x=x.get(N.key===null?T:N.key)||null,d(w,x,N,j);case Os:var L=N._init;return y(x,w,T,L(N._payload),j)}if(Jl(N)||$l(N))return x=x.get(T)||null,h(w,x,N,j,null);yd(w,N)}return null}function _(x,w,T,N){for(var j=null,L=null,C=w,S=w=0,P=null;C!==null&&S<T.length;S++){C.index>S?(P=C,C=null):P=C.sibling;var A=m(x,C,T[S],N);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(x,C),w=i(A,w,S),L===null?j=A:L.sibling=A,L=A,C=P}if(S===T.length)return n(x,C),He&&Wi(x,S),j;if(C===null){for(;S<T.length;S++)C=p(x,T[S],N),C!==null&&(w=i(C,w,S),L===null?j=C:L.sibling=C,L=C);return He&&Wi(x,S),j}for(C=r(x,C);S<T.length;S++)P=y(C,x,S,T[S],N),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),w=i(P,w,S),L===null?j=P:L.sibling=P,L=P);return t&&C.forEach(function(D){return e(x,D)}),He&&Wi(x,S),j}function v(x,w,T,N){var j=$l(T);if(typeof j!="function")throw Error(X(150));if(T=j.call(T),T==null)throw Error(X(151));for(var L=j=null,C=w,S=w=0,P=null,A=T.next();C!==null&&!A.done;S++,A=T.next()){C.index>S?(P=C,C=null):P=C.sibling;var D=m(x,C,A.value,N);if(D===null){C===null&&(C=P);break}t&&C&&D.alternate===null&&e(x,C),w=i(D,w,S),L===null?j=D:L.sibling=D,L=D,C=P}if(A.done)return n(x,C),He&&Wi(x,S),j;if(C===null){for(;!A.done;S++,A=T.next())A=p(x,A.value,N),A!==null&&(w=i(A,w,S),L===null?j=A:L.sibling=A,L=A);return He&&Wi(x,S),j}for(C=r(x,C);!A.done;S++,A=T.next())A=y(C,x,S,A.value,N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),w=i(A,w,S),L===null?j=A:L.sibling=A,L=A);return t&&C.forEach(function(O){return e(x,O)}),He&&Wi(x,S),j}function E(x,w,T,N){if(typeof T=="object"&&T!==null&&T.type===ea&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ad:e:{for(var j=T.key,L=w;L!==null;){if(L.key===j){if(j=T.type,j===ea){if(L.tag===7){n(x,L.sibling),w=s(L,T.props.children),w.return=x,x=w;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Os&&P_(j)===L.type){n(x,L.sibling),w=s(L,T.props),w.ref=Hl(x,L,T),w.return=x,x=w;break e}n(x,L);break}else e(x,L);L=L.sibling}T.type===ea?(w=io(T.props.children,x.mode,N,T.key),w.return=x,x=w):(N=eh(T.type,T.key,T.props,null,x.mode,N),N.ref=Hl(x,w,T),N.return=x,x=N)}return o(x);case Zo:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=s(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Nm(T,x.mode,N),w.return=x,x=w}return o(x);case Os:return L=T._init,E(x,w,L(T._payload),N)}if(Jl(T))return _(x,w,T,N);if($l(T))return v(x,w,T,N);yd(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,T),w.return=x,x=w):(n(x,w),w=Pm(T,x.mode,N),w.return=x,x=w),o(x)):n(x,w)}return E}var Ua=rS(!0),sS=rS(!1),Rh=Ai(null),kh=null,la=null,Vy=null;function $y(){Vy=la=kh=null}function Uy(t){var e=Rh.current;We(Rh),t._currentValue=e}function Bg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ga(t,e){kh=t,Vy=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(Vy!==t)if(t={context:t,memoizedValue:e,next:null},la===null){if(kh===null)throw Error(X(308));la=t,kh.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return e}var Qi=null;function zy(t){Qi===null?Qi=[t]:Qi.push(t)}function iS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zy(e)):(n.next=s.next,s.next=n),e.interleaved=n,ns(t,r)}function ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ns(t,n)}return s=r.interleaved,s===null?(e.next=e,zy(r)):(e.next=s.next,s.next=e),r.interleaved=e,ns(t,n)}function Gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ay(t,n)}}function N_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var s=t.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,h=d=c=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(m=e,y=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){p=_.call(y,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,m=typeof _=="function"?_.call(y,p,m):_,m==null)break e;p=Xe({},p,m);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,c=p):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);uo|=o,t.lanes=o,t.memoizedState=p}}function R_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var vu={},Ir=Ai(vu),Vc=Ai(vu),$c=Ai(vu);function Yi(t){if(t===vu)throw Error(X(174));return t}function Wy(t,e){switch($e($c,e),$e(Vc,t),$e(Ir,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bg(e,t)}We(Ir),$e(Ir,e)}function za(){We(Ir),We(Vc),We($c)}function aS(t){Yi($c.current);var e=Yi(Ir.current),n=bg(e,t.type);e!==n&&($e(Vc,t),$e(Ir,n))}function Hy(t){Vc.current===t&&(We(Ir),We(Vc))}var qe=Ai(0);function jh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function Ky(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var Qd=ps.ReactCurrentDispatcher,Tm=ps.ReactCurrentBatchConfig,co=0,Qe=null,ft=null,_t=null,Mh=!1,gc=!1,Uc=0,vM=0;function Ft(){throw Error(X(321))}function qy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function Gy(t,e,n,r,s,i){if(co=i,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?_M:EM,t=n(r,s),gc){i=0;do{if(gc=!1,Uc=0,25<=i)throw Error(X(301));i+=1,_t=ft=null,e.updateQueue=null,Qd.current=bM,t=n(r,s)}while(gc)}if(Qd.current=Oh,e=ft!==null&&ft.next!==null,co=0,_t=ft=Qe=null,Mh=!1,e)throw Error(X(300));return t}function Qy(){var t=Uc!==0;return Uc=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Qe.memoizedState=_t=t:_t=_t.next=t,_t}function Wn(){if(ft===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=_t===null?Qe.memoizedState:_t.next;if(e!==null)_t=e,ft=t;else{if(t===null)throw Error(X(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},_t===null?Qe.memoizedState=_t=t:_t=_t.next=t}return _t}function zc(t,e){return typeof e=="function"?e(t):e}function Sm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((co&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Qe.lanes|=h,uo|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,ar(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qe.lanes|=i,uo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lS(){}function cS(t,e){var n=Qe,r=Wn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,pn=!0),r=r.queue,Yy(hS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Bc(9,dS.bind(null,n,r,s,e),void 0,null),Et===null)throw Error(X(349));co&30||uS(n,e,s)}return s}function uS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dS(t,e,n,r){e.value=n,e.getSnapshot=r,fS(e)&&pS(t)}function hS(t,e,n){return n(function(){fS(e)&&pS(t)})}function fS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function pS(t){var e=ns(t,1);e!==null&&ir(e,t,1,-1)}function k_(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=xM.bind(null,Qe,t),[e.memoizedState,t]}function Bc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mS(){return Wn().memoizedState}function Yd(t,e,n,r){var s=gr();Qe.flags|=t,s.memoizedState=Bc(1|e,n,void 0,r===void 0?null:r)}function jf(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&qy(r,o.deps)){s.memoizedState=Bc(e,n,i,r);return}}Qe.flags|=t,s.memoizedState=Bc(1|e,n,i,r)}function D_(t,e){return Yd(8390656,8,t,e)}function Yy(t,e){return jf(2048,8,t,e)}function gS(t,e){return jf(4,2,t,e)}function vS(t,e){return jf(4,4,t,e)}function yS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wS(t,e,n){return n=n!=null?n.concat([t]):null,jf(4,4,yS.bind(null,e,t),n)}function Xy(){}function xS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _S(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ES(t,e,n){return co&21?(ar(n,e)||(n=IT(),Qe.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function yM(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Tm.transition;Tm.transition={};try{t(!1),e()}finally{Le=n,Tm.transition=r}}function bS(){return Wn().memoizedState}function wM(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TS(t))SS(e,n);else if(n=iS(t,e,n,r),n!==null){var s=rn();ir(n,t,r,s),CS(n,e,r)}}function xM(t,e,n){var r=ii(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TS(t))SS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var c=e.interleaved;c===null?(s.next=s,zy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=iS(t,e,s,r),n!==null&&(s=rn(),ir(n,t,r,s),CS(n,e,r))}}function TS(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function SS(t,e){gc=Mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ay(t,n)}}var Oh={readContext:Bn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},_M={readContext:Bn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:D_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4194308,4,yS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wM.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:k_,useDebugValue:Xy,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=k_(!1),e=t[0];return t=yM.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=gr();if(He){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Et===null)throw Error(X(349));co&30||uS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,D_(hS.bind(null,r,i,t),[t]),r.flags|=2048,Bc(9,dS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gr(),e=Et.identifierPrefix;if(He){var n=Qr,r=Gr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EM={readContext:Bn,useCallback:xS,useContext:Bn,useEffect:Yy,useImperativeHandle:wS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:_S,useReducer:Sm,useRef:mS,useState:function(){return Sm(zc)},useDebugValue:Xy,useDeferredValue:function(t){var e=Wn();return ES(e,ft.memoizedState,t)},useTransition:function(){var t=Sm(zc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:bS,unstable_isNewReconciler:!1},bM={readContext:Bn,useCallback:xS,useContext:Bn,useEffect:Yy,useImperativeHandle:wS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:_S,useReducer:Cm,useRef:mS,useState:function(){return Cm(zc)},useDebugValue:Xy,useDeferredValue:function(t){var e=Wn();return ft===null?e.memoizedState=t:ES(e,ft.memoizedState,t)},useTransition:function(){var t=Cm(zc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:lS,useSyncExternalStore:cS,useId:bS,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mf={isMounted:function(t){return(t=t._reactInternals)?Ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),s=ii(t),i=Jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(ir(e,t,s,r),Gd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),s=ii(t),i=Jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(ir(e,t,s,r),Gd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=ii(t),s=Jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ri(t,s,r),e!==null&&(ir(e,t,r,n),Gd(e,t,r))}};function j_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function IS(t,e,n){var r=!1,s=gi,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=gn(e)?ao:Gt.current,r=e.contextTypes,i=(r=r!=null)?Va(t,s):gi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function M_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mf.enqueueReplaceState(e,e.state,null)}function Hg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},By(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=gn(e)?ao:Gt.current,s.context=Va(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mf.enqueueReplaceState(s,s.state,null),Dh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=X2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Im(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TM=typeof WeakMap=="function"?WeakMap:Map;function AS(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fh||(Fh=!0,nv=r),Kg(t,e)},n}function PS(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kg(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function O_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FM.bind(null,t,e,n),e.then(t,t))}function L_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var SM=ps.ReactCurrentOwner,pn=!1;function tn(t,e,n,r){e.child=t===null?sS(e,null,n,r):Ua(e,t.child,n,r)}function V_(t,e,n,r,s){n=n.render;var i=e.ref;return ga(e,s),r=Gy(t,e,n,r,i,s),n=Qy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rs(t,e,s)):(He&&n&&Oy(e),e.flags|=1,tn(t,e,r,s),e.child)}function $_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!i0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,NS(t,e,i,r,s)):(t=eh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return rs(t,e,s)}return e.flags|=1,t=oi(i,r),t.ref=e.ref,t.return=e,e.child=t}function NS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,rs(t,e,s)}return qg(t,e,n,r,s)}function RS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ua,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(ua,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(ua,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(ua,En),En|=r;return tn(t,e,s,n),e.child}function kS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qg(t,e,n,r,s){var i=gn(n)?ao:Gt.current;return i=Va(e,i),ga(e,s),n=Gy(t,e,n,r,i,s),r=Qy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rs(t,e,s)):(He&&r&&Oy(e),e.flags|=1,tn(t,e,n,s),e.child)}function U_(t,e,n,r,s){if(gn(n)){var i=!0;Ah(e)}else i=!1;if(ga(e,s),e.stateNode===null)Xd(t,e),IS(e,n,r),Hg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bn(d):(d=gn(n)?ao:Gt.current,d=Va(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&M_(e,o,r,d),Ls=!1;var m=e.memoizedState;o.state=m,Dh(e,r,o,s),c=e.memoizedState,a!==r||m!==c||mn.current||Ls?(typeof h=="function"&&(Wg(e,n,h,r),c=e.memoizedState),(a=Ls||j_(e,n,a,r,m,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Qn(e.type,a),o.props=d,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=gn(n)?ao:Gt.current,c=Va(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&M_(e,o,r,c),Ls=!1,m=e.memoizedState,o.state=m,Dh(e,r,o,s);var _=e.memoizedState;a!==p||m!==_||mn.current||Ls?(typeof y=="function"&&(Wg(e,n,y,r),_=e.memoizedState),(d=Ls||j_(e,n,d,r,m,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Gg(t,e,n,r,i,s)}function Gg(t,e,n,r,s,i){kS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&C_(e,n,!1),rs(t,e,i);r=e.stateNode,SM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ua(e,t.child,null,i),e.child=Ua(e,null,a,i)):tn(t,e,a,i),e.memoizedState=r.state,s&&C_(e,n,!0),e.child}function DS(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),Wy(t,e.containerInfo)}function z_(t,e,n,r,s){return $a(),Fy(s),e.flags|=256,tn(t,e,n,r),e.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function jS(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(qe,s&1),t===null)return zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ff(o,r,0,null),t=io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yg(n),e.memoizedState=Qg,t):Jy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return CM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=oi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=oi(a,i):(i=io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qg,r}return i=t.child,t=i.sibling,r=oi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jy(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wd(t,e,n,r){return r!==null&&Fy(r),Ua(e,t.child,null,n),t=Jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Im(Error(X(422))),wd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ff({mode:"visible",children:r.children},s,0,null),i=io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ua(e,t.child,null,o),e.child.memoizedState=Yg(o),e.memoizedState=Qg,i);if(!(e.mode&1))return wd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Im(i,r,void 0),wd(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ns(t,s),ir(r,t,s,-1))}return s0(),r=Im(Error(X(421))),wd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=ni(s.nextSibling),In=e,He=!0,Zn=null,t!==null&&(On[Ln++]=Gr,On[Ln++]=Qr,On[Ln++]=lo,Gr=t.id,Qr=t.overflow,lo=e),e=Jy(e,r.children),e.flags|=4096,e)}function B_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bg(t.return,e,n)}function Am(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function MS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(tn(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,n,e);else if(t.tag===19)B_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&jh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Am(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Am(e,!0,n,null,i);break;case"together":Am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IM(t,e,n){switch(e.tag){case 3:DS(e),$a();break;case 5:aS(e);break;case 1:gn(e.type)&&Ah(e);break;case 4:Wy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(Rh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?jS(t,e,n):($e(qe,qe.current&1),t=rs(t,e,n),t!==null?t.sibling:null);$e(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,RS(t,e,n)}return rs(t,e,n)}var OS,Xg,LS,FS;OS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xg=function(){};LS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yi(Ir.current);var i=null;switch(n){case"input":s=wg(t,s),r=wg(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Eg(t,s),r=Eg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ch)}Tg(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ac.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};FS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AM(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return gn(e.type)&&Ih(),Vt(e),null;case 3:return r=e.stateNode,za(),We(mn),We(Gt),Ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(iv(Zn),Zn=null))),Xg(t,e),Vt(e),null;case 5:Hy(e);var s=Yi($c.current);if(n=e.type,t!==null&&e.stateNode!=null)LS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Vt(e),null}if(t=Yi(Ir.current),vd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[Fc]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)Be(ec[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Jx(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":e_(r,i),Be("invalid",r)}Tg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&gd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&gd(r.textContent,a,t),s=["children",""+a]):Ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":ld(r),Zx(r,i,!0);break;case"textarea":ld(r),t_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ch)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[Fc]=r,OS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sg(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)Be(ec[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Jx(t,r),s=wg(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":e_(t,r),s=Eg(t,r),Be("invalid",t);break;default:s=r}Tg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?mT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pc(t,c):typeof c=="number"&&Pc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ac.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",t):c!=null&&Ey(t,i,c,o))}switch(n){case"input":ld(t),Zx(t,r,!1);break;case"textarea":ld(t),t_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ha(t,!!r.multiple,i,!1):r.defaultValue!=null&&ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)FS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Yi($c.current),Yi(Ir.current),vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:gd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Sn!==null&&e.mode&1&&!(e.flags&128))nS(),$a(),e.flags|=98560,i=!1;else if(i=vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[_r]=e}else $a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Zn!==null&&(iv(Zn),Zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?mt===0&&(mt=3):s0())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return za(),Xg(t,e),t===null&&Oc(e.stateNode.containerInfo),Vt(e),null;case 10:return Uy(e.type._context),Vt(e),null;case 17:return gn(e.type)&&Ih(),Vt(e),null;case 19:if(We(qe),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Kl(i,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jh(t),o!==null){for(e.flags|=128,Kl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Wa&&(e.flags|=128,r=!0,Kl(i,!1),e.lanes=4194304)}else{if(!r)if(t=jh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Vt(e),null}else 2*lt()-i.renderingStartTime>Wa&&n!==1073741824&&(e.flags|=128,r=!0,Kl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=qe.current,$e(qe,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return r0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function PM(t,e){switch(Ly(e),e.tag){case 1:return gn(e.type)&&Ih(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),We(mn),We(Gt),Ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hy(e),null;case 13:if(We(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));$a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(qe),null;case 4:return za(),null;case 10:return Uy(e.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var xd=!1,Bt=!1,NM=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Jg(t,e,n){try{n()}catch(r){rt(t,e,r)}}var W_=!1;function RM(t,e){if(Mg=bh,t=BT(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,p=t,m=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Og={focusedElem:t,selectionRange:n},bh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,E=_.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qn(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(N){rt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return _=W_,W_=!1,_}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jg(e,n,i)}s=s.next}while(s!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VS(t){var e=t.alternate;e!==null&&(t.alternate=null,VS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Fc],delete e[Vg],delete e[fM],delete e[pM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $S(t){return t.tag===5||t.tag===3||t.tag===4}function H_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$S(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ch));else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}var Ct=null,Jn=!1;function As(t,e,n){for(n=n.child;n!==null;)US(t,e,n),n=n.sibling}function US(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Af,n)}catch{}switch(n.tag){case 5:Bt||ca(n,e);case 6:var r=Ct,s=Jn;Ct=null,As(t,e,n),Ct=r,Jn=s,Ct!==null&&(Jn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Jn?(t=Ct,n=n.stateNode,t.nodeType===8?_m(t.parentNode,n):t.nodeType===1&&_m(t,n),Dc(t)):_m(Ct,n.stateNode));break;case 4:r=Ct,s=Jn,Ct=n.stateNode.containerInfo,Jn=!0,As(t,e,n),Ct=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jg(n,e,o),s=s.next}while(s!==r)}As(t,e,n);break;case 1:if(!Bt&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}As(t,e,n);break;case 21:As(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,As(t,e,n),Bt=r):As(t,e,n);break;default:As(t,e,n)}}function K_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NM),e.forEach(function(r){var s=$M.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Jn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Jn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Ct===null)throw Error(X(160));US(i,o,s),Ct=null,Jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){rt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zS(e,t),e=e.sibling}function zS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),pr(t),r&4){try{vc(3,t,t.return),Of(3,t)}catch(v){rt(t,t.return,v)}try{vc(5,t,t.return)}catch(v){rt(t,t.return,v)}}break;case 1:qn(e,t),pr(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(qn(e,t),pr(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var s=t.stateNode;try{Pc(s,"")}catch(v){rt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&uT(s,i),Sg(a,o);var d=Sg(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?mT(s,p):h==="dangerouslySetInnerHTML"?fT(s,p):h==="children"?Pc(s,p):Ey(s,h,p,d)}switch(a){case"input":xg(s,i);break;case"textarea":dT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ha(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ha(s,!!i.multiple,i.defaultValue,!0):ha(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fc]=i}catch(v){rt(t,t.return,v)}}break;case 6:if(qn(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){rt(t,t.return,v)}}break;case 3:if(qn(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){rt(t,t.return,v)}break;case 4:qn(e,t),pr(t);break;case 13:qn(e,t),pr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(t0=lt())),r&4&&K_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(d=Bt)||h,qn(e,t),Bt=d):qn(e,t),pr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ae=t,h=t.child;h!==null;){for(p=ae=h;ae!==null;){switch(m=ae,y=m.child,m.tag){case 0:case 11:case 14:case 15:vc(4,m,m.return);break;case 1:ca(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){rt(r,n,v)}}break;case 5:ca(m,m.return);break;case 22:if(m.memoizedState!==null){G_(p);continue}}y!==null?(y.return=m,ae=y):G_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=pT("display",o))}catch(v){rt(t,t.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){rt(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:qn(e,t),pr(t),r&4&&K_(t);break;case 21:break;default:qn(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($S(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pc(s,""),r.flags&=-33);var i=H_(t);tv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=H_(t);ev(t,a,o);break;default:throw Error(X(161))}}catch(c){rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kM(t,e,n){ae=t,BS(t)}function BS(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xd;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Bt;a=xd;var d=Bt;if(xd=o,(Bt=c)&&!d)for(ae=s;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?Q_(s):c!==null?(c.return=o,ae=c):Q_(s);for(;i!==null;)ae=i,BS(i),i=i.sibling;ae=s,xd=a,Bt=d}q_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):q_(t)}}function q_(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&R_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}R_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Dc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Bt||e.flags&512&&Zg(e)}catch(m){rt(e,e.return,m)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function G_(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Q_(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(c){rt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){rt(e,s,c)}}var i=e.return;try{Zg(e)}catch(c){rt(e,i,c)}break;case 5:var o=e.return;try{Zg(e)}catch(c){rt(e,o,c)}}}catch(c){rt(e,e.return,c)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var DM=Math.ceil,Lh=ps.ReactCurrentDispatcher,Zy=ps.ReactCurrentOwner,$n=ps.ReactCurrentBatchConfig,ke=0,Et=null,dt=null,Nt=0,En=0,ua=Ai(0),mt=0,Wc=null,uo=0,Lf=0,e0=0,yc=null,hn=null,t0=0,Wa=1/0,Kr=null,Fh=!1,nv=null,si=null,_d=!1,Ys=null,Vh=0,wc=0,rv=null,Jd=-1,Zd=0;function rn(){return ke&6?lt():Jd!==-1?Jd:Jd=lt()}function ii(t){return t.mode&1?ke&2&&Nt!==0?Nt&-Nt:gM.transition!==null?(Zd===0&&(Zd=IT()),Zd):(t=Le,t!==0||(t=window.event,t=t===void 0?16:jT(t.type)),t):1}function ir(t,e,n,r){if(50<wc)throw wc=0,rv=null,Error(X(185));pu(t,n,r),(!(ke&2)||t!==Et)&&(t===Et&&(!(ke&2)&&(Lf|=n),mt===4&&Vs(t,Nt)),vn(t,r),n===1&&ke===0&&!(e.mode&1)&&(Wa=lt()+500,Df&&Pi()))}function vn(t,e){var n=t.callbackNode;gj(t,e);var r=Eh(t,t===Et?Nt:0);if(r===0)n!==null&&s_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s_(n),e===1)t.tag===0?mM(Y_.bind(null,t)):ZT(Y_.bind(null,t)),dM(function(){!(ke&6)&&Pi()}),n=null;else{switch(AT(r)){case 1:n=Iy;break;case 4:n=ST;break;case 16:n=_h;break;case 536870912:n=CT;break;default:n=_h}n=XS(n,WS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WS(t,e){if(Jd=-1,Zd=0,ke&6)throw Error(X(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=Eh(t,t===Et?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$h(t,r);else{e=r;var s=ke;ke|=2;var i=KS();(Et!==t||Nt!==e)&&(Kr=null,Wa=lt()+500,so(t,e));do try{OM();break}catch(a){HS(t,a)}while(!0);$y(),Lh.current=i,ke=s,dt!==null?e=0:(Et=null,Nt=0,e=mt)}if(e!==0){if(e===2&&(s=Ng(t),s!==0&&(r=s,e=sv(t,s))),e===1)throw n=Wc,so(t,0),Vs(t,r),vn(t,lt()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!jM(s)&&(e=$h(t,r),e===2&&(i=Ng(t),i!==0&&(r=i,e=sv(t,i))),e===1))throw n=Wc,so(t,0),Vs(t,r),vn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Hi(t,hn,Kr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=t0+500-lt(),10<e)){if(Eh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fg(Hi.bind(null,t,hn,Kr),e);break}Hi(t,hn,Kr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DM(r/1960))-r,10<r){t.timeoutHandle=Fg(Hi.bind(null,t,hn,Kr),r);break}Hi(t,hn,Kr);break;case 5:Hi(t,hn,Kr);break;default:throw Error(X(329))}}}return vn(t,lt()),t.callbackNode===n?WS.bind(null,t):null}function sv(t,e){var n=yc;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=$h(t,e),t!==2&&(e=hn,hn=n,e!==null&&iv(e)),t}function iv(t){hn===null?hn=t:hn.push.apply(hn,t)}function jM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~e0,e&=~Lf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function Y_(t){if(ke&6)throw Error(X(327));va();var e=Eh(t,0);if(!(e&1))return vn(t,lt()),null;var n=$h(t,e);if(t.tag!==0&&n===2){var r=Ng(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=Wc,so(t,0),Vs(t,e),vn(t,lt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,hn,Kr),vn(t,lt()),null}function n0(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Wa=lt()+500,Df&&Pi())}}function ho(t){Ys!==null&&Ys.tag===0&&!(ke&6)&&va();var e=ke;ke|=1;var n=$n.transition,r=Le;try{if($n.transition=null,Le=1,t)return t()}finally{Le=r,$n.transition=n,ke=e,!(ke&6)&&Pi()}}function r0(){En=ua.current,We(ua)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uM(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ih();break;case 3:za(),We(mn),We(Gt),Ky();break;case 5:Hy(r);break;case 4:za();break;case 13:We(qe);break;case 19:We(qe);break;case 10:Uy(r.type._context);break;case 22:case 23:r0()}n=n.return}if(Et=t,dt=t=oi(t.current,null),Nt=En=e,mt=0,Wc=null,e0=Lf=uo=0,hn=yc=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qi=null}return t}function HS(t,e){do{var n=dt;try{if($y(),Qd.current=Oh,Mh){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Mh=!1}if(co=0,_t=ft=Qe=null,gc=!1,Uc=0,Zy.current=null,n===null||n.return===null){mt=1,Wc=e,dt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Nt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=L_(o);if(y!==null){y.flags&=-257,F_(y,o,a,i,e),y.mode&1&&O_(i,d,e),e=y,c=d;var _=e.updateQueue;if(_===null){var v=new Set;v.add(c),e.updateQueue=v}else _.add(c);break e}else{if(!(e&1)){O_(i,d,e),s0();break e}c=Error(X(426))}}else if(He&&a.mode&1){var E=L_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),F_(E,o,a,i,e),Fy(Ba(c,a));break e}}i=c=Ba(c,a),mt!==4&&(mt=2),yc===null?yc=[i]:yc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=AS(i,c,e);N_(i,x);break e;case 1:a=c;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(si===null||!si.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=PS(i,a,e);N_(i,N);break e}}i=i.return}while(i!==null)}GS(n)}catch(j){e=j,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function KS(){var t=Lh.current;return Lh.current=Oh,t===null?Oh:t}function s0(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(uo&268435455)&&!(Lf&268435455)||Vs(Et,Nt)}function $h(t,e){var n=ke;ke|=2;var r=KS();(Et!==t||Nt!==e)&&(Kr=null,so(t,e));do try{MM();break}catch(s){HS(t,s)}while(!0);if($y(),ke=n,Lh.current=r,dt!==null)throw Error(X(261));return Et=null,Nt=0,mt}function MM(){for(;dt!==null;)qS(dt)}function OM(){for(;dt!==null&&!aj();)qS(dt)}function qS(t){var e=YS(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?GS(t):dt=e,Zy.current=null}function GS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PM(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,dt=null;return}}else if(n=AM(n,e,En),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);mt===0&&(mt=5)}function Hi(t,e,n){var r=Le,s=$n.transition;try{$n.transition=null,Le=1,LM(t,e,n,r)}finally{$n.transition=s,Le=r}return null}function LM(t,e,n,r){do va();while(Ys!==null);if(ke&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vj(t,i),t===Et&&(dt=Et=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,XS(_h,function(){return va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$n.transition,$n.transition=null;var o=Le;Le=1;var a=ke;ke|=4,Zy.current=null,RM(t,n),zS(n,t),rM(Og),bh=!!Mg,Og=Mg=null,t.current=n,kM(n),lj(),ke=a,Le=o,$n.transition=i}else t.current=n;if(_d&&(_d=!1,Ys=t,Vh=s),i=t.pendingLanes,i===0&&(si=null),dj(n.stateNode),vn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fh)throw Fh=!1,t=nv,nv=null,t;return Vh&1&&t.tag!==0&&va(),i=t.pendingLanes,i&1?t===rv?wc++:(wc=0,rv=t):wc=0,Pi(),null}function va(){if(Ys!==null){var t=AT(Vh),e=$n.transition,n=Le;try{if($n.transition=null,Le=16>t?16:t,Ys===null)var r=!1;else{if(t=Ys,Ys=null,Vh=0,ke&6)throw Error(X(331));var s=ke;for(ke|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ae=d;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:vc(8,h,i)}var p=h.child;if(p!==null)p.return=h,ae=p;else for(;ae!==null;){h=ae;var m=h.sibling,y=h.return;if(VS(h),h===d){ae=null;break}if(m!==null){m.return=y,ae=m;break}ae=y}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ae=x;break e}ae=i.return}}var w=t.current;for(ae=w;ae!==null;){o=ae;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ae=T;else e:for(o=w;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(j){rt(a,a.return,j)}if(a===o){ae=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ae=N;break e}ae=a.return}}if(ke=s,Pi(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Af,t)}catch{}r=!0}return r}finally{Le=n,$n.transition=e}}return!1}function X_(t,e,n){e=Ba(n,e),e=AS(t,e,1),t=ri(t,e,1),e=rn(),t!==null&&(pu(t,1,e),vn(t,e))}function rt(t,e,n){if(t.tag===3)X_(t,t,n);else for(;e!==null;){if(e.tag===3){X_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=Ba(n,t),t=PS(e,t,1),e=ri(e,t,1),t=rn(),e!==null&&(pu(e,1,t),vn(e,t));break}}e=e.return}}function FM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Nt&n)===n&&(mt===4||mt===3&&(Nt&130023424)===Nt&&500>lt()-t0?so(t,0):e0|=n),vn(t,e)}function QS(t,e){e===0&&(t.mode&1?(e=dd,dd<<=1,!(dd&130023424)&&(dd=4194304)):e=1);var n=rn();t=ns(t,e),t!==null&&(pu(t,e,n),vn(t,n))}function VM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QS(t,n)}function $M(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),QS(t,n)}var YS;YS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,IM(t,e,n);pn=!!(t.flags&131072)}else pn=!1,He&&e.flags&1048576&&eS(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var s=Va(e,Gt.current);ga(e,n),s=Gy(null,e,r,t,s,n);var i=Qy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,Ah(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,By(e),s.updater=Mf,e.stateNode=s,s._reactInternals=e,Hg(e,r,t,n),e=Gg(null,e,r,!0,i,n)):(e.tag=0,He&&i&&Oy(e),tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zM(r),t=Qn(r,t),s){case 0:e=qg(null,e,r,t,n);break e;case 1:e=U_(null,e,r,t,n);break e;case 11:e=V_(null,e,r,t,n);break e;case 14:e=$_(null,e,r,Qn(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),qg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),U_(t,e,r,s,n);case 3:e:{if(DS(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oS(t,e),Dh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ba(Error(X(423)),e),e=z_(t,e,r,n,s);break e}else if(r!==s){s=Ba(Error(X(424)),e),e=z_(t,e,r,n,s);break e}else for(Sn=ni(e.stateNode.containerInfo.firstChild),In=e,He=!0,Zn=null,n=sS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($a(),r===s){e=rs(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return aS(e),t===null&&zg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lg(r,s)?o=null:i!==null&&Lg(r,i)&&(e.flags|=32),kS(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&zg(e),null;case 13:return jS(t,e,n);case 4:return Wy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),V_(t,e,r,s,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(Rh,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!mn.current){e=rs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Bg(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ga(e,n),s=Bn(s),r=r(s),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),$_(t,e,r,s,n);case 15:return NS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Xd(t,e),e.tag=1,gn(r)?(t=!0,Ah(e)):t=!1,ga(e,n),IS(e,r,s),Hg(e,r,s,n),Gg(null,e,r,!0,t,n);case 19:return MS(t,e,n);case 22:return RS(t,e,n)}throw Error(X(156,e.tag))};function XS(t,e){return TT(t,e)}function UM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new UM(t,e,n,r)}function i0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zM(t){if(typeof t=="function")return i0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ty)return 11;if(t===Sy)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")i0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ea:return io(n.children,s,i,e);case by:o=8,s|=8;break;case mg:return t=Fn(12,n,e,s|2),t.elementType=mg,t.lanes=i,t;case gg:return t=Fn(13,n,e,s),t.elementType=gg,t.lanes=i,t;case vg:return t=Fn(19,n,e,s),t.elementType=vg,t.lanes=i,t;case aT:return Ff(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iT:o=10;break e;case oT:o=9;break e;case Ty:o=11;break e;case Sy:o=14;break e;case Os:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function io(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Ff(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=aT,t.lanes=n,t.stateNode={isHidden:!1},t}function Pm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Nm(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=um(0),this.expirationTimes=um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=um(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function o0(t,e,n,r,s,i,o,a,c){return t=new BM(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),t}function WM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JS(t){if(!t)return gi;t=t._reactInternals;e:{if(Ao(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(gn(n))return JT(t,n,e)}return e}function ZS(t,e,n,r,s,i,o,a,c){return t=o0(n,r,!0,t,s,i,o,a,c),t.context=JS(null),n=t.current,r=rn(),s=ii(n),i=Jr(r,s),i.callback=e??null,ri(n,i,s),t.current.lanes=s,pu(t,s,r),vn(t,r),t}function Vf(t,e,n,r){var s=e.current,i=rn(),o=ii(s);return n=JS(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(s,e,o),t!==null&&(ir(t,s,o,i),Gd(t,s,o)),o}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a0(t,e){J_(t,e),(t=t.alternate)&&J_(t,e)}function HM(){return null}var eC=typeof reportError=="function"?reportError:function(t){console.error(t)};function l0(t){this._internalRoot=t}$f.prototype.render=l0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Vf(t,e,null,null)};$f.prototype.unmount=l0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Vf(null,t,null,null)}),e[ts]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var e=RT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&DT(t)}};function c0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z_(){}function KM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Uh(o);i.call(d)}}var o=ZS(e,r,t,0,null,!1,!1,"",Z_);return t._reactRootContainer=o,t[ts]=o.current,Oc(t.nodeType===8?t.parentNode:t),ho(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Uh(c);a.call(d)}}var c=o0(t,0,!1,null,null,!1,!1,"",Z_);return t._reactRootContainer=c,t[ts]=c.current,Oc(t.nodeType===8?t.parentNode:t),ho(function(){Vf(e,c,n,r)}),c}function zf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Uh(o);a.call(c)}}Vf(e,o,t,s)}else o=KM(n,e,t,s,r);return Uh(o)}PT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(Ay(e,n|1),vn(e,lt()),!(ke&6)&&(Wa=lt()+500,Pi()))}break;case 13:ho(function(){var r=ns(t,1);if(r!==null){var s=rn();ir(r,t,1,s)}}),a0(t,1)}};Py=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var n=rn();ir(e,t,134217728,n)}a0(t,134217728)}};NT=function(t){if(t.tag===13){var e=ii(t),n=ns(t,e);if(n!==null){var r=rn();ir(n,t,e,r)}a0(t,e)}};RT=function(){return Le};kT=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Ig=function(t,e,n){switch(e){case"input":if(xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kf(r);if(!s)throw Error(X(90));cT(r),xg(r,s)}}}break;case"textarea":dT(t,n);break;case"select":e=n.value,e!=null&&ha(t,!!n.multiple,e,!1)}};yT=n0;wT=ho;var qM={usingClientEntryPoint:!1,Events:[gu,sa,kf,gT,vT,n0]},ql={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GM={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ET(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||HM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{Af=Ed.inject(GM),Cr=Ed}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(e))throw Error(X(200));return WM(t,e,null,n)};kn.createRoot=function(t,e){if(!c0(t))throw Error(X(299));var n=!1,r="",s=eC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=o0(t,1,!1,null,null,n,!1,r,s),t[ts]=e.current,Oc(t.nodeType===8?t.parentNode:t),new l0(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=ET(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return ho(t)};kn.hydrate=function(t,e,n){if(!Uf(e))throw Error(X(200));return zf(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!c0(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=eC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZS(e,null,t,1,n??null,s,!1,i,o),t[ts]=e.current,Oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $f(e)};kn.render=function(t,e,n){if(!Uf(e))throw Error(X(200));return zf(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Uf(t))throw Error(X(40));return t._reactRootContainer?(ho(function(){zf(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};kn.unstable_batchedUpdates=n0;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uf(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return zf(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function tC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tC)}catch(t){console.error(t)}}tC(),tT.exports=kn;var ms=tT.exports;const u0=B1(ms);var nC,eE=ms;nC=eE.createRoot,eE.hydrateRoot;const QM=1,YM=1e6;let Rm=0;function XM(){return Rm=(Rm+1)%Number.MAX_SAFE_INTEGER,Rm.toString()}const km=new Map,tE=t=>{if(km.has(t))return;const e=setTimeout(()=>{km.delete(t),xc({type:"REMOVE_TOAST",toastId:t})},YM);km.set(t,e)},JM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tE(n):t.toasts.forEach(r=>{tE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},th=[];let nh={toasts:[]};function xc(t){nh=JM(nh,t),th.forEach(e=>{e(nh)})}function ZM({...t}){const e=XM(),n=s=>xc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xc({type:"DISMISS_TOAST",toastId:e});return xc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function d0(){const[t,e]=f.useState(nh);return f.useEffect(()=>(th.push(e),()=>{const n=th.indexOf(e);n>-1&&th.splice(n,1)}),[t]),{...t,toast:ZM,dismiss:n=>xc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function eO(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Bf(...t){return e=>t.forEach(n=>eO(n,e))}function Ne(...t){return f.useCallback(Bf(...t),t)}function tO(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];function d(p){const{scope:m,children:y,..._}=p,v=(m==null?void 0:m[t][c])||a,E=f.useMemo(()=>_,Object.values(_));return l.jsx(v.Provider,{value:E,children:y})}function h(p,m){const y=(m==null?void 0:m[t][c])||a,_=f.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,nO(s,...e)]}function nO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ss=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(rO);if(i){const o=i.props.children,a=s.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return l.jsx(ov,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,a):null})}return l.jsx(ov,{...r,ref:e,children:n})});ss.displayName="Slot";var ov=f.forwardRef((t,e)=>{const{children:n,...r}=t;if(f.isValidElement(n)){const s=iO(n);return f.cloneElement(n,{...sO(r,n.props),ref:e?Bf(e,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});ov.displayName="SlotClone";var rC=({children:t})=>l.jsx(l.Fragment,{children:t});function rO(t){return f.isValidElement(t)&&t.type===rC}function sO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function iO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wf(t){const e=t+"CollectionProvider",[n,r]=tO(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:v}=y,E=re.useRef(null),x=re.useRef(new Map).current;return l.jsx(s,{scope:_,itemMap:x,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",c=re.forwardRef((y,_)=>{const{scope:v,children:E}=y,x=i(a,v),w=Ne(_,x.collectionRef);return l.jsx(ss,{ref:w,children:E})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=re.forwardRef((y,_)=>{const{scope:v,children:E,...x}=y,w=re.useRef(null),T=Ne(_,w),N=i(d,v);return re.useEffect(()=>(N.itemMap.set(w,{ref:w,...x}),()=>void N.itemMap.delete(w))),l.jsx(ss,{[h]:"",ref:T,children:E})});p.displayName=d;function m(y){const _=i(t+"CollectionConsumer",y);return re.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((N,j)=>x.indexOf(N.ref.current)-x.indexOf(j.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,r]}function oO(t,e){const n=f.createContext(e),r=i=>{const{children:o,...a}=i,c=f.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function dr(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];const d=p=>{var x;const{scope:m,children:y,..._}=p,v=((x=m==null?void 0:m[t])==null?void 0:x[c])||a,E=f.useMemo(()=>_,Object.values(_));return l.jsx(v.Provider,{value:E,children:y})};d.displayName=i+"Provider";function h(p,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,_=f.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aO(s,...e)]}function aO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=lO.reduce((t,e)=>{const n=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ss:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function h0(t,e){t&&ms.flushSync(()=>t.dispatchEvent(e))}function kt(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function cO(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uO="DismissableLayer",av="dismissableLayer.update",dO="dismissableLayer.pointerDownOutside",hO="dismissableLayer.focusOutside",nE,sC=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Po=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=f.useContext(sC),[h,p]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),_=Ne(e,C=>p(C)),v=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),w=h?v.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,j=pO(C=>{const S=C.target,P=[...d.branches].some(A=>A.contains(S));!N||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),L=mO(C=>{const S=C.target;[...d.branches].some(A=>A.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return cO(C=>{w===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),f.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(nE=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),rE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nE)}},[h,m,n,d]),f.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),rE())},[h,d]),f.useEffect(()=>{const C=()=>y({});return document.addEventListener(av,C),()=>document.removeEventListener(av,C)},[]),l.jsx(he.div,{...c,ref:_,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,j.onPointerDownCapture)})});Po.displayName=uO;var fO="DismissableLayerBranch",iC=f.forwardRef((t,e)=>{const n=f.useContext(sC),r=f.useRef(null),s=Ne(e,r);return f.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(he.div,{...t,ref:s})});iC.displayName=fO;function pO(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){oC(dO,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mO(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&oC(hO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rE(){const t=new CustomEvent(av);document.dispatchEvent(t)}function oC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?h0(s,i):s.dispatchEvent(i)}var gO=Po,vO=iC,yt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},yO="Portal",al=f.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=f.useState(!1);yt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?u0.createPortal(l.jsx(he.div,{...r,ref:e}),o):null});al.displayName=yO;function wO(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var ln=t=>{const{present:e,children:n}=t,r=xO(e),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=Ne(r.ref,_O(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};ln.displayName="Presence";function xO(t){const[e,n]=f.useState(),r=f.useRef({}),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,c]=wO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=bd(r.current);i.current=a==="mounted"?d:"none"},[a]),yt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=bd(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),yt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=y=>{const v=bd(r.current).includes(y.animationName);if(y.target===e&&v&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=y=>{y.target===e&&(i.current=bd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function bd(t){return(t==null?void 0:t.animationName)||"none"}function _O(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=EO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=kt(n),c=f.useCallback(d=>{if(i){const p=typeof d=="function"?d(t):d;p!==t&&a(p)}else s(d)},[i,t,s,a]);return[o,c]}function EO({defaultProp:t,onChange:e}){const n=f.useState(t),[r]=n,s=f.useRef(r),i=kt(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var bO="VisuallyHidden",yu=f.forwardRef((t,e)=>l.jsx(he.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));yu.displayName=bO;var TO=yu,f0="ToastProvider",[p0,SO,CO]=Wf("Toast"),[aC,jG]=dr("Toast",[CO]),[IO,Hf]=aC(f0),lC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=f.useState(null),[d,h]=f.useState(0),p=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${f0}\`. Expected non-empty \`string\`.`),l.jsx(p0.Provider,{scope:e,children:l.jsx(IO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:f.useCallback(()=>h(y=>y+1),[]),onToastRemove:f.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};lC.displayName=f0;var cC="ToastViewport",AO=["F8"],lv="toast.viewportPause",cv="toast.viewportResume",uC=f.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=AO,label:s="Notifications ({hotkey})",...i}=t,o=Hf(cC,n),a=SO(n),c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=f.useRef(null),m=Ne(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;f.useEffect(()=>{const E=x=>{var T;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),f.useEffect(()=>{const E=c.current,x=p.current;if(_&&E&&x){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(lv);x.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(cv);x.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!E.contains(L.relatedTarget)&&T()},j=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",w),E.addEventListener("focusout",N),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[_,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:E})=>{const w=a().map(T=>{const N=T.ref.current,j=[N,...UO(N)];return E==="forwards"?j:j.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return f.useEffect(()=>{const E=p.current;if(E){const x=w=>{var j,L,C;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const S=document.activeElement,P=w.shiftKey;if(w.target===E&&P){(j=d.current)==null||j.focus();return}const O=v({tabbingDirection:P?"backwards":"forwards"}),I=O.findIndex(z=>z===S);Dm(O.slice(I+1))?w.preventDefault():P?(L=d.current)==null||L.focus():(C=h.current)==null||C.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),l.jsxs(vO,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&l.jsx(uv,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Dm(E)}}),l.jsx(p0.Slot,{scope:n,children:l.jsx(he.ol,{tabIndex:-1,...i,ref:m})}),_&&l.jsx(uv,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Dm(E)}})]})});uC.displayName=cC;var dC="ToastFocusProxy",uv=f.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Hf(dC,n);return l.jsx(yu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});uv.displayName=dC;var Kf="Toast",PO="toast.swipeStart",NO="toast.swipeMove",RO="toast.swipeCancel",kO="toast.swipeEnd",hC=f.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Dr({prop:r,defaultProp:s,onChange:i});return l.jsx(ln,{present:n||a,children:l.jsx(MO,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:kt(t.onPause),onResume:kt(t.onResume),onSwipeStart:ee(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ee(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});hC.displayName=Kf;var[DO,jO]=aC(Kf,{onClose(){}}),MO=f.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:y,..._}=t,v=Hf(Kf,n),[E,x]=f.useState(null),w=Ne(e,z=>x(z)),T=f.useRef(null),N=f.useRef(null),j=s||v.duration,L=f.useRef(0),C=f.useRef(j),S=f.useRef(0),{onToastAdd:P,onToastRemove:A}=v,D=kt(()=>{var $;(E==null?void 0:E.contains(document.activeElement))&&(($=v.viewport)==null||$.focus()),o()}),O=f.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(D,z))},[D]);f.useEffect(()=>{const z=v.viewport;if(z){const $=()=>{O(C.current),d==null||d()},W=()=>{const Y=new Date().getTime()-L.current;C.current=C.current-Y,window.clearTimeout(S.current),c==null||c()};return z.addEventListener(lv,W),z.addEventListener(cv,$),()=>{z.removeEventListener(lv,W),z.removeEventListener(cv,$)}}},[v.viewport,j,c,d,O]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(j)},[i,j,v.isClosePausedRef,O]),f.useEffect(()=>(P(),()=>A()),[P,A]);const I=f.useMemo(()=>E?wC(E):null,[E]);return v.viewport?l.jsxs(l.Fragment,{children:[I&&l.jsx(OO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),l.jsx(DO,{scope:n,onClose:D,children:ms.createPortal(l.jsx(p0.ItemSlot,{scope:n,children:l.jsx(gO,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ee(t.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:ee(t.onPointerMove,z=>{if(!T.current)return;const $=z.clientX-T.current.x,W=z.clientY-T.current.y,Y=!!N.current,M=["left","right"].includes(v.swipeDirection),k=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=M?k(0,$):0,H=M?0:k(0,W),F=z.pointerType==="touch"?10:2,G={x:U,y:H},se={originalEvent:z,delta:G};Y?(N.current=G,Td(NO,p,se,{discrete:!1})):sE(G,v.swipeDirection,F)?(N.current=G,Td(PO,h,se,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs($)>F||Math.abs(W)>F)&&(T.current=null)}),onPointerUp:ee(t.onPointerUp,z=>{const $=N.current,W=z.target;if(W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),N.current=null,T.current=null,$){const Y=z.currentTarget,M={originalEvent:z,delta:$};sE($,v.swipeDirection,v.swipeThreshold)?Td(kO,y,M,{discrete:!0}):Td(RO,m,M,{discrete:!0}),Y.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),OO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Hf(Kf,e),[i,o]=f.useState(!1),[a,c]=f.useState(!1);return VO(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(al,{asChild:!0,children:l.jsx(yu,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},LO="ToastTitle",fC=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(he.div,{...r,ref:e})});fC.displayName=LO;var FO="ToastDescription",pC=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(he.div,{...r,ref:e})});pC.displayName=FO;var mC="ToastAction",gC=f.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(yC,{altText:n,asChild:!0,children:l.jsx(m0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mC}\`. Expected non-empty \`string\`.`),null)});gC.displayName=mC;var vC="ToastClose",m0=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=jO(vC,n);return l.jsx(yC,{asChild:!0,children:l.jsx(he.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});m0.displayName=vC;var yC=f.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function wC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),$O(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...wC(r))}}),e}function Td(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?h0(s,i):s.dispatchEvent(i)}var sE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function VO(t=()=>{}){const e=kt(t);yt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function $O(t){return t.nodeType===t.ELEMENT_NODE}function UO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zO=lC,xC=uC,_C=hC,EC=fC,bC=pC,TC=gC,SC=m0;function CC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=CC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function IC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=CC(t))&&(r&&(r+=" "),r+=e);return r}const iE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oE=IC,wu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return oE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],p=i==null?void 0:i[d];if(h===null)return null;const m=iE(h)||iE(p);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[p,m]=h;return m===void 0||(d[p]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:m,...y}=h;return Object.entries(y).every(_=>{let[v,E]=_;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...d,p,m]:d},[]);return oE(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>f.createElement("svg",{ref:c,...WO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AC("lucide",s),...a},[...o.map(([d,h])=>f.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=f.forwardRef(({className:r,...s},i)=>f.createElement(HO,{ref:i,iconNode:e,className:AC(`lucide-${BO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=it("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=it("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=it("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=it("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=it("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g0="-",tL=t=>{const e=rL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(g0);return a[0]===""&&a.length!==1&&a.shift(),RC(a,e)||nL(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},RC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?RC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(g0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},lE=/^\[(.+)\]$/,nL=t=>{if(lE.test(t)){const e=lE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},rL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return iL(Object.entries(t.classGroups),n).forEach(([i,o])=>{hv(o,r,i,e)}),r},hv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:cE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(sL(s)){hv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{hv(o,cE(e,i),n,r)})})},cE=(t,e)=>{let n=t;return e.split(g0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sL=t=>t.isThemeGetter,iL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,oL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kC="!",aL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,p;for(let E=0;E<a.length;E++){let x=a[E];if(d===0){if(x===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(h,E)),h=E+i;continue}if(x==="/"){p=E;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?a:a.substring(h),y=m.startsWith(kC),_=y?m.substring(1):m,v=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},lL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cL=t=>({cache:oL(t.cacheSize),parseClassName:aL(t),...tL(t)}),uL=/\s+/,dL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(uL);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let _=!!y,v=r(_?m.substring(0,y):m);if(!v){if(!_){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}_=!1}const E=lL(h).join(":"),x=p?E+kC:E,w=x+v;if(i.includes(w))continue;i.push(w);const T=s(v,_);for(let N=0;N<T.length;++N){const j=T[N];i.push(x+j)}a=d+(a.length>0?" "+a:a)}return a};function hL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DC(e))&&(r&&(r+=" "),r+=n);return r}const DC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=DC(t[r]))&&(n&&(n+=" "),n+=e);return n};function fL(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,p)=>p(h),t());return n=cL(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=dL(c,n);return s(c,h),h}return function(){return i(hL.apply(null,arguments))}}const ze=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jC=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,mL=new Set(["px","full","screen"]),gL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=t=>wa(t)||mL.has(t)||pL.test(t),Ps=t=>cl(t,"length",AL),wa=t=>!!t&&!Number.isNaN(Number(t)),jm=t=>cl(t,"number",wa),Gl=t=>!!t&&Number.isInteger(Number(t)),_L=t=>t.endsWith("%")&&wa(t.slice(0,-1)),Ee=t=>jC.test(t),Ns=t=>gL.test(t),EL=new Set(["length","size","percentage"]),bL=t=>cl(t,EL,MC),TL=t=>cl(t,"position",MC),SL=new Set(["image","url"]),CL=t=>cl(t,SL,NL),IL=t=>cl(t,"",PL),Ql=()=>!0,cl=(t,e,n)=>{const r=jC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},AL=t=>vL.test(t)&&!yL.test(t),MC=()=>!1,PL=t=>wL.test(t),NL=t=>xL.test(t),RL=()=>{const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),h=ze("hueRotate"),p=ze("invert"),m=ze("gap"),y=ze("gradientColorStops"),_=ze("gradientColorStopPositions"),v=ze("inset"),E=ze("margin"),x=ze("opacity"),w=ze("padding"),T=ze("saturate"),N=ze("scale"),j=ze("sepia"),L=ze("skew"),C=ze("space"),S=ze("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ee,e],O=()=>[Ee,e],I=()=>["",Br,Ps],z=()=>["auto",wa,Ee],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Ee],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[wa,Ee];return{cacheSize:500,separator:":",theme:{colors:[Ql],spacing:[Br,Ps],blur:["none","",Ns,Ee],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ns,Ee],borderSpacing:O(),borderWidth:I(),contrast:H(),grayscale:k(),hueRotate:H(),invert:k(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[_L,Ps],inset:D(),margin:D(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:k(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ee]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,Ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Gl,Ee]}],"grid-cols":[{"grid-cols":[Ql]}],"col-start-end":[{col:["auto",{span:["full",Gl,Ee]},Ee]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ql]}],"row-start-end":[{row:["auto",{span:[Gl,Ee]},Ee]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jm]}],"font-family":[{font:[Ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",wa,jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,Ps]}],"underline-offset":[{"underline-offset":["auto",Br,Ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),TL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Br,Ee]}],"outline-w":[{outline:[Br,Ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Br,Ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,IL]}],"shadow-color":[{shadow:[Ql]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,Ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Gl,Ee]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Br,Ps,jm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kL=fL(RL);function ie(...t){return kL(IC(t))}const DL=zO,OC=f.forwardRef(({className:t,...e},n)=>l.jsx(xC,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));OC.displayName=xC.displayName;const jL=wu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LC=f.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(_C,{ref:r,className:ie(jL({variant:e}),t),...n}));LC.displayName=_C.displayName;const ML=f.forwardRef(({className:t,...e},n)=>l.jsx(TC,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ML.displayName=TC.displayName;const FC=f.forwardRef(({className:t,...e},n)=>l.jsx(SC,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Bh,{className:"h-4 w-4"})}));FC.displayName=SC.displayName;const VC=f.forwardRef(({className:t,...e},n)=>l.jsx(EC,{ref:n,className:ie("text-sm font-semibold",t),...e}));VC.displayName=EC.displayName;const $C=f.forwardRef(({className:t,...e},n)=>l.jsx(bC,{ref:n,className:ie("text-sm opacity-90",t),...e}));$C.displayName=bC.displayName;function OL(){const{toasts:t}=d0();return l.jsxs(DL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(LC,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(VC,{children:n}),r&&l.jsx($C,{children:r})]}),s,l.jsx(FC,{})]},e)}),l.jsx(OC,{})]})}var uE=["light","dark"],LL="(prefers-color-scheme: dark)",FL=f.createContext(void 0),VL={setTheme:t=>{},themes:[]},$L=()=>{var t;return(t=f.useContext(FL))!=null?t:VL};f.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?uE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(_,v=!1,E=!0)=>{let x=o?o[_]:_,w=v?_+"|| ''":`'${x}'`,T="";return s&&E&&!v&&uE.includes(_)&&(T+=`d.style.colorScheme = '${_}';`),n==="class"?v||x?T+=`c.add(${w})`:T+="null":x&&(T+=`d[s](n,${w})`),T},y=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${LL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var UL=t=>{switch(t){case"success":return WL;case"info":return KL;case"warning":return HL;case"error":return qL;default:return null}},zL=Array(12).fill(0),BL=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},zL.map((e,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),WL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qL=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GL=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},fv=1,QL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:fv++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(XL(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:c})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||fv++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},_n=new QL,YL=(t,e)=>{let n=(e==null?void 0:e.id)||fv++;return _n.addToast({title:t,...e,id:n}),n},XL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",JL=YL,ZL=()=>_n.toasts;Object.assign(JL,{success:_n.success,info:_n.info,warning:_n.warning,error:_n.error,custom:_n.custom,message:_n.message,promise:_n.promise,dismiss:_n.dismiss,loading:_n.loading},{getHistory:ZL});function e4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}e4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sd(t){return t.label!==void 0}var t4=3,n4="32px",r4=4e3,s4=356,i4=14,o4=20,a4=200;function l4(...t){return t.filter(Boolean).join(" ")}var c4=t=>{var e,n,r,s,i,o,a,c,d,h;let{invert:p,toast:m,unstyled:y,interacting:_,setHeights:v,visibleToasts:E,heights:x,index:w,toasts:T,expanded:N,removeToast:j,defaultRichColors:L,closeButton:C,style:S,cancelButtonStyle:P,actionButtonStyle:A,className:D="",descriptionClassName:O="",duration:I,position:z,gap:$,loadingIcon:W,expandByDefault:Y,classNames:M,icons:k,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:H,cn:F}=t,[G,se]=re.useState(!1),[te,Z]=re.useState(!1),[J,de]=re.useState(!1),[ve,pe]=re.useState(!1),[be,Ce]=re.useState(0),[ot,ht]=re.useState(0),Tt=re.useRef(null),wt=re.useRef(null),Yt=w===0,Fi=w+1<=E,Ze=m.type,Xt=m.dismissible!==!1,Tl=m.className||"",Bp=m.descriptionClassName||"",Es=re.useMemo(()=>x.findIndex(ye=>ye.toastId===m.id)||0,[x,m.id]),Sl=re.useMemo(()=>{var ye;return(ye=m.closeButton)!=null?ye:C},[m.closeButton,C]),Cl=re.useMemo(()=>m.duration||I||r4,[m.duration,I]),ct=re.useRef(0),et=re.useRef(0),Vi=re.useRef(0),Vr=re.useRef(null),[Il,Wp]=z.split("-"),bs=re.useMemo(()=>x.reduce((ye,Fe,Oe)=>Oe>=Es?ye:ye+Fe.height,0),[x,Es]),Al=GL(),Bu=m.invert||p,$i=Ze==="loading";et.current=re.useMemo(()=>Es*$+bs,[Es,bs]),re.useEffect(()=>{se(!0)},[]),re.useLayoutEffect(()=>{if(!G)return;let ye=wt.current,Fe=ye.style.height;ye.style.height="auto";let Oe=ye.getBoundingClientRect().height;ye.style.height=Fe,ht(Oe),v(jt=>jt.find(un=>un.toastId===m.id)?jt.map(un=>un.toastId===m.id?{...un,height:Oe}:un):[{toastId:m.id,height:Oe,position:m.position},...jt])},[G,m.title,m.description,v,m.id]);let fr=re.useCallback(()=>{Z(!0),Ce(et.current),v(ye=>ye.filter(Fe=>Fe.toastId!==m.id)),setTimeout(()=>{j(m)},a4)},[m,j,v,et]);re.useEffect(()=>{if(m.promise&&Ze==="loading"||m.duration===1/0||m.type==="loading")return;let ye,Fe=Cl;return N||_||H&&Al?(()=>{if(Vi.current<ct.current){let Oe=new Date().getTime()-ct.current;Fe=Fe-Oe}Vi.current=new Date().getTime()})():Fe!==1/0&&(ct.current=new Date().getTime(),ye=setTimeout(()=>{var Oe;(Oe=m.onAutoClose)==null||Oe.call(m,m),fr()},Fe)),()=>clearTimeout(ye)},[N,_,Y,m,Cl,fr,m.promise,Ze,H,Al]),re.useEffect(()=>{let ye=wt.current;if(ye){let Fe=ye.getBoundingClientRect().height;return ht(Fe),v(Oe=>[{toastId:m.id,height:Fe,position:m.position},...Oe]),()=>v(Oe=>Oe.filter(jt=>jt.toastId!==m.id))}},[v,m.id]),re.useEffect(()=>{m.delete&&fr()},[fr,m.delete]);function Hp(){return k!=null&&k.loading?re.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},k.loading):W?re.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},W):re.createElement(BL,{visible:Ze==="loading"})}return re.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:wt,className:F(D,Tl,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Ze],(n=m==null?void 0:m.classNames)==null?void 0:n[Ze]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:L,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":G,"data-promise":!!m.promise,"data-removed":te,"data-visible":Fi,"data-y-position":Il,"data-x-position":Wp,"data-index":w,"data-front":Yt,"data-swiping":J,"data-dismissible":Xt,"data-type":Ze,"data-invert":Bu,"data-swipe-out":ve,"data-expanded":!!(N||Y&&G),style:{"--index":w,"--toasts-before":w,"--z-index":T.length-w,"--offset":`${te?be:et.current}px`,"--initial-height":Y?"auto":`${ot}px`,...S,...m.style},onPointerDown:ye=>{$i||!Xt||(Tt.current=new Date,Ce(et.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(de(!0),Vr.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Fe,Oe,jt;if(ve||!Xt)return;Vr.current=null;let un=Number(((ye=wt.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ts=new Date().getTime()-((Fe=Tt.current)==null?void 0:Fe.getTime()),$r=Math.abs(un)/Ts;if(Math.abs(un)>=o4||$r>.11){Ce(et.current),(Oe=m.onDismiss)==null||Oe.call(m,m),fr(),pe(!0);return}(jt=wt.current)==null||jt.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:ye=>{var Fe;if(!Vr.current||!Xt)return;let Oe=ye.clientY-Vr.current.y,jt=ye.clientX-Vr.current.x,un=(Il==="top"?Math.min:Math.max)(0,Oe),Ts=ye.pointerType==="touch"?10:2;Math.abs(un)>Ts?(Fe=wt.current)==null||Fe.style.setProperty("--swipe-amount",`${Oe}px`):Math.abs(jt)>Ts&&(Vr.current=null)}},Sl&&!m.jsx?re.createElement("button",{"aria-label":U,"data-disabled":$i,"data-close-button":!0,onClick:$i||!Xt?()=>{}:()=>{var ye;fr(),(ye=m.onDismiss)==null||ye.call(m,m)},className:F(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||re.isValidElement(m.title)?m.jsx||m.title:re.createElement(re.Fragment,null,Ze||m.icon||m.promise?re.createElement("div",{"data-icon":"",className:F(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Hp():null,m.type!=="loading"?m.icon||(k==null?void 0:k[Ze])||UL(Ze):null):null,re.createElement("div",{"data-content":"",className:F(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:F(M==null?void 0:M.title,(a=m==null?void 0:m.classNames)==null?void 0:a.title)},m.title),m.description?re.createElement("div",{"data-description":"",className:F(O,Bp,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),re.isValidElement(m.cancel)?m.cancel:m.cancel&&Sd(m.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ye=>{var Fe,Oe;Sd(m.cancel)&&Xt&&((Oe=(Fe=m.cancel).onClick)==null||Oe.call(Fe,ye),fr())},className:F(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,re.isValidElement(m.action)?m.action:m.action&&Sd(m.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:ye=>{var Fe,Oe;Sd(m.action)&&(ye.defaultPrevented||((Oe=(Fe=m.action).onClick)==null||Oe.call(Fe,ye),fr()))},className:F(M==null?void 0:M.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function dE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var u4=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:d,duration:h,style:p,visibleToasts:m=t4,toastOptions:y,dir:_=dE(),gap:v=i4,loadingIcon:E,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:T,cn:N=l4}=t,[j,L]=re.useState([]),C=re.useMemo(()=>Array.from(new Set([n].concat(j.filter(H=>H.position).map(H=>H.position)))),[j,n]),[S,P]=re.useState([]),[A,D]=re.useState(!1),[O,I]=re.useState(!1),[z,$]=re.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=re.useRef(null),Y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=re.useRef(null),k=re.useRef(!1),U=re.useCallback(H=>{var F;(F=j.find(G=>G.id===H.id))!=null&&F.delete||_n.dismiss(H.id),L(G=>G.filter(({id:se})=>se!==H.id))},[j]);return re.useEffect(()=>_n.subscribe(H=>{if(H.dismiss){L(F=>F.map(G=>G.id===H.id?{...G,delete:!0}:G));return}setTimeout(()=>{u0.flushSync(()=>{L(F=>{let G=F.findIndex(se=>se.id===H.id);return G!==-1?[...F.slice(0,G),{...F[G],...H},...F.slice(G+1)]:[H,...F]})})})}),[]),re.useEffect(()=>{if(c!=="system"){$(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{$(H?"dark":"light")})},[c]),re.useEffect(()=>{j.length<=1&&D(!1)},[j]),re.useEffect(()=>{let H=F=>{var G,se;r.every(te=>F[te]||F.code===te)&&(D(!0),(G=W.current)==null||G.focus()),F.code==="Escape"&&(document.activeElement===W.current||(se=W.current)!=null&&se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),re.useEffect(()=>{if(W.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,k.current=!1)}},[W.current]),j.length?re.createElement("section",{"aria-label":`${w} ${Y}`,tabIndex:-1},C.map((H,F)=>{var G;let[se,te]=H.split("-");return re.createElement("ol",{key:H,dir:_==="auto"?dE():_,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":se,"data-x-position":te,style:{"--front-toast-height":`${((G=S[0])==null?void 0:G.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||n4,"--width":`${s4}px`,"--gap":`${v}px`,...p},onBlur:Z=>{k.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(k.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||k.current||(k.current=!0,M.current=Z.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(Z=>!Z.position&&F===0||Z.position===H).map((Z,J)=>{var de,ve;return re.createElement(c4,{key:Z.id,icons:x,index:J,toast:Z,defaultRichColors:d,duration:(de=y==null?void 0:y.duration)!=null?de:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:m,closeButton:(ve=y==null?void 0:y.closeButton)!=null?ve:i,interacting:O,position:H,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:U,toasts:j.filter(pe=>pe.position==Z.position),heights:S.filter(pe=>pe.position==Z.position),setHeights:P,expandByDefault:s,gap:v,loadingIcon:E,expanded:A,pauseWhenPageIsHidden:T,cn:N})}))})):null};const d4=({...t})=>{const{theme:e="system"}=$L();return l.jsx(u4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var h4=wy.useId||(()=>{}),f4=0;function Un(t){const[e,n]=f.useState(h4());return yt(()=>{t||n(r=>r??String(f4++))},[t]),t||(e?`radix-${e}`:"")}const p4=["top","right","bottom","left"],vi=Math.min,bn=Math.max,Wh=Math.round,Cd=Math.floor,yi=t=>({x:t,y:t}),m4={left:"right",right:"left",bottom:"top",top:"bottom"},g4={start:"end",end:"start"};function pv(t,e,n){return bn(t,vi(e,n))}function is(t,e){return typeof t=="function"?t(e):t}function os(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function v0(t){return t==="x"?"y":"x"}function y0(t){return t==="y"?"height":"width"}function wi(t){return["top","bottom"].includes(os(t))?"y":"x"}function w0(t){return v0(wi(t))}function v4(t,e,n){n===void 0&&(n=!1);const r=ul(t),s=w0(t),i=y0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Hh(o)),[o,Hh(o)]}function y4(t){const e=Hh(t);return[mv(t),e,mv(e)]}function mv(t){return t.replace(/start|end/g,e=>g4[e])}function w4(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function x4(t,e,n,r){const s=ul(t);let i=w4(os(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(mv)))),i}function Hh(t){return t.replace(/left|right|bottom|top/g,e=>m4[e])}function _4(t){return{top:0,right:0,bottom:0,left:0,...t}}function UC(t){return typeof t!="number"?_4(t):{top:t,right:t,bottom:t,left:t}}function Kh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hE(t,e,n){let{reference:r,floating:s}=t;const i=wi(e),o=w0(e),a=y0(o),c=os(e),d=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ul(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const E4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=hE(d,r,c),m=r,y={},_=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:w,y:T,data:N,reset:j}=await x({x:h,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,p=T??p,y={...y,[E]:{...y[E],...N}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:p}=hE(d,m,c)),v=-1)}return{x:h,y:p,placement:m,strategy:s,middlewareData:y}};async function qc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=is(e,t),_=UC(y),E=a[m?p==="floating"?"reference":"floating":p],x=Kh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},j=Kh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:c}):w);return{top:(x.top-j.top+_.top)/N.y,bottom:(j.bottom-x.bottom+_.bottom)/N.y,left:(x.left-j.left+_.left)/N.x,right:(j.right-x.right+_.right)/N.x}}const b4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=is(t,e)||{};if(d==null)return{};const p=UC(h),m={x:n,y:r},y=w0(s),_=y0(y),v=await o.getDimensions(d),E=y==="y",x=E?"top":"left",w=E?"bottom":"right",T=E?"clientHeight":"clientWidth",N=i.reference[_]+i.reference[y]-m[y]-i.floating[_],j=m[y]-i.reference[y],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=L?L[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=a.floating[T]||i.floating[_]);const S=N/2-j/2,P=C/2-v[_]/2-1,A=vi(p[x],P),D=vi(p[w],P),O=A,I=C-v[_]-D,z=C/2-v[_]/2+S,$=pv(O,z,I),W=!c.arrow&&ul(s)!=null&&z!==$&&i.reference[_]/2-(z<O?A:D)-v[_]/2<0,Y=W?z<O?z-O:z-I:0;return{[y]:m[y]+Y,data:{[y]:$,centerOffset:z-$-Y,...W&&{alignmentOffset:Y}},reset:W}}}),T4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...E}=is(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=os(s),w=wi(a),T=os(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(T||!v?[Hh(a)]:y4(a)),L=_!=="none";!m&&L&&j.push(...x4(a,v,_,N));const C=[a,...j],S=await qc(e,E),P=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[x]),p){const z=v4(s,o,N);P.push(S[z[0]],S[z[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(z=>z<=0)){var D,O;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,$=C[z];if($)return{data:{index:z,overflows:A},reset:{placement:$}};let W=(O=A.filter(Y=>Y.overflows[0]<=0).sort((Y,M)=>Y.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(y){case"bestFit":{var I;const Y=(I=A.filter(M=>{if(L){const k=wi(M.placement);return k===w||k==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(k=>k>0).reduce((k,U)=>k+U,0)]).sort((M,k)=>M[1]-k[1])[0])==null?void 0:I[0];Y&&(W=Y);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function fE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pE(t){return p4.some(e=>t[e]>=0)}const S4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=is(t,e);switch(r){case"referenceHidden":{const i=await qc(e,{...s,elementContext:"reference"}),o=fE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pE(o)}}}case"escaped":{const i=await qc(e,{...s,altBoundary:!0}),o=fE(i,n.floating);return{data:{escapedOffsets:o,escaped:pE(o)}}}default:return{}}}}};async function C4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=os(n),a=ul(n),c=wi(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,p=is(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof _=="number"&&(y=a==="end"?_*-1:_),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const I4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await C4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},A4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:w}=E;return{x,y:w}}},...c}=is(t,e),d={x:n,y:r},h=await qc(e,c),p=wi(os(s)),m=v0(p);let y=d[m],_=d[p];if(i){const E=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=y+h[E],T=y-h[x];y=pv(w,y,T)}if(o){const E=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=_+h[E],T=_-h[x];_=pv(w,_,T)}const v=a.fn({...e,[m]:y,[p]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[p]:o}}}}}},P4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=is(t,e),h={x:n,y:r},p=wi(s),m=v0(p);let y=h[m],_=h[p];const v=is(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+E.mainAxis,j=i.reference[m]+i.reference[T]-E.mainAxis;y<N?y=N:y>j&&(y=j)}if(d){var x,w;const T=m==="y"?"width":"height",N=["top","left"].includes(os(s)),j=i.reference[p]-i.floating[T]+(N&&((x=o.offset)==null?void 0:x[p])||0)+(N?0:E.crossAxis),L=i.reference[p]+i.reference[T]+(N?0:((w=o.offset)==null?void 0:w[p])||0)-(N?E.crossAxis:0);_<j?_=j:_>L&&(_=L)}return{[m]:y,[p]:_}}}},N4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=is(t,e),h=await qc(e,d),p=os(s),m=ul(s),y=wi(s)==="y",{width:_,height:v}=i.floating;let E,x;p==="top"||p==="bottom"?(E=p,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,E=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,T=_-h.left-h.right,N=vi(v-h[E],w),j=vi(_-h[x],T),L=!e.middlewareData.shift;let C=N,S=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),L&&!m){const A=bn(h.left,0),D=bn(h.right,0),O=bn(h.top,0),I=bn(h.bottom,0);y?S=_-2*(A!==0||D!==0?A+D:bn(h.left,h.right)):C=v-2*(O!==0||I!==0?O+I:bn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:C});const P=await o.getDimensions(a.floating);return _!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function qf(){return typeof window<"u"}function dl(t){return zC(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fr(t){var e;return(e=(zC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zC(t){return qf()?t instanceof Node||t instanceof An(t).Node:!1}function lr(t){return qf()?t instanceof Element||t instanceof An(t).Element:!1}function jr(t){return qf()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function mE(t){return!qf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}function _u(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function R4(t){return["table","td","th"].includes(dl(t))}function Gf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function x0(t){const e=_0(),n=lr(t)?cr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function k4(t){let e=xi(t);for(;jr(e)&&!Ha(e);){if(x0(e))return e;if(Gf(e))return null;e=xi(e)}return null}function _0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ha(t){return["html","body","#document"].includes(dl(t))}function cr(t){return An(t).getComputedStyle(t)}function Qf(t){return lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xi(t){if(dl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mE(t)&&t.host||Fr(t);return mE(e)?e.host:e}function BC(t){const e=xi(t);return Ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&_u(e)?e:BC(e)}function Gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=BC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=An(s);if(i){const a=gv(o);return e.concat(o,o.visualViewport||[],_u(s)?s:[],a&&n?Gc(a):[])}return e.concat(s,Gc(s,[],n))}function gv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WC(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Wh(n)!==i||Wh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function E0(t){return lr(t)?t:t.contextElement}function xa(t){const e=E0(t);if(!jr(e))return yi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=WC(e);let o=(i?Wh(n.width):n.width)/r,a=(i?Wh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const D4=yi(0);function HC(t){const e=An(t);return!_0()||!e.visualViewport?D4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function j4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function po(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=E0(t);let o=yi(1);e&&(r?lr(r)&&(o=xa(r)):o=xa(t));const a=j4(i,n,r)?HC(i):yi(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const m=An(i),y=r&&lr(r)?An(r):r;let _=m,v=gv(_);for(;v&&r&&y!==_;){const E=xa(v),x=v.getBoundingClientRect(),w=cr(v),T=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,N=x.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;c*=E.x,d*=E.y,h*=E.x,p*=E.y,c+=T,d+=N,_=An(v),v=gv(_)}}return Kh({width:h,height:p,x:c,y:d})}function M4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Fr(r),a=e?Gf(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=yi(1);const h=yi(0),p=jr(r);if((p||!p&&!i)&&((dl(r)!=="body"||_u(o))&&(c=Qf(r)),jr(r))){const m=po(r);d=xa(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x,y:n.y*d.y-c.scrollTop*d.y+h.y}}function O4(t){return Array.from(t.getClientRects())}function vv(t,e){const n=Qf(t).scrollLeft;return e?e.left+n:po(Fr(t)).left+n}function L4(t){const e=Fr(t),n=Qf(t),r=t.ownerDocument.body,s=bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vv(t);const a=-n.scrollTop;return cr(r).direction==="rtl"&&(o+=bn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function F4(t,e){const n=An(t),r=Fr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=_0();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function V4(t,e){const n=po(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?xa(t):yi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function gE(t,e,n){let r;if(e==="viewport")r=F4(t,n);else if(e==="document")r=L4(Fr(t));else if(lr(e))r=V4(e,n);else{const s=HC(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Kh(r)}function KC(t,e){const n=xi(t);return n===e||!lr(n)||Ha(n)?!1:cr(n).position==="fixed"||KC(n,e)}function $4(t,e){const n=e.get(t);if(n)return n;let r=Gc(t,[],!1).filter(a=>lr(a)&&dl(a)!=="body"),s=null;const i=cr(t).position==="fixed";let o=i?xi(t):t;for(;lr(o)&&!Ha(o);){const a=cr(o),c=x0(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_u(o)&&!c&&KC(t,o))?r=r.filter(h=>h!==o):s=a,o=xi(o)}return e.set(t,r),r}function U4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Gf(e)?[]:$4(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const p=gE(e,h,s);return d.top=bn(p.top,d.top),d.right=vi(p.right,d.right),d.bottom=vi(p.bottom,d.bottom),d.left=bn(p.left,d.left),d},gE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function z4(t){const{width:e,height:n}=WC(t);return{width:e,height:n}}function B4(t,e,n){const r=jr(e),s=Fr(e),i=n==="fixed",o=po(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=yi(0);if(r||!r&&!i)if((dl(e)!=="body"||_u(s))&&(a=Qf(e)),r){const y=po(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=vv(s));let d=0,h=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();h=y.top+a.scrollTop,d=y.left+a.scrollLeft-vv(s,y)}const p=o.left+a.scrollLeft-c.x-d,m=o.top+a.scrollTop-c.y-h;return{x:p,y:m,width:o.width,height:o.height}}function Mm(t){return cr(t).position==="static"}function vE(t,e){if(!jr(t)||cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fr(t)===n&&(n=n.ownerDocument.body),n}function qC(t,e){const n=An(t);if(Gf(t))return n;if(!jr(t)){let s=xi(t);for(;s&&!Ha(s);){if(lr(s)&&!Mm(s))return s;s=xi(s)}return n}let r=vE(t,e);for(;r&&R4(r)&&Mm(r);)r=vE(r,e);return r&&Ha(r)&&Mm(r)&&!x0(r)?n:r||k4(t)||n}const W4=async function(t){const e=this.getOffsetParent||qC,n=this.getDimensions,r=await n(t.floating);return{reference:B4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H4(t){return cr(t).direction==="rtl"}const K4={convertOffsetParentRelativeRectToViewportRelativeRect:M4,getDocumentElement:Fr,getClippingRect:U4,getOffsetParent:qC,getElementRects:W4,getClientRects:O4,getDimensions:z4,getScale:xa,isElement:lr,isRTL:H4};function q4(t,e){let n=null,r;const s=Fr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:d,top:h,width:p,height:m}=t.getBoundingClientRect();if(a||e(),!p||!m)return;const y=Cd(h),_=Cd(s.clientWidth-(d+p)),v=Cd(s.clientHeight-(h+m)),E=Cd(d),w={rootMargin:-y+"px "+-_+"px "+-v+"px "+-E+"px",threshold:bn(0,vi(1,c))||1};let T=!0;function N(j){const L=j[0].intersectionRatio;if(L!==c){if(!T)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(t)}return o(!0),i}function G4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=E0(t),h=s||i?[...d?Gc(d):[],...Gc(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=d&&a?q4(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let _,v=c?po(t):null;c&&E();function E(){const x=po(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,_=requestAnimationFrame(E)}return n(),()=>{var x;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p==null||p(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const Q4=I4,Y4=A4,X4=T4,J4=N4,Z4=S4,yE=b4,eF=P4,tF=(t,e,n)=>{const r=new Map,s={platform:K4,...n},i={...s.platform,_c:r};return E4(t,e,{...s,platform:i})};var rh=typeof document<"u"?f.useLayoutEffect:f.useEffect;function qh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!qh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function GC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wE(t,e){const n=GC(t);return Math.round(e*n)/n}function Om(t){const e=f.useRef(t);return rh(()=>{e.current=t}),e}function nF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,p]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=f.useState(r);qh(m,r)||y(r);const[_,v]=f.useState(null),[E,x]=f.useState(null),w=f.useCallback(M=>{M!==L.current&&(L.current=M,v(M))},[]),T=f.useCallback(M=>{M!==C.current&&(C.current=M,x(M))},[]),N=i||_,j=o||E,L=f.useRef(null),C=f.useRef(null),S=f.useRef(h),P=c!=null,A=Om(c),D=Om(s),O=Om(d),I=f.useCallback(()=>{if(!L.current||!C.current)return;const M={placement:e,strategy:n,middleware:m};D.current&&(M.platform=D.current),tF(L.current,C.current,M).then(k=>{const U={...k,isPositioned:O.current!==!1};z.current&&!qh(S.current,U)&&(S.current=U,ms.flushSync(()=>{p(U)}))})},[m,e,n,D,O]);rh(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(M=>({...M,isPositioned:!1})))},[d]);const z=f.useRef(!1);rh(()=>(z.current=!0,()=>{z.current=!1}),[]),rh(()=>{if(N&&(L.current=N),j&&(C.current=j),N&&j){if(A.current)return A.current(N,j,I);I()}},[N,j,I,A,P]);const $=f.useMemo(()=>({reference:L,floating:C,setReference:w,setFloating:T}),[w,T]),W=f.useMemo(()=>({reference:N,floating:j}),[N,j]),Y=f.useMemo(()=>{const M={position:n,left:0,top:0};if(!W.floating)return M;const k=wE(W.floating,h.x),U=wE(W.floating,h.y);return a?{...M,transform:"translate("+k+"px, "+U+"px)",...GC(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:U}},[n,a,W.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:I,refs:$,elements:W,floatingStyles:Y}),[h,I,$,W,Y])}const rF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yE({element:r.current,padding:s}).fn(n):{}:r?yE({element:r,padding:s}).fn(n):{}}}},sF=(t,e)=>({...Q4(t),options:[t,e]}),iF=(t,e)=>({...Y4(t),options:[t,e]}),oF=(t,e)=>({...eF(t),options:[t,e]}),aF=(t,e)=>({...X4(t),options:[t,e]}),lF=(t,e)=>({...J4(t),options:[t,e]}),cF=(t,e)=>({...Z4(t),options:[t,e]}),uF=(t,e)=>({...rF(t),options:[t,e]});var dF="Arrow",QC=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(he.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});QC.displayName=dF;var hF=QC;function fF(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];function d(p){const{scope:m,children:y,..._}=p,v=(m==null?void 0:m[t][c])||a,E=f.useMemo(()=>_,Object.values(_));return l.jsx(v.Provider,{value:E,children:y})}function h(p,m){const y=(m==null?void 0:m[t][c])||a,_=f.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,pF(s,...e)]}function pF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function YC(t){const[e,n]=f.useState(void 0);return yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var b0="Popper",[XC,Ni]=fF(b0),[mF,JC]=XC(b0),ZC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=f.useState(null);return l.jsx(mF,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZC.displayName=b0;var eI="PopperAnchor",tI=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JC(eI,n),o=f.useRef(null),a=Ne(e,o);return f.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(he.div,{...s,ref:a})});tI.displayName=eI;var T0="PopperContent",[gF,vF]=XC(T0),nI=f.forwardRef((t,e)=>{var J,de,ve,pe,be,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:_,...v}=t,E=JC(T0,n),[x,w]=f.useState(null),T=Ne(e,ot=>w(ot)),[N,j]=f.useState(null),L=YC(N),C=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,P=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],O=D.length>0,I={padding:A,boundary:D.filter(wF),altBoundary:O},{refs:z,floatingStyles:$,placement:W,isPositioned:Y,middlewareData:M}=nF({strategy:"fixed",placement:P,whileElementsMounted:(...ot)=>G4(...ot,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[sF({mainAxis:s+S,alignmentAxis:o}),c&&iF({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?oF():void 0,...I}),c&&aF({...I}),lF({...I,apply:({elements:ot,rects:ht,availableWidth:Tt,availableHeight:wt})=>{const{width:Yt,height:Fi}=ht.reference,Ze=ot.floating.style;Ze.setProperty("--radix-popper-available-width",`${Tt}px`),Ze.setProperty("--radix-popper-available-height",`${wt}px`),Ze.setProperty("--radix-popper-anchor-width",`${Yt}px`),Ze.setProperty("--radix-popper-anchor-height",`${Fi}px`)}}),N&&uF({element:N,padding:a}),xF({arrowWidth:C,arrowHeight:S}),m&&cF({strategy:"referenceHidden",...I})]}),[k,U]=iI(W),H=kt(_);yt(()=>{Y&&(H==null||H())},[Y,H]);const F=(J=M.arrow)==null?void 0:J.x,G=(de=M.arrow)==null?void 0:de.y,se=((ve=M.arrow)==null?void 0:ve.centerOffset)!==0,[te,Z]=f.useState();return yt(()=>{x&&Z(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:Y?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(pe=M.transformOrigin)==null?void 0:pe.x,(be=M.transformOrigin)==null?void 0:be.y].join(" "),...((Ce=M.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(gF,{scope:n,placedSide:k,onArrowChange:j,arrowX:F,arrowY:G,shouldHideArrow:se,children:l.jsx(he.div,{"data-side":k,"data-align":U,...v,ref:T,style:{...v.style,animation:Y?void 0:"none"}})})})});nI.displayName=T0;var rI="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},sI=f.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=vF(rI,r),o=yF[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(hF,{...s,ref:n,style:{...s.style,display:"block"}})})});sI.displayName=rI;function wF(t){return t!==null}var xF=t=>({name:"transformOrigin",options:t,fn(e){var E,x,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=iI(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let _="",v="";return d==="bottom"?(_=o?p:`${m}px`,v=`${-c}px`):d==="top"?(_=o?p:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,v=o?p:`${y}px`):d==="left"&&(_=`${r.floating.width+c}px`,v=o?p:`${y}px`),{data:{x:_,y:v}}}});function iI(t){const[e,n="center"]=t.split("-");return[e,n]}var S0=ZC,Eu=tI,Yf=nI,Xf=sI,[Jf,OG]=dr("Tooltip",[Ni]),C0=Ni(),oI="TooltipProvider",_F=700,xE="tooltip.open",[EF,aI]=Jf(oI),lI=t=>{const{__scopeTooltip:e,delayDuration:n=_F,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=f.useState(!0),c=f.useRef(!1),d=f.useRef(0);return f.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),l.jsx(EF,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};lI.displayName=oI;var cI="Tooltip",[LG,Zf]=Jf(cI),yv="TooltipTrigger",bF=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zf(yv,n),i=aI(yv,n),o=C0(n),a=f.useRef(null),c=Ne(e,a,s.onTriggerChange),d=f.useRef(!1),h=f.useRef(!1),p=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(Eu,{asChild:!0,...o,children:l.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ee(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});bF.displayName=yv;var TF="TooltipPortal",[FG,SF]=Jf(TF,{forceMount:void 0}),Ka="TooltipContent",uI=f.forwardRef((t,e)=>{const n=SF(Ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Zf(Ka,t.__scopeTooltip);return l.jsx(ln,{present:r||o.open,children:o.disableHoverableContent?l.jsx(dI,{side:s,...i,ref:e}):l.jsx(CF,{side:s,...i,ref:e})})}),CF=f.forwardRef((t,e)=>{const n=Zf(Ka,t.__scopeTooltip),r=aI(Ka,t.__scopeTooltip),s=f.useRef(null),i=Ne(e,s),[o,a]=f.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:p}=r,m=f.useCallback(()=>{a(null),p(!1)},[p]),y=f.useCallback((_,v)=>{const E=_.currentTarget,x={x:_.clientX,y:_.clientY},w=NF(x,E.getBoundingClientRect()),T=RF(x,w),N=kF(v.getBoundingClientRect()),j=jF([...T,...N]);a(j),p(!0)},[p]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&h){const _=E=>y(E,h),v=E=>y(E,c);return c.addEventListener("pointerleave",_),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",v)}}},[c,h,y,m]),f.useEffect(()=>{if(o){const _=v=>{const E=v.target,x={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(E))||(h==null?void 0:h.contains(E)),T=!DF(x,o);w?m():T&&(m(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,h,o,d,m]),l.jsx(dI,{...t,ref:i})}),[IF,AF]=Jf(cI,{isInside:!1}),dI=f.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Zf(Ka,n),d=C0(n),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(xE,h),()=>document.removeEventListener(xE,h)),[h]),f.useEffect(()=>{if(c.trigger){const p=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),l.jsx(Po,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:l.jsxs(Yf,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(rC,{children:r}),l.jsx(IF,{scope:n,isInside:!0,children:l.jsx(TO,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uI.displayName=Ka;var hI="TooltipArrow",PF=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=C0(n);return AF(hI,n).isInside?null:l.jsx(Xf,{...s,...r,ref:e})});PF.displayName=hI;function NF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function kF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function DF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function jF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MF(e)}function MF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OF=lI,fI=uI;const LF=OF,FF=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(fI,{ref:r,sideOffset:e,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));FF.displayName=fI.displayName;var ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tp=typeof window>"u"||"Deno"in globalThis;function Yn(){}function VF(t,e){return typeof t=="function"?t(e):t}function $F(t){return typeof t=="number"&&t>=0&&t!==1/0}function UF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function _E(t,e){return typeof t=="function"?t(e):t}function zF(t,e){return typeof t=="function"?t(e):t}function EE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==I0(o,e.options))return!1}else if(!Yc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function bE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(i))return!1}else if(!Yc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function I0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>wv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yc(t[n],e[n])):!1}function pI(t,e){if(t===e)return t;const n=TE(t)&&TE(e);if(n||wv(t)&&wv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=pI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function TE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wv(t){if(!SE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!SE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function SE(t){return Object.prototype.toString.call(t)==="[object Object]"}function BF(t){return new Promise(e=>{setTimeout(e,t)})}function WF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pI(t,e):e}function HF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function KF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var A0=Symbol();function mI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===A0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var eo,Ws,Pa,M1,qF=(M1=class extends ep{constructor(){super();je(this,eo);je(this,Ws);je(this,Pa);Te(this,Pa,e=>{if(!tp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Ws)||this.setEventListener(q(this,Pa))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ws))==null||e.call(this),Te(this,Ws,void 0))}setEventListener(e){var n;Te(this,Pa,e),(n=q(this,Ws))==null||n.call(this),Te(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,eo)!==e&&(Te(this,eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,eo)=="boolean"?q(this,eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eo=new WeakMap,Ws=new WeakMap,Pa=new WeakMap,M1),gI=new qF,Na,Hs,Ra,O1,GF=(O1=class extends ep{constructor(){super();je(this,Na,!0);je(this,Hs);je(this,Ra);Te(this,Ra,e=>{if(!tp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Hs)||this.setEventListener(q(this,Ra))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Hs))==null||e.call(this),Te(this,Hs,void 0))}setEventListener(e){var n;Te(this,Ra,e),(n=q(this,Hs))==null||n.call(this),Te(this,Hs,e(this.setOnline.bind(this)))}setOnline(e){q(this,Na)!==e&&(Te(this,Na,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,Na)}},Na=new WeakMap,Hs=new WeakMap,Ra=new WeakMap,O1),Gh=new GF;function QF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function YF(t){return Math.min(1e3*2**t,3e4)}function vI(t){return(t??"online")==="online"?Gh.isOnline():!0}var yI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lm(t){return t instanceof yI}function wI(t){let e=!1,n=0,r=!1,s;const i=QF(),o=v=>{var E;r||(m(new yI(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>gI.isFocused()&&(t.networkMode==="always"||Gh.isOnline())&&t.canRun(),h=()=>vI(t.networkMode)&&t.canRun(),p=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var E;s=x=>{(r||d())&&v(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),_=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(p).catch(x=>{var L;if(r)return;const w=t.retry??(tp?0:3),T=t.retryDelay??YF,N=typeof T=="function"?T(n,x):T,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!j){m(x);return}n++,(L=t.onFail)==null||L.call(t,n,x),BF(N).then(()=>d()?void 0:y()).then(()=>{e?m(x):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?_():y().then(_),i)}}function XF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var nn=XF(),to,L1,xI=(L1=class{constructor(){je(this,to)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$F(this.gcTime)&&Te(this,to,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tp?1/0:5*60*1e3))}clearGcTimeout(){q(this,to)&&(clearTimeout(q(this,to)),Te(this,to,void 0))}},to=new WeakMap,L1),ka,Da,Mn,Ut,du,no,Xn,Wr,F1,JF=(F1=class extends xI{constructor(n){super();je(this,Xn);je(this,ka);je(this,Da);je(this,Mn);je(this,Ut);je(this,du);je(this,no);Te(this,no,!1),Te(this,du,n.defaultOptions),this.setOptions(n.options),this.observers=[],Te(this,Mn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Te(this,ka,eV(this.options)),this.state=n.state??q(this,ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=q(this,Ut))==null?void 0:n.promise}setOptions(n){this.options={...q(this,du),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Mn).remove(this)}setData(n,r){const s=WF(this.state.data,n,this.options);return Lt(this,Xn,Wr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,Xn,Wr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=q(this,Ut))==null?void 0:s.promise;return(i=q(this,Ut))==null||i.cancel(n),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,ka))}isActive(){return this.observers.some(n=>zF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!UF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,Ut))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,Ut))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),q(this,Mn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(q(this,Ut)&&(q(this,no)?q(this,Ut).cancel({revert:!0}):q(this,Ut).cancelRetry()),this.scheduleGc()),q(this,Mn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Xn,Wr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,Ut))return q(this,Ut).continueRetry(),q(this,Ut).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Te(this,no,!0),s.signal)})},o=()=>{const m=mI(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),Te(this,no,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),Te(this,Da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Lt(this,Xn,Wr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,_,v,E;Lm(m)&&m.silent||Lt(this,Xn,Wr).call(this,{type:"error",error:m}),Lm(m)||((_=(y=q(this,Mn).config).onError)==null||_.call(y,m,this),(E=(v=q(this,Mn).config).onSettled)==null||E.call(v,this.state.data,m,this)),this.scheduleGc()};return Te(this,Ut,wI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,_,v,E;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(_=(y=q(this,Mn).config).onSuccess)==null||_.call(y,m,this),(E=(v=q(this,Mn).config).onSettled)==null||E.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{Lt(this,Xn,Wr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Lt(this,Xn,Wr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Xn,Wr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),q(this,Ut).start()}},ka=new WeakMap,Da=new WeakMap,Mn=new WeakMap,Ut=new WeakMap,du=new WeakMap,no=new WeakMap,Xn=new WeakSet,Wr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ZF(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Lm(i)&&i.revert&&q(this,Da)?{...q(this,Da),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,Mn).notify({query:this,type:"updated",action:n})})},F1);function ZF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,V1,tV=(V1=class extends ep{constructor(e={}){super();je(this,yr);this.config=e,Te(this,yr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??I0(s,n);let o=this.get(i);return o||(o=new JF({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){q(this,yr).has(e.queryHash)||(q(this,yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,yr).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,yr).get(e)}getAll(){return[...q(this,yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>EE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>EE(e,r)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=new WeakMap,V1),wr,en,ro,xr,ks,$1,nV=($1=class extends xI{constructor(n){super();je(this,xr);je(this,wr);je(this,en);je(this,ro);this.mutationId=n.mutationId,Te(this,en,n.mutationCache),Te(this,wr,[]),this.state=n.state||rV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){q(this,wr).includes(n)||(q(this,wr).push(n),this.clearGcTimeout(),q(this,en).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Te(this,wr,q(this,wr).filter(r=>r!==n)),this.scheduleGc(),q(this,en).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){q(this,wr).length||(this.state.status==="pending"?this.scheduleGc():q(this,en).remove(this))}continue(){var n;return((n=q(this,ro))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,d,h,p,m,y,_,v,E,x,w,T,N,j,L,C,S;Te(this,ro,wI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{Lt(this,xr,ks).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{Lt(this,xr,ks).call(this,{type:"pause"})},onContinue:()=>{Lt(this,xr,ks).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,en).canRun(this)}));const r=this.state.status==="pending",s=!q(this,ro).canStart();try{if(!r){Lt(this,xr,ks).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=q(this,en).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));A!==this.state.context&&Lt(this,xr,ks).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const P=await q(this,ro).start();return await((h=(d=q(this,en).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,P,n,this.state.context)),await((_=(y=q(this,en).config).onSettled)==null?void 0:_.call(y,P,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,P,null,n,this.state.context)),Lt(this,xr,ks).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(x=q(this,en).config).onError)==null?void 0:w.call(x,P,n,this.state.context,this)),await((N=(T=this.options).onError)==null?void 0:N.call(T,P,n,this.state.context)),await((L=(j=q(this,en).config).onSettled)==null?void 0:L.call(j,void 0,P,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,P,n,this.state.context)),P}finally{Lt(this,xr,ks).call(this,{type:"error",error:P})}}finally{q(this,en).runNext(this)}}},wr=new WeakMap,en=new WeakMap,ro=new WeakMap,xr=new WeakSet,ks=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nn.batch(()=>{q(this,wr).forEach(s=>{s.onMutationUpdate(n)}),q(this,en).notify({mutation:this,type:"updated",action:n})})},$1);function rV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,hu,U1,sV=(U1=class extends ep{constructor(e={}){super();je(this,xn);je(this,hu);this.config=e,Te(this,xn,new Map),Te(this,hu,Date.now())}build(e,n,r){const s=new nV({mutationCache:this,mutationId:++id(this,hu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Id(e),r=q(this,xn).get(n)??[];r.push(e),q(this,xn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Id(e);if(q(this,xn).has(n)){const s=(r=q(this,xn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?q(this,xn).delete(n):q(this,xn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=q(this,xn).get(Id(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=q(this,xn).get(Id(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...q(this,xn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bE(n,r))}findAll(e={}){return this.getAll().filter(n=>bE(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yn))))}},xn=new WeakMap,hu=new WeakMap,U1);function Id(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function CE(t){return{onFetch:(e,n)=>{var h,p,m,y,_;const r=e.options,s=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=mI(e.options,e.fetchOptions),w=async(T,N,j)=>{if(v)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:N,direction:j?"backward":"forward",meta:e.options.meta};E(L);const C=await x(L),{maxPages:S}=e.options,P=j?KF:HF;return{pages:P(T.pages,C,S),pageParams:P(T.pageParams,N,S)}};if(s&&i.length){const T=s==="backward",N=T?iV:IE,j={pages:i,pageParams:o},L=N(r,j);a=await w(j,L,T)}else{const T=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:IE(r,a);if(c>0&&N==null)break;a=await w(a,N),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function IE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,Ks,qs,ja,Ma,Gs,Oa,La,z1,oV=(z1=class{constructor(t={}){je(this,nt);je(this,Ks);je(this,qs);je(this,ja);je(this,Ma);je(this,Gs);je(this,Oa);je(this,La);Te(this,nt,t.queryCache||new tV),Te(this,Ks,t.mutationCache||new sV),Te(this,qs,t.defaultOptions||{}),Te(this,ja,new Map),Te(this,Ma,new Map),Te(this,Gs,0)}mount(){id(this,Gs)._++,q(this,Gs)===1&&(Te(this,Oa,gI.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,nt).onFocus())})),Te(this,La,Gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,nt).onOnline())})))}unmount(){var t,e;id(this,Gs)._--,q(this,Gs)===0&&((t=q(this,Oa))==null||t.call(this),Te(this,Oa,void 0),(e=q(this,La))==null||e.call(this),Te(this,La,void 0))}isFetching(t){return q(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Ks).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=q(this,nt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(_E(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return q(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=VF(e,i);if(o!==void 0)return q(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>q(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,nt);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,nt),r={type:"active",...t};return nn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=nn.batch(()=>q(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(t={},e={}){return nn.batch(()=>{if(q(this,nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=nn.batch(()=>q(this,nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,nt).build(this,e);return n.isStaleByTime(_E(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=CE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=CE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gh.isOnline()?q(this,Ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,nt)}getMutationCache(){return q(this,Ks)}getDefaultOptions(){return q(this,qs)}setDefaultOptions(t){Te(this,qs,t)}setQueryDefaults(t,e){q(this,ja).set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,ja).values()];let n={};return e.forEach(r=>{Yc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){q(this,Ma).set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Ma).values()];let n={};return e.forEach(r=>{Yc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=I0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===A0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,nt).clear(),q(this,Ks).clear()}},nt=new WeakMap,Ks=new WeakMap,qs=new WeakMap,ja=new WeakMap,Ma=new WeakMap,Gs=new WeakMap,Oa=new WeakMap,La=new WeakMap,z1),aV=f.createContext(void 0),lV=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(aV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}var Xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xs||(Xs={}));const AE="popstate";function cV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return xv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qh(s)}return dV(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _I(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uV(){return Math.random().toString(36).substr(2,8)}function PE(t,e){return{usr:t.state,key:t.key,idx:e}}function xv(t,e,n,r){return n===void 0&&(n=null),Xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hl(e):e,{state:n,key:e&&e.key||r||uV()})}function Qh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xs.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Xc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Xs.Pop;let E=h(),x=E==null?null:E-d;d=E,c&&c({action:a,location:v.location,delta:x})}function m(E,x){a=Xs.Push;let w=xv(v.location,E,x);d=h()+1;let T=PE(w,d),N=v.createHref(w);try{o.pushState(T,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}i&&c&&c({action:a,location:v.location,delta:1})}function y(E,x){a=Xs.Replace;let w=xv(v.location,E,x);d=h();let T=PE(w,d),N=v.createHref(w);o.replaceState(T,"",N),i&&c&&c({action:a,location:v.location,delta:0})}function _(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:Qh(E);return w=w.replace(/ $/,"%20"),Ye(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(AE,p),c=E,()=>{s.removeEventListener(AE,p),c=null}},createHref(E){return e(s,E)},createURL:_,encodeLocation(E){let x=_(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(E){return o.go(E)}};return v}var NE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NE||(NE={}));function hV(t,e,n){return n===void 0&&(n="/"),fV(t,e,n,!1)}function fV(t,e,n,r){let s=typeof e=="string"?hl(e):e,i=qa(s.pathname||"/",n);if(i==null)return null;let o=EI(t);pV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=SV(i);a=bV(o[c],d,r)}return a}function EI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ai([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),EI(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_V(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of bI(i.path))s(i,o,c)}),e}function bI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=bI(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function pV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mV=/^:[\w-]+$/,gV=3,vV=2,yV=1,wV=10,xV=-2,RE=t=>t==="*";function _V(t,e){let n=t.split("/"),r=n.length;return n.some(RE)&&(r+=xV),e&&(r+=vV),n.filter(s=>!RE(s)).reduce((s,i)=>s+(mV.test(i)?gV:i===""?yV:wV),r)}function EV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Yh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Yh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ai([i,p.pathname]),pathnameBase:PV(ai([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=ai([i,p.pathnameBase]))}return o}function Yh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[p];return y&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function TV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_I(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _I(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hl(t):t;return{pathname:n?n.startsWith("/")?n:IV(n,e):e,search:NV(r),hash:RV(s)}}function IV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P0(t,e){let n=AV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function N0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hl(t):(s=Xc({},t),Ye(!s.pathname||!s.pathname.includes("?"),Fm("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),Fm("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),Fm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=CV(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),PV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TI=["post","put","patch","delete"];new Set(TI);const DV=["get",...TI];new Set(DV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}const np=f.createContext(null),SI=f.createContext(null),gs=f.createContext(null),rp=f.createContext(null),vs=f.createContext({outlet:null,matches:[],isDataRoute:!1}),CI=f.createContext(null);function jV(t,e){let{relative:n}=e===void 0?{}:e;fl()||Ye(!1);let{basename:r,navigator:s}=f.useContext(gs),{hash:i,pathname:o,search:a}=sp(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ai([r,o])),s.createHref({pathname:c,search:a,hash:i})}function fl(){return f.useContext(rp)!=null}function ys(){return fl()||Ye(!1),f.useContext(rp).location}function II(t){f.useContext(gs).static||f.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=f.useContext(vs);return t?qV():MV()}function MV(){fl()||Ye(!1);let t=f.useContext(np),{basename:e,future:n,navigator:r}=f.useContext(gs),{matches:s}=f.useContext(vs),{pathname:i}=ys(),o=JSON.stringify(P0(s,n.v7_relativeSplatPath)),a=f.useRef(!1);return II(()=>{a.current=!0}),f.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=N0(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ai([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function AI(){let{matches:t}=f.useContext(vs),e=t[t.length-1];return e?e.params:{}}function sp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=f.useContext(gs),{matches:s}=f.useContext(vs),{pathname:i}=ys(),o=JSON.stringify(P0(s,r.v7_relativeSplatPath));return f.useMemo(()=>N0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OV(t,e){return LV(t,e)}function LV(t,e,n,r){fl()||Ye(!1);let{navigator:s}=f.useContext(gs),{matches:i}=f.useContext(vs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ys(),h;if(e){var p;let E=typeof e=="string"?hl(e):e;c==="/"||(p=E.pathname)!=null&&p.startsWith(c)||Ye(!1),h=E}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let E=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=hV(t,{pathname:y}),v=zV(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ai([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:ai([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?f.createElement(rp.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xs.Pop}},v):v}function FV(){let t=KV(),e=kV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,null)}const VV=f.createElement(FV,null);class $V extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(vs.Provider,{value:this.props.routeContext},f.createElement(CI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UV(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(np);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(vs.Provider,{value:e},r)}function zV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:y}=n,_=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let y,_=!1,v=null,E=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||VV,c&&(d<0&&m===0?(_=!0,E=null):d===m&&(_=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),w=()=>{let T;return y?T=v:_?T=E:p.route.Component?T=f.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,f.createElement(UV,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?f.createElement($V,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var PI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PI||{}),Xh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xh||{});function BV(t){let e=f.useContext(np);return e||Ye(!1),e}function WV(t){let e=f.useContext(SI);return e||Ye(!1),e}function HV(t){let e=f.useContext(vs);return e||Ye(!1),e}function NI(t){let e=HV(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function KV(){var t;let e=f.useContext(CI),n=WV(Xh.UseRouteError),r=NI(Xh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qV(){let{router:t}=BV(PI.UseNavigateStable),e=NI(Xh.UseNavigateStable),n=f.useRef(!1);return II(()=>{n.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jc({fromRouteId:e},i)))},[t,e])}function GV(t){let{to:e,replace:n,state:r,relative:s}=t;fl()||Ye(!1);let{future:i,static:o}=f.useContext(gs),{matches:a}=f.useContext(vs),{pathname:c}=ys(),d=jn(),h=N0(e,P0(a,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(h);return f.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function Zt(t){Ye(!1)}function QV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xs.Pop,navigator:i,static:o=!1,future:a}=t;fl()&&Ye(!1);let c=e.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Jc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=hl(r));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:_="default"}=r,v=f.useMemo(()=>{let E=qa(h,c);return E==null?null:{location:{pathname:E,search:p,hash:m,state:y,key:_},navigationType:s}},[c,h,p,m,y,_,s]);return v==null?null:f.createElement(gs.Provider,{value:d},f.createElement(rp.Provider,{children:n,value:v}))}function YV(t){let{children:e,location:n}=t;return OV(_v(e),n)}new Promise(()=>{});function _v(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let i=[...e,s];if(r.type===f.Fragment){n.push.apply(n,_v(r.props.children,i));return}r.type!==Zt&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_v(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function RI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JV(t,e){return t.button===0&&(!e||e==="_self")&&!XV(t)}const ZV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],t$="6";try{window.__reactRouterVersion=t$}catch{}const n$=f.createContext({isTransitioning:!1}),r$="startTransition",kE=wy[r$];function s$(t){let{basename:e,children:n,future:r,window:s}=t,i=f.useRef();i.current==null&&(i.current=cV({window:s,v5Compat:!0}));let o=i.current,[a,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=f.useCallback(p=>{d&&kE?kE(()=>c(p)):c(p)},[c,d]);return f.useLayoutEffect(()=>o.listen(h),[o,h]),f.createElement(QV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const i$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zh=f.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:p}=e,m=RI(e,ZV),{basename:y}=f.useContext(gs),_,v=!1;if(typeof d=="string"&&o$.test(d)&&(_=d,i$))try{let T=new URL(window.location.href),N=d.startsWith("//")?new URL(T.protocol+d):new URL(d),j=qa(N.pathname,y);N.origin===T.origin&&j!=null?d=j+N.search+N.hash:v=!0}catch{}let E=jV(d,{relative:s}),x=l$(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:p});function w(T){r&&r(T),T.defaultPrevented||x(T)}return f.createElement("a",Jh({},m,{href:_||E,onClick:v||i?r:w,ref:n,target:c}))}),DE=f.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:h}=e,p=RI(e,e$),m=sp(c,{relative:p.relative}),y=ys(),_=f.useContext(SI),{navigator:v,basename:E}=f.useContext(gs),x=_!=null&&c$(m)&&d===!0,w=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,T=y.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(T=T.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&E&&(N=qa(N,E)||N);const j=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=T===w||!o&&T.startsWith(w)&&T.charAt(j)==="/",C=N!=null&&(N===w||!o&&N.startsWith(w)&&N.charAt(w.length)==="/"),S={isActive:L,isPending:C,isTransitioning:x},P=L?r:void 0,A;typeof i=="function"?A=i(S):A=[i,L?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(S):a;return f.createElement(Zh,Jh({},p,{"aria-current":P,className:A,ref:n,style:D,to:c,viewTransition:d}),typeof h=="function"?h(S):h)});var Ev;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ev||(Ev={}));var jE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jE||(jE={}));function a$(t){let e=f.useContext(np);return e||Ye(!1),e}function l$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=jn(),d=ys(),h=sp(t,{relative:o});return f.useCallback(p=>{if(JV(p,n)){p.preventDefault();let m=r!==void 0?r:Qh(d)===Qh(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}function c$(t,e){e===void 0&&(e={});let n=f.useContext(n$);n==null&&Ye(!1);let{basename:r}=a$(Ev.useViewTransitionState),s=sp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=qa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=qa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yh(s.pathname,o)!=null||Yh(s.pathname,i)!=null}const st=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));st.displayName="Card";const Wt=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));Wt.displayName="CardHeader";const Ht=f.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ht.displayName="CardTitle";const ip=f.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));ip.displayName="CardDescription";const Ge=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ie("p-6 pt-0",t),...e}));Ge.displayName="CardContent";const op=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",t),...e}));op.displayName="CardFooter";const u$=wu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=f.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ss:"button";return l.jsx(o,{className:ie(u$({variant:e,size:n,className:t})),ref:i,...s})});le.displayName="Button";const kI=({property:t})=>{const e=jn();return l.jsxs(st,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/properties/${t.id}`),children:[l.jsx(Ge,{className:"p-0",children:l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:l.jsx(xu,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900 truncate",children:t.name}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.address})]})]})})}),l.jsxs(op,{className:"p-4 pt-0 border-t border-gray-100 flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:t.city}),l.jsx("span",{children:t.type})]})]})},d$={open:"bg-status-new","in-progress":"bg-status-inprogress",closed:"bg-status-completed",canceled:"bg-status-canceled"},Er={open:"Offen","in-progress":"In Bearbeitung",closed:"Abgeschlossen",canceled:"Storniert"},mo=({status:t,className:e})=>l.jsx("span",{className:ie("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium text-white",d$[t],e),children:Er[t]});var R0="Avatar",[h$,UG]=dr(R0),[f$,DI]=h$(R0),jI=f.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=f.useState("idle");return l.jsx(f$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(he.span,{...r,ref:e})})});jI.displayName=R0;var MI="AvatarImage",OI=f.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=DI(MI,n),a=p$(r,i.referrerPolicy),c=kt(d=>{s(d),o.onImageLoadingStatusChange(d)});return yt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(he.img,{...i,ref:e,src:r}):null});OI.displayName=MI;var LI="AvatarFallback",FI=f.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=DI(LI,n),[o,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(he.span,{...s,ref:e}):null});FI.displayName=LI;function p$(t,e){const[n,r]=f.useState("idle");return yt(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var VI=jI,$I=OI,UI=FI;const k0=f.forwardRef(({className:t,...e},n)=>l.jsx(VI,{ref:n,className:ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));k0.displayName=VI.displayName;const D0=f.forwardRef(({className:t,...e},n)=>l.jsx($I,{ref:n,className:ie("aspect-square h-full w-full",t),...e}));D0.displayName=$I.displayName;const j0=f.forwardRef(({className:t,...e},n)=>l.jsx(UI,{ref:n,className:ie("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));j0.displayName=UI.displayName;const m$=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},g$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},BI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new v$;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),p!==64){const _=d<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y$=function(t){const e=zI(t);return BI.encodeByteArray(e,!0)},ef=function(t){return y$(t).replace(/\./g,"")},WI=function(t){try{return BI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=()=>w$().__FIREBASE_DEFAULTS__,_$=()=>{if(typeof process>"u"||typeof ME>"u")return;const t=ME.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WI(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return m$()||x$()||_$()||E$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HI=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b$=t=>{const e=HI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KI=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config},qI=t=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ef(JSON.stringify(n)),ef(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function I$(){var t;const e=(t=ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R$(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k$(){return!I$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D$(){try{return typeof indexedDB=="object"}catch{return!1}}function j$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M$,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?O$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function O$(t,e){return t.replace(L$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L$=/\{\$([^}]+)}/g;function F$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(OE(i)&&OE(o)){if(!go(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function OE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V$(t,e){const n=new $$(t,e);return n.subscribe.bind(n)}class $${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vm),s.error===void 0&&(s.error=Vm),s.complete===void 0&&(s.complete=Vm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return t.endsWith(".cloudworkstations.dev")}async function GI(t){return(await fetch(t,{credentials:"include"})).ok}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W$(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B$(t){return t===Ki?void 0:t}function W$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const K$={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},q$=Ae.INFO,G$={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Q$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=G$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M0{constructor(e){this.name=e,this._logLevel=q$,this._logHandler=Q$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const Y$=(t,e)=>e.some(n=>t instanceof n);let LE,FE;function X$(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J$(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,bv=new WeakMap,YI=new WeakMap,$m=new WeakMap,O0=new WeakMap;function Z$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(li(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function e5(t){if(bv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bv.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t5(t){Tv=t(Tv)}function n5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Um(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),li(r)}:J$().includes(t)?function(...e){return t.apply(Um(this),e),li(QI.get(this))}:function(...e){return li(t.apply(Um(this),e))}}function r5(t){return typeof t=="function"?n5(t):(t instanceof IDBTransaction&&e5(t),Y$(t,X$())?new Proxy(t,Tv):t)}function li(t){if(t instanceof IDBRequest)return Z$(t);if($m.has(t))return $m.get(t);const e=r5(t);return e!==t&&($m.set(t,e),O0.set(e,t)),e}const Um=t=>O0.get(t);function s5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",c=>{r(li(o.result),c.oldVersion,c.newVersion,li(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const i5=["get","getKey","getAll","getAllKeys","count"],o5=["put","add","delete","clear"],zm=new Map;function VE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i5.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return zm.set(e,i),i}t5(t=>({...t,get:(e,n,r)=>VE(e,n)||t.get(e,n,r),has:(e,n)=>!!VE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sv="@firebase/app",$E="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new M0("@firebase/app"),c5="@firebase/app-compat",u5="@firebase/analytics-compat",d5="@firebase/analytics",h5="@firebase/app-check-compat",f5="@firebase/app-check",p5="@firebase/auth",m5="@firebase/auth-compat",g5="@firebase/database",v5="@firebase/data-connect",y5="@firebase/database-compat",w5="@firebase/functions",x5="@firebase/functions-compat",_5="@firebase/installations",E5="@firebase/installations-compat",b5="@firebase/messaging",T5="@firebase/messaging-compat",S5="@firebase/performance",C5="@firebase/performance-compat",I5="@firebase/remote-config",A5="@firebase/remote-config-compat",P5="@firebase/storage",N5="@firebase/storage-compat",R5="@firebase/firestore",k5="@firebase/vertexai",D5="@firebase/firestore-compat",j5="firebase",M5="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",O5={[Sv]:"fire-core",[c5]:"fire-core-compat",[d5]:"fire-analytics",[u5]:"fire-analytics-compat",[f5]:"fire-app-check",[h5]:"fire-app-check-compat",[p5]:"fire-auth",[m5]:"fire-auth-compat",[g5]:"fire-rtdb",[v5]:"fire-data-connect",[y5]:"fire-rtdb-compat",[w5]:"fire-fn",[x5]:"fire-fn-compat",[_5]:"fire-iid",[E5]:"fire-iid-compat",[b5]:"fire-fcm",[T5]:"fire-fcm-compat",[S5]:"fire-perf",[C5]:"fire-perf-compat",[I5]:"fire-rc",[A5]:"fire-rc-compat",[P5]:"fire-gcs",[N5]:"fire-gcs-compat",[R5]:"fire-fst",[D5]:"fire-fst-compat",[k5]:"fire-vertex","fire-js":"fire-js",[j5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,L5=new Map,Iv=new Map;function UE(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if(Iv.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(const n of tf.values())UE(n,t);for(const n of L5.values())UE(n,t);return!0}function L0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new bu("app","Firebase",F5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=M5;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ci.create("bad-app-name",{appName:String(s)});if(n||(n=KI()),!n)throw ci.create("no-options");const i=tf.get(s);if(i){if(go(n,i.options)&&go(r,i.config))return i;throw ci.create("duplicate-app",{appName:s})}const o=new H$(s);for(const c of Iv.values())o.addComponent(c);const a=new V5(n,r,o);return tf.set(s,a),a}function JI(t=Cv){const e=tf.get(t);if(!e&&t===Cv&&KI())return XI();if(!e)throw ci.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let s=(r=O5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(a.join(" "));return}Ga(new vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="firebase-heartbeat-database",U5=1,Zc="firebase-heartbeat-store";let Bm=null;function ZI(){return Bm||(Bm=s5($5,U5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function z5(t){try{const n=(await ZI()).transaction(Zc),r=await n.objectStore(Zc).get(eA(t));return await n.done,r}catch(e){if(e instanceof ws)as.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function zE(t,e){try{const r=(await ZI()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,eA(t)),await r.done}catch(n){if(n instanceof ws)as.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function eA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=1024,W5=30;class H5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=BE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>W5){const o=G5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BE(),{heartbeatsToSend:r,unsentEntries:s}=K5(this._heartbeatsCache.heartbeats),i=ef(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return as.warn(n),""}}}function BE(){return new Date().toISOString().substring(0,10)}function K5(t,e=B5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),WE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),WE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D$()?j$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function WE(t){return ef(JSON.stringify({version:2,heartbeats:t})).length}function G5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){Ga(new vo("platform-logger",e=>new a5(e),"PRIVATE")),Ga(new vo("heartbeat",e=>new H5(e),"PRIVATE")),ui(Sv,$E,t),ui(Sv,$E,"esm2017"),ui("fire-js","")}Q5("");var qt=function(){return qt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qt.apply(this,arguments)};function ml(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tA(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function nA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y5=nA,rA=new bu("auth","Firebase",nA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new M0("@firebase/auth");function X5(t,...e){nf.logLevel<=Ae.WARN&&nf.warn(`Auth (${pl}): ${t}`,...e)}function sh(t,...e){nf.logLevel<=Ae.ERROR&&nf.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw F0(t,...e)}function Ar(t,...e){return F0(t,...e)}function sA(t,e,n){const r=Object.assign(Object.assign({},Y5()),{[e]:n});return new bu("auth","Firebase",r).create(e,{appName:t.name})}function Pr(t){return sA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rA.create(t,...e)}function me(t,e,...n){if(!t)throw F0(e,...n)}function Yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function ls(t,e){t||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function J5(){return HE()==="http:"||HE()==="https:"}function HE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J5()||P$()||"connection"in navigator)?navigator.onLine:!0}function e3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=C$()||N$()}get(){return Z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r3=new Su(3e4,6e4);function Ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,s={}){return oA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return A$()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&lp(t.emulatorConfig.host)&&(d.credentials="include"),iA.fetch()(await aA(t,t.config.apiHost,n,a),d)})}async function oA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},t3),e);try{const s=new i3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ad(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ad(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sA(t,h,d);ur(t,h)}}catch(s){if(s instanceof ws)throw s;ur(t,"network-request-failed",{message:String(s)})}}async function Cu(t,e,n,r,s={}){const i=await xs(t,e,n,r,s);return"mfaPendingCredential"in i&&ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function aA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?V0(t.config,s):`${t.config.apiScheme}://${s}`;return n3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function s3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),r3.get())})}}function Ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ar(t,e,r);return s.customData._tokenResponse=n,s}function KE(t){return t!==void 0&&t.enterprise!==void 0}class o3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a3(t,e){return xs(t,"GET","/v2/recaptchaConfig",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function rf(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c3(t,e=!1){const n=bt(t),r=await n.getIdToken(e),s=$0(r);me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_c(Wm(s.auth_time)),issuedAtTime:_c(Wm(s.iat)),expirationTime:_c(Wm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wm(t){return Number(t)*1e3}function $0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=WI(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qE(t){const e=$0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&u3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Qa(t,rf(n,{idToken:r}));me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?lA(i.providerUserInfo):[],a=f3(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function h3(t){const e=bt(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lA(t){return t.map(e=>{var{providerId:n}=e,r=ml(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e){const n=await oA(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await aA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m3(t,e){return xs(t,"POST","/v2/accounts:revokeToken",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=qE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await p3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _a;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ml(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c3(this,e)}reload(){return h3(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await Qa(this,l3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:N,isAnonymous:j,providerData:L,stsTokenManager:C}=n;me(T&&C,e,"internal-error");const S=_a.fromJSON(this.name,C);me(typeof T=="string",e,"internal-error"),Rs(p,e.name),Rs(m,e.name),me(typeof N=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),Rs(y,e.name),Rs(_,e.name),Rs(v,e.name),Rs(E,e.name),Rs(x,e.name),Rs(w,e.name);const P=new er({uid:T,auth:e,email:m,emailVerified:N,displayName:p,isAnonymous:j,photoURL:_,phoneNumber:y,tenantId:v,stsTokenManager:S,createdAt:x,lastLoginAt:w});return L&&Array.isArray(L)&&(P.providerData=L.map(A=>Object.assign({},A))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new _a;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?lA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _a;a.updateFromIdToken(r);const c=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;function Xr(t){ls(t instanceof Function,"Expected a class definition");let e=GE.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cA.type="NONE";const QE=cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ih(this.userKey,s.apiKey,i),this.fullPersistenceKey=ih("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(Xr(QE),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Xr(QE);const o=ih(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let p;if(typeof h=="string"){const m=await rf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await er._fromGetAccountInfoResponse(e,m,h)}else p=er._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ea(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ea(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(gA(e))return"Webos";if(dA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(pA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uA(t=Qt()){return/firefox\//i.test(t)}function dA(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=Qt()){return/crios\//i.test(t)}function fA(t=Qt()){return/iemobile/i.test(t)}function pA(t=Qt()){return/android/i.test(t)}function mA(t=Qt()){return/blackberry/i.test(t)}function gA(t=Qt()){return/webos/i.test(t)}function U0(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g3(t=Qt()){var e;return U0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v3(){return R$()&&document.documentMode===10}function vA(t=Qt()){return U0(t)||pA(t)||gA(t)||mA(t)||/windows phone/i.test(t)||fA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e=[]){let n;switch(t){case"Browser":n=YE(Qt());break;case"Worker":n=`${YE(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e={}){return xs(t,"GET","/v2/passwordPolicy",Ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=6;class _3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new y3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Pr(this));const n=e?bt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w3(this),n=new _3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&X5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ki(t){return bt(t)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=V$(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b3(t){cp=t}function wA(t){return cp.loadJS(t)}function T3(){return cp.recaptchaEnterpriseScript}function S3(){return cp.gapiScript}function C3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I3{constructor(){this.enterprise=new A3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P3="recaptcha-enterprise",xA="NO_RECAPTCHA";class N3{constructor(e){this.type=P3,this.auth=ki(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new o3(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;KE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(xA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&KE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=T3();c.length!==0&&(c+=a),wA(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function JE(t,e,n,r=!1,s=!1){const i=new N3(t);let o;if(s)o=xA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Nv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await JE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await JE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){const n=L0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(go(i,e??{}))return s;ur(s,"already-initialized")}return n.initialize({options:e})}function k3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D3(t,e,n){const r=ki(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=_A(e),{host:o,port:a}=j3(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(go(d,r.config.emulator)&&go(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,M3(),lp(o)&&GI(`${i}//${o}${c}`)}function _A(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j3(t){const e=_A(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ZE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ZE(o)}}}function ZE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function O3(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){return Cu(t,"POST","/v1/accounts:signInWithPassword",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}async function V3(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends z0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nv(e,n,"signInWithPassword",L3);case"emailLink":return F3(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nv(e,r,"signUpPassword",O3);case"emailLink":return V3(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e){return Cu(t,"POST","/v1/accounts:signInWithIdp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="http://localhost";class yo extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ml(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ba(e,n)}buildRequest(){const e={requestUri:$3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z3(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class B0{constructor(e){var n,r,s,i,o,a;const c=tc(nc(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=U3((s=c.mode)!==null&&s!==void 0?s:null);me(d&&h&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=z3(e);try{return new B0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=B0.parseLink(n);return me(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends EA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Iu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Iu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Iu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e){return Cu(t,"POST","/v1/accounts:signUp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=eb(r);return new cs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=eb(r);return new cs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t){var e;if(Tn(t.app))return Promise.reject(Pr(t));const n=ki(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new cs({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await bA(n,{returnSecureToken:!0}),s=await cs._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends ws{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new of(e,n,r,s)}}function TA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(t,i,e,r):i})}async function W3(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(Pr(r));const s="reauthenticate";try{const i=await Qa(t,TA(r,s,e,t),n);me(i.idToken,r,"internal-error");const o=$0(i.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),cs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e,n=!1){if(Tn(t.app))return Promise.reject(Pr(t));const r="signIn",s=await TA(t,r,e),i=await cs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function K3(t,e){return SA(ki(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t){const e=ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IA(t,e,n){if(Tn(t.app))return Promise.reject(Pr(t));const r=ki(t),o=await Nv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bA).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&CA(t),c}),a=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AA(t,e,n){return Tn(t.app)?Promise.reject(Pr(t)):K3(bt(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e){return xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=bt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qa(r,q3(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Q3(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function Y3(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function W0(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function PA(t){return bt(t).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=1e3,J3=10;class RA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);v3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RA.type="LOCAL";const Z3=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kA.type="SESSION";const DA=kA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await e6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=H0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function n6(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function r6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i6(){return jA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebaseLocalStorageDb",o6=1,lf="firebaseLocalStorage",OA="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dp(t,e){return t.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function a6(){const t=indexedDB.deleteDatabase(MA);return new Au(t).toPromise()}function Rv(){const t=indexedDB.open(MA,o6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lf,{keyPath:OA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lf)?e(r):(r.close(),await a6(),e(await Rv()))})})}async function tb(t,e,n){const r=dp(t,!0).put({[OA]:e,value:n});return new Au(r).toPromise()}async function l6(t,e){const n=dp(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function nb(t,e){const n=dp(t,!0).delete(e);return new Au(n).toPromise()}const c6=800,u6=3;class LA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(i6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r6(),!this.activeServiceWorker)return;this.sender=new t6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await tb(e,af,"1"),await nb(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=dp(s,!1).getAll();return new Au(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LA.type="LOCAL";const d6=LA;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e){return e?Xr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f6(t){return SA(t.auth,new K0(t),t.bypassAuthState)}function p6(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),H3(n,new K0(t),t.bypassAuthState)}async function m6(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),W3(n,new K0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f6;case"linkViaPopup":case"linkViaRedirect":return m6;case"reauthViaPopup":case"reauthViaRedirect":return p6;default:ur(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Su(2e3,1e4);class da extends FA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=H0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g6.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",oh=new Map;class y6 extends FA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await w6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w6(t,e){const n=E6(e),r=_6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function x6(t,e){oh.set(t._key(),e)}function _6(t){return Xr(t._redirectPersistence)}function E6(t){return ih(v6,t.config.apiKey,t.name)}async function b6(t,e,n=!1){if(Tn(t.app))return Promise.reject(Pr(t));const r=ki(t),s=h6(r,e),o=await new y6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=10*60*1e3;class S6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T6&&this.cachedEventUids.clear(),this.cachedEventUids.has(rb(e))}saveEventToCache(e){this.cachedEventUids.add(rb(e)),this.lastProcessedEventTime=Date.now()}}function rb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P6=/^https?/;async function N6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I6(t);for(const n of e)try{if(R6(n))return}catch{}ur(t,"unauthorized-domain")}function R6(t){const e=Av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P6.test(n))return!1;if(A6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new Su(3e4,6e4);function sb(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D6(t){return new Promise((e,n)=>{var r,s,i;function o(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),n(Ar(t,"network-request-failed"))},timeout:k6.get()})}if(!((s=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Nr().gapi)===null||i===void 0)&&i.load)o();else{const a=C3("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},wA(`${S3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ah=null,e})}let ah=null;function j6(t){return ah=ah||D6(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Su(5e3,15e3),O6="__/auth/iframe",L6="emulator/auth/iframe",F6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $6(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V0(e,L6):`https://${t.config.authDomain}/${O6}`,r={apiKey:e.apiKey,appName:t.name,v:pl},s=V6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tu(r).slice(1)}`}async function U6(t){const e=await j6(t),n=Nr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:$6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),a=Nr().setTimeout(()=>{i(o)},M6.get());function c(){Nr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B6=500,W6=600,H6="_blank",K6="http://localhost";class ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q6(t,e,n,r=B6,s=W6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},z6),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Qt().toLowerCase();n&&(a=hA(d)?H6:n),uA(d)&&(e=e||K6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(g3(d)&&a!=="_self")return G6(e||"",a),new ib(null);const p=window.open(e||"",a,h);me(p,t,"popup-blocked");try{p.focus()}catch{}return new ib(p)}function G6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="__/auth/handler",Y6="emulator/auth/handler",X6=encodeURIComponent("fac");async function ob(t,e,n,r,s,i){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:s};if(e instanceof EA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Iu){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${X6}=${encodeURIComponent(c)}`:"";return`${J6(t)}?${Tu(a).slice(1)}${d}`}function J6({config:t}){return t.emulator?V0(t,Y6):`https://${t.authDomain}/${Q6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class Z6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=b6,this._overrideRedirectResult=x6}async _openPopup(e,n,r,s){var i;ls((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ob(e,n,r,Av(),s);return q6(e,o,H0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ob(e,n,r,Av(),s);return n6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ls(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U6(e),r=new S6(e);return n.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hm];o!==void 0&&n(!!o),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vA()||dA()||U0()}}const eU=Z6;var ab="@firebase/auth",lb="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rU(t){Ga(new vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(t)},d=new E3(r,s,i,c);return k3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new vo("auth-internal",e=>{const n=ki(e.getProvider("auth").getImmediate());return(r=>new tU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(ab,lb,nU(t)),ui(ab,lb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=5*60,iU=qI("authIdTokenMaxAge")||sU;let cb=null;const oU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iU)return;const s=n==null?void 0:n.token;cb!==s&&(cb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aU(t=JI()){const e=L0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R3(t,{popupRedirectResolver:eU,persistence:[d6,Z3,DA]}),r=qI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oU(i.toString());Y3(n,o,()=>o(n.currentUser)),Q3(n,a=>o(a))}}const s=HI("auth");return s&&D3(n,`http://${s}`),n}function lU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ar("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rU("Browser");var cU="firebase",uU="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(cU,uU,"app");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,$A;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function P(){}P.prototype=S.prototype,C.D=S.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(A,D,O){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return S.prototype[D].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,P){P||(P=0);var A=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)A[D]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(D=0;16>D;++D)A[D]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=C.g[0],P=C.g[1],D=C.g[2];var O=C.g[3],I=S+(O^P&(D^O))+A[0]+3614090360&4294967295;S=P+(I<<7&4294967295|I>>>25),I=O+(D^S&(P^D))+A[1]+3905402710&4294967295,O=S+(I<<12&4294967295|I>>>20),I=D+(P^O&(S^P))+A[2]+606105819&4294967295,D=O+(I<<17&4294967295|I>>>15),I=P+(S^D&(O^S))+A[3]+3250441966&4294967295,P=D+(I<<22&4294967295|I>>>10),I=S+(O^P&(D^O))+A[4]+4118548399&4294967295,S=P+(I<<7&4294967295|I>>>25),I=O+(D^S&(P^D))+A[5]+1200080426&4294967295,O=S+(I<<12&4294967295|I>>>20),I=D+(P^O&(S^P))+A[6]+2821735955&4294967295,D=O+(I<<17&4294967295|I>>>15),I=P+(S^D&(O^S))+A[7]+4249261313&4294967295,P=D+(I<<22&4294967295|I>>>10),I=S+(O^P&(D^O))+A[8]+1770035416&4294967295,S=P+(I<<7&4294967295|I>>>25),I=O+(D^S&(P^D))+A[9]+2336552879&4294967295,O=S+(I<<12&4294967295|I>>>20),I=D+(P^O&(S^P))+A[10]+4294925233&4294967295,D=O+(I<<17&4294967295|I>>>15),I=P+(S^D&(O^S))+A[11]+2304563134&4294967295,P=D+(I<<22&4294967295|I>>>10),I=S+(O^P&(D^O))+A[12]+1804603682&4294967295,S=P+(I<<7&4294967295|I>>>25),I=O+(D^S&(P^D))+A[13]+4254626195&4294967295,O=S+(I<<12&4294967295|I>>>20),I=D+(P^O&(S^P))+A[14]+2792965006&4294967295,D=O+(I<<17&4294967295|I>>>15),I=P+(S^D&(O^S))+A[15]+1236535329&4294967295,P=D+(I<<22&4294967295|I>>>10),I=S+(D^O&(P^D))+A[1]+4129170786&4294967295,S=P+(I<<5&4294967295|I>>>27),I=O+(P^D&(S^P))+A[6]+3225465664&4294967295,O=S+(I<<9&4294967295|I>>>23),I=D+(S^P&(O^S))+A[11]+643717713&4294967295,D=O+(I<<14&4294967295|I>>>18),I=P+(O^S&(D^O))+A[0]+3921069994&4294967295,P=D+(I<<20&4294967295|I>>>12),I=S+(D^O&(P^D))+A[5]+3593408605&4294967295,S=P+(I<<5&4294967295|I>>>27),I=O+(P^D&(S^P))+A[10]+38016083&4294967295,O=S+(I<<9&4294967295|I>>>23),I=D+(S^P&(O^S))+A[15]+3634488961&4294967295,D=O+(I<<14&4294967295|I>>>18),I=P+(O^S&(D^O))+A[4]+3889429448&4294967295,P=D+(I<<20&4294967295|I>>>12),I=S+(D^O&(P^D))+A[9]+568446438&4294967295,S=P+(I<<5&4294967295|I>>>27),I=O+(P^D&(S^P))+A[14]+3275163606&4294967295,O=S+(I<<9&4294967295|I>>>23),I=D+(S^P&(O^S))+A[3]+4107603335&4294967295,D=O+(I<<14&4294967295|I>>>18),I=P+(O^S&(D^O))+A[8]+1163531501&4294967295,P=D+(I<<20&4294967295|I>>>12),I=S+(D^O&(P^D))+A[13]+2850285829&4294967295,S=P+(I<<5&4294967295|I>>>27),I=O+(P^D&(S^P))+A[2]+4243563512&4294967295,O=S+(I<<9&4294967295|I>>>23),I=D+(S^P&(O^S))+A[7]+1735328473&4294967295,D=O+(I<<14&4294967295|I>>>18),I=P+(O^S&(D^O))+A[12]+2368359562&4294967295,P=D+(I<<20&4294967295|I>>>12),I=S+(P^D^O)+A[5]+4294588738&4294967295,S=P+(I<<4&4294967295|I>>>28),I=O+(S^P^D)+A[8]+2272392833&4294967295,O=S+(I<<11&4294967295|I>>>21),I=D+(O^S^P)+A[11]+1839030562&4294967295,D=O+(I<<16&4294967295|I>>>16),I=P+(D^O^S)+A[14]+4259657740&4294967295,P=D+(I<<23&4294967295|I>>>9),I=S+(P^D^O)+A[1]+2763975236&4294967295,S=P+(I<<4&4294967295|I>>>28),I=O+(S^P^D)+A[4]+1272893353&4294967295,O=S+(I<<11&4294967295|I>>>21),I=D+(O^S^P)+A[7]+4139469664&4294967295,D=O+(I<<16&4294967295|I>>>16),I=P+(D^O^S)+A[10]+3200236656&4294967295,P=D+(I<<23&4294967295|I>>>9),I=S+(P^D^O)+A[13]+681279174&4294967295,S=P+(I<<4&4294967295|I>>>28),I=O+(S^P^D)+A[0]+3936430074&4294967295,O=S+(I<<11&4294967295|I>>>21),I=D+(O^S^P)+A[3]+3572445317&4294967295,D=O+(I<<16&4294967295|I>>>16),I=P+(D^O^S)+A[6]+76029189&4294967295,P=D+(I<<23&4294967295|I>>>9),I=S+(P^D^O)+A[9]+3654602809&4294967295,S=P+(I<<4&4294967295|I>>>28),I=O+(S^P^D)+A[12]+3873151461&4294967295,O=S+(I<<11&4294967295|I>>>21),I=D+(O^S^P)+A[15]+530742520&4294967295,D=O+(I<<16&4294967295|I>>>16),I=P+(D^O^S)+A[2]+3299628645&4294967295,P=D+(I<<23&4294967295|I>>>9),I=S+(D^(P|~O))+A[0]+4096336452&4294967295,S=P+(I<<6&4294967295|I>>>26),I=O+(P^(S|~D))+A[7]+1126891415&4294967295,O=S+(I<<10&4294967295|I>>>22),I=D+(S^(O|~P))+A[14]+2878612391&4294967295,D=O+(I<<15&4294967295|I>>>17),I=P+(O^(D|~S))+A[5]+4237533241&4294967295,P=D+(I<<21&4294967295|I>>>11),I=S+(D^(P|~O))+A[12]+1700485571&4294967295,S=P+(I<<6&4294967295|I>>>26),I=O+(P^(S|~D))+A[3]+2399980690&4294967295,O=S+(I<<10&4294967295|I>>>22),I=D+(S^(O|~P))+A[10]+4293915773&4294967295,D=O+(I<<15&4294967295|I>>>17),I=P+(O^(D|~S))+A[1]+2240044497&4294967295,P=D+(I<<21&4294967295|I>>>11),I=S+(D^(P|~O))+A[8]+1873313359&4294967295,S=P+(I<<6&4294967295|I>>>26),I=O+(P^(S|~D))+A[15]+4264355552&4294967295,O=S+(I<<10&4294967295|I>>>22),I=D+(S^(O|~P))+A[6]+2734768916&4294967295,D=O+(I<<15&4294967295|I>>>17),I=P+(O^(D|~S))+A[13]+1309151649&4294967295,P=D+(I<<21&4294967295|I>>>11),I=S+(D^(P|~O))+A[4]+4149444226&4294967295,S=P+(I<<6&4294967295|I>>>26),I=O+(P^(S|~D))+A[11]+3174756917&4294967295,O=S+(I<<10&4294967295|I>>>22),I=D+(S^(O|~P))+A[2]+718787259&4294967295,D=O+(I<<15&4294967295|I>>>17),I=P+(O^(D|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var P=S-this.blockSize,A=this.B,D=this.h,O=0;O<S;){if(D==0)for(;O<=P;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<S;)if(A[D++]=C.charCodeAt(O++),D==this.blockSize){s(this,A),D=0;break}}else for(;O<S;)if(A[D++]=C[O++],D==this.blockSize){s(this,A),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var P=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=P&255,P/=256;for(this.u(C),C=Array(16),S=P=0;4>S;++S)for(var A=0;32>A;A+=8)C[P++]=this.g[S]>>>A&255;return C};function i(C,S){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=S(C)}function o(C,S){this.h=S;for(var P=[],A=!0,D=C.length-1;0<=D;D--){var O=C[D]|0;A&&O==S||(P[D]=O,A=!1)}this.g=P}var a={};function c(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return E(d(-C));for(var S=[],P=1,A=0;C>=P;A++)S[A]=C/P|0,P*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return E(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(S,8)),A=p,D=0;D<C.length;D+=8){var O=Math.min(8,C.length-D),I=parseInt(C.substring(D,D+O),S);8>O?(O=d(Math.pow(S,O)),A=A.j(O).add(d(I))):(A=A.j(P),A=A.add(d(I)))}return A}var p=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,S=1,P=0;P<this.g.length;P++){var A=this.i(P);C+=(0<=A?A:4294967296+A)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var S=d(Math.pow(C,6)),P=this,A="";;){var D=N(P,S).g;P=x(P,D.j(S));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=D,_(P))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:_(C)?0:1};function E(C){for(var S=C.g.length,P=[],A=0;A<S;A++)P[A]=~C.g[A];return new o(P,~C.h).add(m)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0,D=0;D<=S;D++){var O=A+(this.i(D)&65535)+(C.i(D)&65535),I=(O>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);A=I>>>16,O&=65535,I&=65535,P[D]=I<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(C,S){return C.add(E(S))}t.j=function(C){if(_(this)||_(C))return p;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(y)&&0>C.l(y))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,P=[],A=0;A<2*S;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<C.g.length;D++){var O=this.i(A)>>>16,I=this.i(A)&65535,z=C.i(D)>>>16,$=C.i(D)&65535;P[2*A+2*D]+=I*$,w(P,2*A+2*D),P[2*A+2*D+1]+=O*$,w(P,2*A+2*D+1),P[2*A+2*D+1]+=I*z,w(P,2*A+2*D+1),P[2*A+2*D+2]+=O*z,w(P,2*A+2*D+2)}for(A=0;A<S;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=S;A<2*S;A++)P[A]=0;return new o(P,0)};function w(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function N(C,S){if(_(S))throw Error("division by zero");if(_(C))return new T(p,p);if(v(C))return S=N(E(C),S),new T(E(S.g),E(S.h));if(v(S))return S=N(C,E(S)),new T(E(S.g),S.h);if(30<C.g.length){if(v(C)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=m,A=S;0>=A.l(C);)P=j(P),A=j(A);var D=L(P,1),O=L(A,1);for(A=L(A,2),P=L(P,2);!_(A);){var I=O.add(A);0>=I.l(C)&&(D=D.add(P),O=I),A=L(A,1),P=L(P,1)}return S=x(C,D.j(S)),new T(D,S)}for(D=p;0<=C.l(S);){for(P=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=d(P),I=O.j(S);v(I)||0<I.l(C);)P-=A,O=d(P),I=O.j(S);_(O)&&(O=m),D=D.add(O),C=x(C,I)}return new T(D,C)}t.A=function(C){return N(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)&C.i(A);return new o(P,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)|C.i(A);return new o(P,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)^C.i(A);return new o(P,this.h^C.h)};function j(C){for(var S=C.g.length+1,P=[],A=0;A<S;A++)P[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(P,C.h)}function L(C,S){var P=S>>5;S%=32;for(var A=C.g.length-P,D=[],O=0;O<A;O++)D[O]=0<S?C.i(O+P)>>>S|C.i(O+P+1)<<32-S:C.i(O+P);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$A=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,di=o}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,rc,zA,lh,kv,BA,WA,HA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,b){return u==Array.prototype||u==Object.prototype||(u[g]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var V=u[R];if(!(V in b))break e;b=b[V]}u=u[u.length-1],R=b[u],g=g(R),g!=R&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var b=0,R=!1,V={next:function(){if(!R&&b<u.length){var B=b++;return{value:g(B,u[B]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,b){return u.call.apply(u.bind,arguments)}function p(u,g,b){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function m(u,g,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function _(u,g){function b(){}b.prototype=g.prototype,u.aa=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(R,V,B){for(var ne=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ne[Ve-2]=arguments[Ve];return g.prototype[V].apply(R,ne)}}function v(u){const g=u.length;if(0<g){const b=Array(g);for(let R=0;R<g;R++)b[R]=u[R];return b}return[]}function E(u,g){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(c(R)){const V=u.length||0,B=R.length||0;u.length=V+B;for(let ne=0;ne<B;ne++)u[V+ne]=R[ne]}else u.push(R)}}class x{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(u,g,b){for(const R in u)g.call(b,u[R],R,u)}function C(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function S(u){const g={};for(const b in u)g[b]=u[b];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,g){let b,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(b in R)u[b]=R[b];for(let B=0;B<P.length;B++)b=P[B],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function D(u){var g=1;u=u.split(":");const b=[];for(;0<g&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function O(u){a.setTimeout(()=>{throw u},0)}function I(){var u=k;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,b){const R=$.get();R.set(g,b),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new x(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,M=!1,k=new z,U=()=>{const u=a.Promise.resolve(void 0);Y=()=>{u.then(H)}};var H=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(b){O(b)}var g=$;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}M=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return u}();function te(u,g){if(G.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(j){e:{try{N(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Z[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&te.aa.h.call(this)}}_(te,G);var Z={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),de=0;function ve(u,g,b,R,V){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!R,this.ha=V,this.key=++de,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,g,b,R,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var ne=ot(u,g,R,V);return-1<ne?(g=u[ne],b||(g.fa=!1)):(g=new ve(g,this.src,B,!!R,V),g.fa=b,u.push(g)),g};function Ce(u,g){var b=g.type;if(b in u.g){var R=u.g[b],V=Array.prototype.indexOf.call(R,g,void 0),B;(B=0<=V)&&Array.prototype.splice.call(R,V,1),B&&(pe(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ot(u,g,b,R){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==g&&B.capture==!!b&&B.ha==R)return V}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Tt={};function wt(u,g,b,R,V){if(Array.isArray(g)){for(var B=0;B<g.length;B++)wt(u,g[B],b,R,V);return null}return b=Cl(b),u&&u[J]?u.K(g,b,d(R)?!!R.capture:!!R,V):Yt(u,g,b,!1,R,V)}function Yt(u,g,b,R,V,B){if(!g)throw Error("Invalid event type");var ne=d(V)?!!V.capture:!!V,Ve=Es(u);if(Ve||(u[ht]=Ve=new be(u)),b=Ve.add(g,b,R,ne,B),b.proxy)return b;if(R=Fi(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)se||(V=ne),V===void 0&&(V=!1),u.addEventListener(g.toString(),R,V);else if(u.attachEvent)u.attachEvent(Tl(g.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Fi(){function u(b){return g.call(u.src,u.listener,b)}const g=Bp;return u}function Ze(u,g,b,R,V){if(Array.isArray(g))for(var B=0;B<g.length;B++)Ze(u,g[B],b,R,V);else R=d(R)?!!R.capture:!!R,b=Cl(b),u&&u[J]?(u=u.i,g=String(g).toString(),g in u.g&&(B=u.g[g],b=ot(B,b,R,V),-1<b&&(pe(B[b]),Array.prototype.splice.call(B,b,1),B.length==0&&(delete u.g[g],u.h--)))):u&&(u=Es(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ot(g,b,R,V)),(b=-1<u?g[u]:null)&&Xt(b))}function Xt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[J])Ce(g.i,u);else{var b=u.type,R=u.proxy;g.removeEventListener?g.removeEventListener(b,R,u.capture):g.detachEvent?g.detachEvent(Tl(b),R):g.addListener&&g.removeListener&&g.removeListener(R),(b=Es(g))?(Ce(b,u),b.h==0&&(b.src=null,g[ht]=null)):pe(u)}}}function Tl(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function Bp(u,g){if(u.da)u=!0;else{g=new te(g,this);var b=u.listener,R=u.ha||u.src;u.fa&&Xt(u),u=b.call(R,g)}return u}function Es(u){return u=u[ht],u instanceof be?u:null}var Sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cl(u){return typeof u=="function"?u:(u[Sl]||(u[Sl]=function(g){return u.handleEvent(g)}),u[Sl])}function ct(){F.call(this),this.i=new be(this),this.M=this,this.F=null}_(ct,F),ct.prototype[J]=!0,ct.prototype.removeEventListener=function(u,g,b,R){Ze(this,u,g,b,R)};function et(u,g){var b,R=u.F;if(R)for(b=[];R;R=R.F)b.push(R);if(u=u.M,R=g.type||g,typeof g=="string")g=new G(g,u);else if(g instanceof G)g.target=g.target||u;else{var V=g;g=new G(R,u),A(g,V)}if(V=!0,b)for(var B=b.length-1;0<=B;B--){var ne=g.g=b[B];V=Vi(ne,R,!0,g)&&V}if(ne=g.g=u,V=Vi(ne,R,!0,g)&&V,V=Vi(ne,R,!1,g)&&V,b)for(B=0;B<b.length;B++)ne=g.g=b[B],V=Vi(ne,R,!1,g)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var b=u.g[g],R=0;R<b.length;R++)pe(b[R]);delete u.g[g],u.h--}}this.F=null},ct.prototype.K=function(u,g,b,R){return this.i.add(String(u),g,!1,b,R)},ct.prototype.L=function(u,g,b,R){return this.i.add(String(u),g,!0,b,R)};function Vi(u,g,b,R){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,B=0;B<g.length;++B){var ne=g[B];if(ne&&!ne.da&&ne.capture==b){var Ve=ne.listener,St=ne.ha||ne.src;ne.fa&&Ce(u.i,ne),V=Ve.call(St,R)!==!1&&V}}return V&&!R.defaultPrevented}function Vr(u,g,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Il(u){u.g=Vr(()=>{u.g=null,u.i&&(u.i=!1,Il(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Wp extends F{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(u){F.call(this),this.h=u,this.g={}}_(bs,F);var Al=[];function Bu(u){L(u.g,function(g,b){this.g.hasOwnProperty(b)&&Xt(g)},u),u.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Bu(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=a.JSON.stringify,fr=a.JSON.parse,Hp=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ye(){}ye.prototype.h=null;function Fe(u){return u.h||(u.h=u.i())}function Oe(){}var jt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){G.call(this,"d")}_(un,G);function Ts(){G.call(this,"c")}_(Ts,G);var $r={},nx=null;function Wu(){return nx=nx||new ct}$r.La="serverreachability";function rx(u){G.call(this,$r.La,u)}_(rx,G);function Pl(u){const g=Wu();et(g,new rx(g))}$r.STAT_EVENT="statevent";function sx(u,g){G.call(this,$r.STAT_EVENT,u),this.stat=g}_(sx,G);function Jt(u){const g=Wu();et(g,new sx(g,u))}$r.Ma="timingevent";function ix(u,g){G.call(this,$r.Ma,u),this.size=g}_(ix,G);function Nl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function Rl(){this.g=!0}Rl.prototype.xa=function(){this.g=!1};function e2(u,g,b,R,V,B){u.info(function(){if(u.g)if(B)for(var ne="",Ve=B.split("&"),St=0;St<Ve.length;St++){var De=Ve[St].split("=");if(1<De.length){var Mt=De[0];De=De[1];var Ot=Mt.split("_");ne=2<=Ot.length&&Ot[1]=="type"?ne+(Mt+"="+De+"&"):ne+(Mt+"=redacted&")}}else ne=null;else ne=B;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+g+`
`+b+`
`+ne})}function t2(u,g,b,R,V,B,ne){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+g+`
`+b+`
`+B+" "+ne})}function Mo(u,g,b,R){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+r2(u,b)+(R?" "+R:"")})}function n2(u,g){u.info(function(){return"TIMEOUT: "+g})}Rl.prototype.info=function(){};function r2(u,g){if(!u.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var R=b[u];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return $i(b)}catch{return g}}var Hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ox={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kp;function Ku(){}_(Ku,ye),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},Kp=new Ku;function Ss(u,g,b,R){this.j=u,this.i=g,this.l=b,this.R=R||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ax}function ax(){this.i=null,this.g="",this.h=!1}var lx={},qp={};function Gp(u,g,b){u.L=1,u.v=Yu(Ur(g)),u.m=b,u.P=!0,cx(u,null)}function cx(u,g){u.F=Date.now(),qu(u),u.A=Ur(u.v);var b=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),bx(b.i,"t",R),u.C=0,b=u.j.J,u.h=new ax,u.g=Ux(u.j,b?g:null,!u.m),0<u.O&&(u.M=new Wp(m(u.Y,u,u.g),u.O)),g=u.U,b=u.g,R=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Al[0]=V.toString()),V=Al);for(var B=0;B<V.length;B++){var ne=wt(b,V[B],R||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Pl(),e2(u.i,u.u,u.A,u.l,u.R,u.m)}Ss.prototype.ca=function(u){u=u.target;const g=this.M;g&&zr(u)==3?g.j():this.Y(u)},Ss.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=zr(this.g);var g=this.g.Ba();const Fo=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Nx(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=Fo?Pl(3):Pl(2)),Qp(this);var b=this.g.Z();this.X=b;t:if(ux(this)){var R=Nx(this.g);u="";var V=R.length,B=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),kl(this);var ne="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(R[g],{stream:!(B&&g==V-1)});R.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=b==200,t2(this.i,this.u,this.A,this.l,this.R,Ot,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,St=this.g;if((Ve=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ve)){var De=Ve;break t}}De=null}if(b=De)Mo(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yp(this,b);else{this.o=!1,this.s=3,Jt(12),Ui(this),kl(this);break e}}if(this.P){b=!0;let Kn;for(;!this.J&&this.C<ne.length;)if(Kn=s2(this,ne),Kn==qp){Ot==4&&(this.s=4,Jt(14),b=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==lx){this.s=4,Jt(15),Mo(this.i,this.l,ne,"[Invalid Chunk]"),b=!1;break}else Mo(this.i,this.l,Kn,null),Yp(this,Kn);if(ux(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ne.length!=0||this.h.h||(this.s=1,Jt(16),b=!1),this.o=this.o&&b,!b)Mo(this.i,this.l,ne,"[Invalid Chunked Response]"),Ui(this),kl(this);else if(0<ne.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),nm(Mt),Mt.M=!0,Jt(11))}}else Mo(this.i,this.l,ne,null),Yp(this,ne);Ot==4&&Ui(this),this.o&&!this.J&&(Ot==4?Lx(this.j,this):(this.o=!1,qu(this)))}else _2(this.g),b==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ui(this),kl(this)}}}catch{}finally{}};function ux(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function s2(u,g){var b=u.C,R=g.indexOf(`
`,b);return R==-1?qp:(b=Number(g.substring(b,R)),isNaN(b)?lx:(R+=1,R+b>g.length?qp:(g=g.slice(R,R+b),u.C=R+b,g)))}Ss.prototype.cancel=function(){this.J=!0,Ui(this)};function qu(u){u.S=Date.now()+u.I,dx(u,u.I)}function dx(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nl(m(u.ba,u),g)}function Qp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ss.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(n2(this.i,this.A),this.L!=2&&(Pl(),Jt(17)),Ui(this),this.s=2,kl(this)):dx(this,this.S-u)};function kl(u){u.j.G==0||u.J||Lx(u.j,u)}function Ui(u){Qp(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Bu(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Yp(u,g){try{var b=u.j;if(b.G!=0&&(b.g==u||Xp(b.h,u))){if(!u.K&&Xp(b.h,u)&&b.G==3){try{var R=b.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)nd(b),ed(b);else break e;tm(b),Jt(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=Nl(m(b.Za,b),6e3));if(1>=px(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Bi(b,11)}else if((u.K||b.g==u)&&nd(b),!w(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let De=V[g];if(b.T=De[0],De=De[1],b.G==2)if(De[0]=="c"){b.K=De[1],b.ia=De[2];const Mt=De[3];Mt!=null&&(b.la=Mt,b.j.info("VER="+b.la));const Ot=De[4];Ot!=null&&(b.Aa=Ot,b.j.info("SVER="+b.Aa));const Fo=De[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(R=1.5*Fo,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Kn=u.g;if(Kn){const sd=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sd){var B=R.h;B.g||sd.indexOf("spdy")==-1&&sd.indexOf("quic")==-1&&sd.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Jp(B,B.h),B.h=null))}if(R.D){const rm=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;rm&&(R.ya=rm,Ue(R.I,R.D,rm))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ne=u;if(R.qa=$x(R,R.J?R.ia:null,R.W),ne.K){mx(R.h,ne);var Ve=ne,St=R.L;St&&(Ve.I=St),Ve.B&&(Qp(Ve),qu(Ve)),R.g=ne}else Mx(R);0<b.i.length&&td(b)}else De[0]!="stop"&&De[0]!="close"||Bi(b,7);else b.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Bi(b,7):em(b):De[0]!="noop"&&b.l&&b.l.ta(De),b.v=0)}}Pl(4)}catch{}}var i2=class{constructor(u,g){this.g=u,this.map=g}};function hx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function px(u){return u.h?1:u.g?u.g.size:0}function Xp(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Jp(u,g){u.g?u.g.add(g):u.h=g}function mx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}hx.prototype.cancel=function(){if(this.i=gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.D);return g}return v(u.i)}function o2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],b=u.length,R=0;R<b;R++)g.push(u[R]);return g}g=[],b=0;for(R in u)g[b++]=u[R];return g}function a2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var b=0;b<u;b++)g.push(b);return g}g=[],b=0;for(const R in u)g[b++]=R;return g}}}function vx(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var b=a2(u),R=o2(u),V=R.length,B=0;B<V;B++)g.call(void 0,R[B],b&&b[B],u)}var yx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l2(u,g){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var R=u[b].indexOf("="),V=null;if(0<=R){var B=u[b].substring(0,R);V=u[b].substring(R+1)}else B=u[b];g(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function zi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof zi){this.h=u.h,Gu(this,u.j),this.o=u.o,this.g=u.g,Qu(this,u.s),this.l=u.l;var g=u.i,b=new Ml;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),wx(this,b),this.m=u.m}else u&&(g=String(u).match(yx))?(this.h=!1,Gu(this,g[1]||"",!0),this.o=Dl(g[2]||""),this.g=Dl(g[3]||"",!0),Qu(this,g[4]),this.l=Dl(g[5]||"",!0),wx(this,g[6]||"",!0),this.m=Dl(g[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}zi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(jl(g,xx,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(jl(g,xx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(jl(b,b.charAt(0)=="/"?d2:u2,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",jl(b,f2)),u.join("")};function Ur(u){return new zi(u)}function Gu(u,g,b){u.j=b?Dl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Qu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function wx(u,g,b){g instanceof Ml?(u.i=g,p2(u.i,u.h)):(b||(g=jl(g,h2)),u.i=new Ml(g,u.h))}function Ue(u,g,b){u.i.set(g,b)}function Yu(u){return Ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Dl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jl(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,c2),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function c2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xx=/[#\/\?@]/g,u2=/[#\?:]/g,d2=/[#\?]/g,h2=/[#\?@]/g,f2=/#/g;function Ml(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Cs(u){u.g||(u.g=new Map,u.h=0,u.i&&l2(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Ml.prototype,t.add=function(u,g){Cs(this),this.i=null,u=Oo(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function _x(u,g){Cs(u),g=Oo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ex(u,g){return Cs(u),g=Oo(u,g),u.g.has(g)}t.forEach=function(u,g){Cs(this),this.g.forEach(function(b,R){b.forEach(function(V){u.call(g,V,R,this)},this)},this)},t.na=function(){Cs(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let R=0;R<g.length;R++){const V=u[R];for(let B=0;B<V.length;B++)b.push(g[R])}return b},t.V=function(u){Cs(this);let g=[];if(typeof u=="string")Ex(this,u)&&(g=g.concat(this.g.get(Oo(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)g=g.concat(u[b])}return g},t.set=function(u,g){return Cs(this),this.i=null,u=Oo(this,u),Ex(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bx(u,g,b){_x(u,g),0<b.length&&(u.i=null,u.g.set(Oo(u,g),v(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var R=g[b];const B=encodeURIComponent(String(R)),ne=this.V(R);for(R=0;R<ne.length;R++){var V=B;ne[R]!==""&&(V+="="+encodeURIComponent(String(ne[R]))),u.push(V)}}return this.i=u.join("&")};function Oo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function p2(u,g){g&&!u.j&&(Cs(u),u.i=null,u.g.forEach(function(b,R){var V=R.toLowerCase();R!=V&&(_x(this,R),bx(this,V,b))},u)),u.j=g}function m2(u,g){const b=new Rl;if(a.Image){const R=new Image;R.onload=y(Is,b,"TestLoadImage: loaded",!0,g,R),R.onerror=y(Is,b,"TestLoadImage: error",!1,g,R),R.onabort=y(Is,b,"TestLoadImage: abort",!1,g,R),R.ontimeout=y(Is,b,"TestLoadImage: timeout",!1,g,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else g(!1)}function g2(u,g){const b=new Rl,R=new AbortController,V=setTimeout(()=>{R.abort(),Is(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:R.signal}).then(B=>{clearTimeout(V),B.ok?Is(b,"TestPingServer: ok",!0,g):Is(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Is(b,"TestPingServer: error",!1,g)})}function Is(u,g,b,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(b)}catch{}}function v2(){this.g=new Hp}function y2(u,g,b){const R=b||"";try{vx(u,function(V,B){let ne=V;d(V)&&(ne=$i(V)),g.push(R+B+"="+encodeURIComponent(ne))})}catch(V){throw g.push(R+"type="+encodeURIComponent("_badmap")),V}}function Xu(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Xu,ye),Xu.prototype.g=function(){return new Ju(this.l,this.j)},Xu.prototype.i=function(u){return function(){return u}}({});function Ju(u,g){ct.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ju,ct),t=Ju.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ll(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Ol(this):Ll(this),this.readyState==3&&Tx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ol(this))},t.Qa=function(u){this.g&&(this.response=u,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ll(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function Ll(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sx(u){let g="";return L(u,function(b,R){g+=R,g+=":",g+=b,g+=`\r
`}),g}function Zp(u,g,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Sx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Ue(u,g,b))}function tt(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(tt,ct);var w2=/^https?$/i,x2=["POST","PUT"];t=tt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kp.g(),this.v=this.o?Fe(this.o):Fe(Kp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(B){Cx(this,B);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)b.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const B of R.keys())b.set(B,R.get(B));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(x2,g,void 0))||R||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of b)this.g.setRequestHeader(B,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Px(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Cx(this,B)}};function Cx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ix(u),Zu(u)}function Ix(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ax(this):this.bb())},t.bb=function(){Ax(this)};function Ax(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zr(u)!=4||u.Z()!=2)){if(u.u&&zr(u)==4)Vr(u.Ea,0,u);else if(et(u,"readystatechange"),zr(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var R;if(R=ne===0){var V=String(u.D).match(yx)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!w2.test(V?V.toLowerCase():"")}b=R}if(b)et(u,"complete"),et(u,"success");else{u.m=6;try{var B=2<zr(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ix(u)}}finally{Zu(u)}}}}function Zu(u,g){if(u.g){Px(u);const b=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||et(u,"ready");try{b.onreadystatechange=R}catch{}}}function Px(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fr(g)}};function Nx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _2(u){const g={};u=(u.g&&2<=zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(w(u[R]))continue;var b=D(u[R]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=g[V]||[];g[V]=B,B.push(b)}C(g,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function Rx(u){this.Aa=0,this.i=[],this.j=new Rl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fl("baseRetryDelayMs",5e3,u),this.cb=Fl("retryDelaySeedMs",1e4,u),this.Wa=Fl("forwardChannelMaxRetries",2,u),this.wa=Fl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hx(u&&u.concurrentRequestLimit),this.Da=new v2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rx.prototype,t.la=8,t.G=1,t.connect=function(u,g,b,R){Jt(0),this.W=u,this.H=g||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=$x(this,null,this.W),td(this)};function em(u){if(kx(u),u.G==3){var g=u.U++,b=Ur(u.I);if(Ue(b,"SID",u.K),Ue(b,"RID",g),Ue(b,"TYPE","terminate"),Vl(u,b),g=new Ss(u,u.j,g),g.L=2,g.v=Yu(Ur(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=Ux(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qu(g)}Vx(u)}function ed(u){u.g&&(nm(u),u.g.cancel(),u.g=null)}function kx(u){ed(u),u.u&&(a.clearTimeout(u.u),u.u=null),nd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function td(u){if(!fx(u.h)&&!u.s){u.s=!0;var g=u.Ga;Y||U(),M||(Y(),M=!0),k.add(g,u),u.B=0}}function E2(u,g){return px(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nl(m(u.Ga,u,g),Fx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Ss(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=jx(this,V,g),b=Ur(this.I),Ue(b,"RID",u),Ue(b,"CVER",22),this.D&&Ue(b,"X-HTTP-Session-Id",this.D),Vl(this,b),B&&(this.O?g="headers="+encodeURIComponent(String(Sx(B)))+"&"+g:this.m&&Zp(b,this.m,B)),Jp(this.h,V),this.Ua&&Ue(b,"TYPE","init"),this.P?(Ue(b,"$req",g),Ue(b,"SID","null"),V.T=!0,Gp(V,b,null)):Gp(V,b,g),this.G=2}}else this.G==3&&(u?Dx(this,u):this.i.length==0||fx(this.h)||Dx(this))};function Dx(u,g){var b;g?b=g.l:b=u.U++;const R=Ur(u.I);Ue(R,"SID",u.K),Ue(R,"RID",b),Ue(R,"AID",u.T),Vl(u,R),u.m&&u.o&&Zp(R,u.m,u.o),b=new Ss(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),g&&(u.i=g.D.concat(u.i)),g=jx(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jp(u.h,b),Gp(b,R,g)}function Vl(u,g){u.H&&L(u.H,function(b,R){Ue(g,R,b)}),u.l&&vx({},function(b,R){Ue(g,R,b)})}function jx(u,g,b){b=Math.min(u.i.length,b);var R=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const ne=["count="+b];B==-1?0<b?(B=V[0].g,ne.push("ofs="+B)):B=0:ne.push("ofs="+B);let Ve=!0;for(let St=0;St<b;St++){let De=V[St].g;const Mt=V[St].map;if(De-=B,0>De)B=Math.max(0,V[St].g-100),Ve=!1;else try{y2(Mt,ne,"req"+De+"_")}catch{R&&R(Mt)}}if(Ve){R=ne.join("&");break e}}}return u=u.i.splice(0,b),g.D=u,R}function Mx(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Y||U(),M||(Y(),M=!0),k.add(g,u),u.v=0}}function tm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nl(m(u.Fa,u),Fx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Ox(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nl(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),ed(this),Ox(this))};function nm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Ox(u){u.g=new Ss(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Ur(u.qa);Ue(g,"RID","rpc"),Ue(g,"SID",u.K),Ue(g,"AID",u.T),Ue(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ue(g,"TO",u.ja),Ue(g,"TYPE","xmlhttp"),Vl(u,g),u.m&&u.o&&Zp(g,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Yu(Ur(g)),b.m=null,b.P=!0,cx(b,u)}t.Za=function(){this.C!=null&&(this.C=null,ed(this),tm(this),Jt(19))};function nd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Lx(u,g){var b=null;if(u.g==g){nd(u),nm(u),u.g=null;var R=2}else if(Xp(u.h,g))b=g.D,mx(u.h,g),R=1;else return;if(u.G!=0){if(g.o)if(R==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;R=Wu(),et(R,new ix(R,b)),td(u)}else Mx(u);else if(V=g.s,V==3||V==0&&0<g.X||!(R==1&&E2(u,g)||R==2&&tm(u)))switch(b&&0<b.length&&(g=u.h,g.i=g.i.concat(b)),V){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Fx(u,g){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*g}function Bi(u,g){if(u.j.info("Error code "+g),g==2){var b=m(u.fb,u),R=u.Xa;const V=!R;R=new zi(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gu(R,"https"),Yu(R),V?m2(R.toString(),b):g2(R.toString(),b)}else Jt(2);u.G=0,u.l&&u.l.sa(g),Vx(u),kx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Vx(u){if(u.G=0,u.ka=[],u.l){const g=gx(u.h);(g.length!=0||u.i.length!=0)&&(E(u.ka,g),E(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function $x(u,g,b){var R=b instanceof zi?Ur(b):new zi(b);if(R.g!="")g&&(R.g=g+"."+R.g),Qu(R,R.s);else{var V=a.location;R=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var B=new zi(null);R&&Gu(B,R),g&&(B.g=g),V&&Qu(B,V),b&&(B.l=b),R=B}return b=u.D,g=u.ya,b&&g&&Ue(R,b,g),Ue(R,"VER",u.la),Vl(u,R),R}function Ux(u,g,b){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new tt(new Xu({eb:b})):new tt(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zx(){}t=zx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rd(){}rd.prototype.g=function(u,g){return new wn(u,g)};function wn(u,g){ct.call(this),this.g=new Rx(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!w(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Lo(this)}_(wn,ct),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){em(this.g)},wn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=$i(u),u=b);g.i.push(new i2(g.Ya++,u)),g.G==3&&td(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,em(this.g),delete this.g,wn.aa.N.call(this)};function Bx(u){un.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}_(Bx,un);function Wx(){Ts.call(this),this.status=1}_(Wx,Ts);function Lo(u){this.g=u}_(Lo,zx),Lo.prototype.ua=function(){et(this.g,"a")},Lo.prototype.ta=function(u){et(this.g,new Bx(u))},Lo.prototype.sa=function(u){et(this.g,new Wx)},Lo.prototype.ra=function(){et(this.g,"b")},rd.prototype.createWebChannel=rd.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,HA=function(){return new rd},WA=function(){return Wu()},BA=$r,kv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hu.NO_ERROR=0,Hu.TIMEOUT=8,Hu.HTTP_ERROR=6,lh=Hu,ox.COMPLETE="complete",zA=ox,Oe.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,rc=Oe,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,UA=tt}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const db="@firebase/firestore",hb="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new M0("@firebase/firestore");function Ko(){return wo.logLevel}function oe(t,...e){if(wo.logLevel<=Ae.DEBUG){const n=e.map(q0);wo.debug(`Firestore (${vl}): ${t}`,...n)}}function us(t,...e){if(wo.logLevel<=Ae.ERROR){const n=e.map(q0);wo.error(`Firestore (${vl}): ${t}`,...n)}}function Ya(t,...e){if(wo.logLevel<=Ae.WARN){const n=e.map(q0);wo.warn(`Firestore (${vl}): ${t}`,...n)}}function q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KA(t,r,n)}function KA(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KA(e,s,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class hU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fU{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class pU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Dv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Se(r,s);{const i=GA(),o=yU(i.encode(pb(t,n)),i.encode(pb(e,n)));return o!==0?o:Se(r,s)}}n+=r>65535?2:1}return Se(t.length,e.length)}function pb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Se(t[n],e[n]);return Se(t.length,e.length)}function Xa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=-62135596800,gb=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gb);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mb)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new gt(0,0))}static max(){return new we(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=vr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):Dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class Ke extends vr{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const wU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends vr{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return wU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vb}static keyField(){return new At([vb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ke.fromString(e))}static fromName(e){return new fe(Ke.fromString(e).popFirst(5))}static empty(){return new fe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function xU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new _i(s,fe.empty(),e)}function _U(t){return new _i(t.readTime,t.key,tu)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(we.min(),fe.empty(),tu)}static max(){return new _i(we.max(),fe.empty(),tu)}}function EU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==bU)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function SU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function fp(t){return t==null}function cf(t){return t===0&&1/t==-1/0}function CU(t){return typeof t=="number"&&Number.isInteger(t)&&!cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="";function IU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yb(e)),e=AU(t.get(n),e);return yb(e)}function AU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case YA:n+="";break;default:n+=i}}return n}function yb(t){return t+YA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new vt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new JA("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const PU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=PU.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="server_timestamp",eP="__type__",tP="__previous_value__",nP="__local_write_time__";function Q0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eP])===null||n===void 0?void 0:n.stringValue)===ZA}function pp(t){const e=t.mapValue.fields[tP];return Q0(e)?pp(e):e}function nu(t){const e=Ei(t.mapValue.fields[nP].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const uf="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||uf}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__type__",sP="__max__",Rd={mapValue:{fields:{__type__:{stringValue:sP}}}},iP="__vector__",df="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q0(t)?4:kU(t)?9007199254740991:RU(t)?10:11:ge(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ei(s.timestampValue),a=Ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bi(s.bytesValue).isEqual(bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=at(s.doubleValue),a=at(i.doubleValue);return o===a?cf(o)===cf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xa(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(wb(o)!==wb(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Mr(o[c],a[c])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function su(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function Ja(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=at(i.integerValue||i.doubleValue),c=at(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return _b(t.timestampValue,e.timestampValue);case 4:return _b(nu(t),nu(e));case 5:return Dv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=bi(i),c=bi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Se(a[d],c[d]);if(h!==0)return h}return Se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(at(i.latitude),at(o.latitude));return a!==0?a:Se(at(i.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Eb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,d,h;const p=i.fields||{},m=o.fields||{},y=(a=p[df])===null||a===void 0?void 0:a.arrayValue,_=(c=m[df])===null||c===void 0?void 0:c.arrayValue,v=Se(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:Eb(y,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Rd.mapValue&&o===Rd.mapValue)return 0;if(i===Rd.mapValue)return 1;if(o===Rd.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Dv(c[p],h[p]);if(m!==0)return m;const y=Ja(a[c[p]],d[h[p]]);if(y!==0)return y}return Se(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{Pe:n})}}function _b(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Ei(t),r=Ei(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function Eb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ja(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Za(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jv(n.fields[o])}`;return s+"}"}(t.mapValue):ge(61005,{value:t})}function ch(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pp(t);return e?16+ch(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ch(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Di(r.fields,(i,o)=>{s+=i.length+ch(o)}),s}(t.mapValue);default:throw ge(13486,{value:t})}}function Mv(t){return!!t&&"integerValue"in t}function Y0(t){return!!t&&"arrayValue"in t}function bb(t){return!!t&&"nullValue"in t}function Tb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function RU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rP])===null||n===void 0?void 0:n.stringValue)===iP}function Ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ec(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];uh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fn(Ec(this.value))}}function oP(t){const e=[];return Di(t.fields,(n,r)=>{const s=new At([n]);if(uh(r)){const i=oP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,we.min(),we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,r,s){return new Kt(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new Kt(e,2,n,we.min(),we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,we.min(),we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.position=e,this.inclusive=n}}function Sb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n="asc"){this.field=e,this.dir=n}}function DU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{}class pt extends aP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MU(e,n,r):n==="array-contains"?new FU(e,r):n==="in"?new VU(e,r):n==="not-in"?new $U(e,r):n==="array-contains-any"?new UU(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OU(e,r):new LU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends aP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Or(e,n)}matches(e){return lP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lP(t){return t.op==="and"}function cP(t){return jU(t)&&lP(t)}function jU(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Ov(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(cP(t))return t.filters.map(e=>Ov(e)).join(",");{const e=t.filters.map(n=>Ov(n)).join(",");return`${t.op}(${e})`}}function uP(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&uP(o,s.filters[a]),!0):!1}(t,e):void ge(19439)}function dP(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(dP).join(" ,")+"}"}(t):"Filter"}class MU extends pt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class OU extends pt{constructor(e,n){super(e,"in",n),this.keys=hP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LU extends pt{constructor(e,n){super(e,"not-in",n),this.keys=hP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class FU extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y0(n)&&su(n.arrayValue,this.value)}}class VU extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class $U extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class UU extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function Ib(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zU(t,e,n,r,s,i,o)}function X0(t){const e=xe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Za(r)).join(",")),e.Ie=n}return e.Ie}function J0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cb(t.startAt,e.startAt)&&Cb(t.endAt,e.endAt)}function Lv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BU(t,e,n,r,s,i,o,a){return new mp(t,e,n,r,s,i,o,a)}function Z0(t){return new mp(t)}function Ab(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WU(t){return t.collectionGroup!==null}function bc(t){const e=xe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(At.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new ff(i,r))}),n.has(At.keyField().canonicalString())||e.Ee.push(new ff(At.keyField(),r))}return e.Ee}function Rr(t){const e=xe(t);return e.de||(e.de=HU(e,bc(t))),e.de}function HU(t,e){if(t.limitType==="F")return Ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ff(s.field,i)});const n=t.endAt?new hf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hf(t.startAt.position,t.startAt.inclusive):null;return Ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e,n){return new mp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gp(t,e){return J0(Rr(t),Rr(e))&&t.limitType===e.limitType}function fP(t){return`${X0(Rr(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dP(s)).join(", ")}]`),fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Za(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Za(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function vp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=Sb(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,bc(r),s)||r.endAt&&!function(o,a,c){const d=Sb(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,bc(r),s))}(t,e)}function KU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pP(t){return(e,n)=>{let r=!1;for(const s of bc(t)){const i=qU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qU(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Ja(c,d):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return XA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new Je(fe.comparator);function ds(){return GU}const mP=new Je(fe.comparator);function sc(...t){let e=mP;for(const n of t)e=e.insert(n.key,n);return e}function gP(t){let e=mP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Tc()}function vP(){return Tc()}function Tc(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const QU=new Je(fe.comparator),YU=new vt(fe.comparator);function Pe(...t){let e=YU;for(const n of t)e=e.add(n);return e}const XU=new vt(Se);function JU(){return XU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function yP(t){return{integerValue:""+t}}function ZU(t,e){return CU(e)?yP(e):ew(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function e9(t,e,n){return t instanceof pf?function(s,i){const o={fields:{[eP]:{stringValue:ZA},[nP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Q0(i)&&(i=pp(i)),i&&(o.fields[tP]=i),{mapValue:o}}(n,e):t instanceof iu?xP(t,e):t instanceof ou?_P(t,e):function(s,i){const o=wP(s,i),a=Pb(o)+Pb(s.Re);return Mv(o)&&Mv(s.Re)?yP(a):ew(s.serializer,a)}(t,e)}function t9(t,e,n){return t instanceof iu?xP(t,e):t instanceof ou?_P(t,e):n}function wP(t,e){return t instanceof mf?function(r){return Mv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class pf extends yp{}class iu extends yp{constructor(e){super(),this.elements=e}}function xP(t,e){const n=EP(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends yp{constructor(e){super(),this.elements=e}}function _P(t,e){let n=EP(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class mf extends yp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Pb(t){return at(t.integerValue||t.doubleValue)}function EP(t){return Y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function n9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof iu&&s instanceof iu||r instanceof ou&&s instanceof ou?Xa(r.elements,s.elements,Mr):r instanceof mf&&s instanceof mf?Mr(r.Re,s.Re):r instanceof pf&&s instanceof pf}(t.transform,e.transform)}class r9{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wp{}function bP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tw(t.key,or.none()):new Pu(t.key,t.data,or.none());{const n=t.data,r=fn.empty();let s=new vt(At.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ji(t.key,r,new Cn(s.toArray()),or.none())}}function s9(t,e,n){t instanceof Pu?function(s,i,o){const a=s.value.clone(),c=Rb(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(s,i,o){if(!dh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Rb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(TP(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof Pu?function(i,o,a,c){if(!dh(i.precondition,o))return a;const d=i.value.clone(),h=kb(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,o,a,c){if(!dh(i.precondition,o))return a;const d=kb(i.fieldTransforms,c,o),h=o.data;return h.setAll(TP(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return dh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wP(r.transform,s||null);i!=null&&(n===null&&(n=fn.empty()),n.set(r.field,i))}return n||null}function Nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xa(r,s,(i,o)=>n9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends wp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ji extends wp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function TP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rb(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,t9(o,a,n[s]))}return r}function kb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e9(i,o,e))}return r}class tw extends wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o9 extends wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&s9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=bP(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,r)=>Nb(n,r))&&Xa(this.baseMutations,e.baseMutations,(n,r)=>Nb(n,r))}}class nw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return QU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new nw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function u9(t){switch(t){case Q.OK:return ge(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function SP(t){if(t===void 0)return us("GRPC error has no .code"),Q.UNKNOWN;switch(t){case ut.OK:return Q.OK;case ut.CANCELLED:return Q.CANCELLED;case ut.UNKNOWN:return Q.UNKNOWN;case ut.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ut.INTERNAL:return Q.INTERNAL;case ut.UNAVAILABLE:return Q.UNAVAILABLE;case ut.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ut.NOT_FOUND:return Q.NOT_FOUND;case ut.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ut.ABORTED:return Q.ABORTED;case ut.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ut.DATA_LOSS:return Q.DATA_LOSS;default:return ge(39323,{code:t})}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new di([4294967295,4294967295],0);function Db(t){const e=GA().encode(t),n=new $A;return n.update(e),new Uint8Array(n.digest())}function jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new di([n,r],0),new di([s,i],0)]}class rw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=di.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(di.fromNumber(r)));return s.compare(d9)===1&&(s=new di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Db(e),[r,s]=jb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Db(e),[r,s]=jb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(we.min(),s,new Je(Se),ds(),Pe())}}class Nu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nu(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class CP{constructor(e,n){this.targetId=e,this.Ce=n}}class IP{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mb{constructor(){this.Fe=0,this.Me=Ob(),this.xe=Dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),r=Pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge(38017,{changeType:i})}}),new Nu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Ob()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h9{constructor(e){this.ze=e,this.je=new Map,this.He=ds(),this.Je=kd(),this.Ye=kd(),this.Ze=new Je(Se)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Lv(i))if(r===0){const o=new fe(i.path);this.tt(n,o,Kt.newNoDocument(o,we.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=bi(r).toUint8Array()}catch(c){if(c instanceof JA)return Ya("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rw(o,s,i)}catch(c){return Ya(c instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Lv(a.target)){const c=new fe(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Kt.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Pe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new xp(e,n,this.Ze,this.He,r);return this.He=ds(),this.Je=kd(),this.Ye=kd(),this.Ze=new Je(Se),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Mb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new vt(Se),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new vt(Se),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Mb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function kd(){return new Je(fe.comparator)}function Ob(){return new Je(fe.comparator)}const f9={asc:"ASCENDING",desc:"DESCENDING"},p9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m9={and:"AND",or:"OR"};class g9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vv(t,e){return t.useProto3Json||fp(e)?e:{value:e}}function gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v9(t,e){return gf(t,e.toTimestamp())}function kr(t){return Me(!!t,49232),we.fromTimestamp(function(n){const r=Ei(n);return new gt(r.seconds,r.nanos)}(t))}function sw(t,e){return $v(t,e).canonicalString()}function $v(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PP(t){const e=Ke.fromString(t);return Me(jP(e),10190,{key:e.toString()}),e}function Uv(t,e){return sw(t.databaseId,e.path)}function Km(t,e){const n=PP(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(RP(n))}function NP(t,e){return sw(t.databaseId,e)}function y9(t){const e=PP(t);return e.length===4?Ke.emptyPath():RP(e)}function zv(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RP(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lb(t,e,n){return{name:Uv(t,e),fields:n.value.mapValue.fields}}function w9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Me(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?Q.UNKNOWN:SP(d.code);return new ue(h,d.message||"")}(o);n=new IP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Km(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):we.min(),a=new fn({mapValue:{fields:r.document.fields}}),c=Kt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new hh(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Km(t,r.document),i=r.readTime?kr(r.readTime):we.min(),o=Kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new hh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Km(t,r.document),i=r.removedTargetIds||[];n=new hh([],i,s,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new c9(s,i),a=r.targetId;n=new CP(a,o)}}return n}function x9(t,e){let n;if(e instanceof Pu)n={update:Lb(t,e.key,e.value)};else if(e instanceof tw)n={delete:Uv(t,e.key)};else if(e instanceof ji)n={update:Lb(t,e.key,e.data),updateMask:P9(e.fieldMask)};else{if(!(e instanceof o9))return ge(16599,{ft:e.type});n={verify:Uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof pf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mf)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ge(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:v9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge(27497)}(t,e.precondition)),n}function _9(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(we.min())&&(o=kr(i)),new r9(o,s.transformResults||[])}(n,e))):[]}function E9(t,e){return{documents:[NP(t,e.path)]}}function b9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NP(t,s);const i=function(d){if(d.length!==0)return DP(Or.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Go(m.field),direction:C9(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Vv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function T9(t){let e=y9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=kP(p);return m instanceof Or&&cP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(_){return new ff(Qo(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,fp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,y=p.values||[];return new hf(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,y=p.values||[];return new hf(y,m)}(n.endAt)),BU(e,s,o,i,a,"F",c,d)}function S9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qo(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qo(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qo(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Qo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>kP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function C9(t){return f9[t]}function I9(t){return p9[t]}function A9(t){return m9[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Qo(t){return At.fromServerFormat(t.fieldPath)}function DP(t){return t instanceof pt?function(n){if(n.op==="=="){if(Tb(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(bb(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tb(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(bb(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:I9(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>DP(s));return r.length===1?r[0]:{compositeFilter:{op:A9(n.op),filters:r}}}(t):ge(54877,{filter:t})}function P9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,s,i=we.min(),o=we.min(),a=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.wt=e}}function R9(t){const e=T9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.yn=new D9}addToCollectionParentIndex(e,n){return this.yn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(_i.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class D9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MP=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(MP,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new el(0)}static ir(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",j9=1048576;function $b([t,e],[n,r]){const s=Se(t,n);return s===0?Se(e,r):s}class M9{constructor(e){this.cr=e,this.buffer=new vt($b),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$b(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){oe(Vb,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?oe(Vb,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Ir(3e5)})}}class L9{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(hp.le);const r=new M9(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Fb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fb):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Ko()<=Ae.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function F9(t,e){return new L9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sc(r.mutation,s,Cn.empty(),gt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const s=Xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ds();const o=Tc(),a=function(){return Tc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ji)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Sc(h.mutation,d,h.mutation.getFieldMask(),gt.now())):o.set(d.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new $9(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let s=new Je((o,a)=>o-a),i=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Cn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const p=(s.get(a.batchId)||Pe()).add(c);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=vP();h.forEach(m=>{if(!i.has(m)){const y=bP(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(Xi());let a=tu,c=i;return o.next(d=>K.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Pe())).next(h=>({batchId:a,changes:gP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=sc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sc();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,c=>{const d=function(p,m){return new mp(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Kt.newInvalidDocument(h)))});let a=sc();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Sc(h.mutation,d,Cn.empty(),gt.now()),vp(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return K.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:R9(s.bundledQuery),readTime:kr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this.overlays=new Je(fe.comparator),this.Or=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=Xi(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Xi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Xi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return K.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l9(n,r));let i=this.Or.get(n);i===void 0&&(i=Pe(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Nr=new vt(xt.Br),this.Lr=new vt(xt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new xt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new fe(new Ke([])),r=new xt(n,e),s=new xt(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new fe(new Ke([])),r=new xt(n,e),s=new xt(n,e+1);let i=Pe();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new xt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return fe.comparator(e.key,n.key)||Se(e.Gr,n.Gr)}static kr(e,n){return Se(e.Gr,n.Gr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new vt(xt.Br)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.zr=this.zr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?G0:this.Jn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const a=this.jr(o.Gr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Se);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{r=r.add(a.Gr)})}),K.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new xt(new fe(i),0);let a=new vt(Se);return this.zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Gr)),!0)},o),K.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return K.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new xt(n,0),s=this.zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.Zr=e,this.docs=function(){return new Je(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Kt.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,a=new fe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||EU(_U(h),r)<=0||(s.has(h.key)||vp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge(9500)}Xr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q9(this)}getSize(e){return K.resolve(this.size)}}class q9 extends V9{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.persistence=e,this.ei=new No(n=>X0(n),J0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ti=0,this.ni=new iw,this.targetCount=0,this.ri=el.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),K.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new el(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.ar(n),K.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.ii={},this.overlays={},this.si=new hp(0),this.oi=!1,this.oi=!0,this._i=new W9,this.referenceDelegate=e(this),this.ai=new G9(this),this.indexManager=new k9,this.remoteDocumentCache=function(s){return new K9(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new N9(n),this.ci=new z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new H9(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const s=new Q9(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return K.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class Q9 extends TU{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Ti=new iw,this.Ii=null}static Ei(e){return new ow(e)}get di(){if(this.Ii)return this.Ii;throw ge(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,r=>{const s=fe.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return K.or([()=>K.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class vf{constructor(e,n){this.persistence=e,this.Ri=new No(r=>IU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=F9(this,n)}static Ei(e,n){return new vf(e,n)}li(){}hi(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return K.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,we.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),K.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}gr(e,n,r){return K.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=Pe(),s=Pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new aw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return k$()?8:SU(Qt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Y9;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Ko()<=Ae.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Ko()<=Ae.DEBUG&&oe("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ko()<=Ae.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):K.resolve())}Rs(e,n){if(Ab(n))return K.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Fv(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Pe(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ps(n,a);return this.ys(n,d,o,c.readTime)?this.Rs(e,Fv(n,null,"F")):this.ws(e,d,n,c)}))})))}Vs(e,n,r,s){return Ab(n)||s.isEqual(we.min())?K.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?K.resolve(null):(Ko()<=Ae.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qo(n)),this.ws(e,o,n,xU(s,tu)).next(a=>a))})}ps(e,n){let r=new vt(pP(e));return n.forEach((s,i)=>{vp(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Ko()<=Ae.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",qo(n)),this.As.getDocumentsMatchingQuery(e,n,_i.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LocalStore",J9=3e8;class Z9{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Je(Se),this.Ds=new No(i=>X0(i),J0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U9(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function ez(t,e,n,r){return new Z9(t,e,n,r)}async function LP(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Pe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ms:d,removedBatchIds:o,addedBatchIds:a}))})})}function tz(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,m=p.keys();let y=K.resolve();return m.forEach(_=>{y=y.next(()=>h.getEntry(c,_)).next(v=>{const E=d.docVersions.get(_);Me(E!==null,48541),v.version.compareTo(E)<0&&(p.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Pe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FP(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function nz(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];e.targetChanges.forEach((h,p)=>{const m=s.get(p);if(!m)return;a.push(n.ai.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(i,h.addedDocuments,p)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(p,y),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=J9?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.ai.updateTargetData(i,y))});let c=ds(),d=Pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(rz(i,o,e.documentUpdates).next(h=>{c=h.xs,d=h.Os})),!r.isEqual(we.min())){const h=n.ai.getLastRemoteSnapshotVersion(i).next(p=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ss=s,i))}function rz(t,e,n){let r=Pe(),s=Pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):oe(lw,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{xs:o,Os:s}})}function sz(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=G0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iz(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new Js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Bv(t,e,n){const r=xe(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wl(o))throw o;oe(lw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function Ub(t,e,n){const r=xe(t);let s=we.min(),i=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const p=xe(c),m=p.Ds.get(h);return m!==void 0?K.resolve(p.Ss.get(m)):p.ai.getTargetData(d,h)}(r,o,Rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:we.min(),n?i:Pe())).next(a=>(oz(r,KU(e),a),{documents:a,Ns:i})))}function oz(t,e,n){let r=t.vs.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class zb{constructor(){this.activeTargetIds=JU()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class az{constructor(){this.So=new zb,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new zb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class Wb{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){oe(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){oe(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Wv(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uz{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===uf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=Wv(),a=this.$o(e,n.toUriEncodedString());oe(qm,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(c,s,i);const{host:d}=new URL(a),h=lp(d);return this.Ko(e,a,c,r,h).then(p=>(oe(qm,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ya(qm,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=cz[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class hz extends uz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,i){const o=Wv();return new Promise((a,c)=>{const d=new UA;d.setWithCredentials(!0),d.listenOnce(zA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case lh.NO_ERROR:const p=d.getResponseJson();oe($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case lh.TIMEOUT:oe($t,`RPC '${e}' ${o} timed out`),c(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const m=d.getStatus();if(oe($t,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const v=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(w)>=0?w:Q.UNKNOWN}(_.status);c(new ue(v,_.message))}else c(new ue(Q.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{s_:e,streamId:o,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{oe($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);oe($t,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}a_(e,n,r){const s=Wv(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HA(),a=WA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");oe($t,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=o.createWebChannel(h,c);let m=!1,y=!1;const _=new dz({Go:E=>{y?oe($t,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(oe($t,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),oe($t,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},zo:()=>p.close()}),v=(E,x,w)=>{E.listen(x,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return v(p,rc.EventType.OPEN,()=>{y||(oe($t,`RPC '${e}' stream ${s} transport opened.`),_.t_())}),v(p,rc.EventType.CLOSE,()=>{y||(y=!0,oe($t,`RPC '${e}' stream ${s} transport closed`),_.r_())}),v(p,rc.EventType.ERROR,E=>{y||(y=!0,Ya($t,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),_.r_(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),v(p,rc.EventType.MESSAGE,E=>{var x;if(!y){const w=E.data[0];Me(!!w,16349);const T=w,N=(T==null?void 0:T.error)||((x=T[0])===null||x===void 0?void 0:x.error);if(N){oe($t,`RPC '${e}' stream ${s} received error:`,N);const j=N.status;let L=function(P){const A=ut[P];if(A!==void 0)return SP(A)}(j),C=N.message;L===void 0&&(L=Q.INTERNAL,C="Unknown error status: "+j+" with message "+N.message),y=!0,_.r_(new ue(L,C)),p.close()}else oe($t,`RPC '${e}' stream ${s} received:`,w),_.i_(w)}}),v(a,BA.STAT_EVENT,E=>{E.stat===kv.PROXY?oe($t,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===kv.NOPROXY&&oe($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return new g9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class $P{constructor(e,n,r,s,i,o,a,c){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VP(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return oe(Hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(oe(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fz extends $P{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=w9(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?kr(o.readTime):we.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Lv(c)?{documents:E9(i,c)}:{query:b9(i,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AP(i,o.resumeToken);const d=Vv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=gf(i,o.snapshotVersion.toTimestamp());const d=Vv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=S9(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.F_(n)}}class pz extends $P{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=_9(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=zv(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x9(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{}class gz extends mz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,$v(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(Q.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,$v(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class vz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(us(n),this.ea=!1):oe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class yz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(oe(xo,"Restarting streams for network reachability change."),await async function(c){const d=xe(c);d.aa.add(4),await Ru(d),d.la.set("Unknown"),d.aa.delete(4),await Ep(d)}(this))})}),this.la=new vz(r,s)}}async function Ep(t){if(Ro(t))for(const e of t.ua)await e(!0)}async function Ru(t){for(const e of t.ua)await e(!1)}function UP(t,e){const n=xe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),hw(n)?dw(n):xl(n).b_()&&uw(n,e))}function cw(t,e){const n=xe(t),r=xl(n);n._a.delete(e),r.b_()&&zP(n,e),n._a.size===0&&(r.b_()?r.v_():Ro(n)&&n.la.set("Unknown"))}function uw(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).U_(e)}function zP(t,e){t.ha.Ke(e),xl(t).K_(e)}function dw(t){t.ha=new h9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.la.ta()}function hw(t){return Ro(t)&&!xl(t).w_()&&t._a.size>0}function Ro(t){return xe(t).aa.size===0}function BP(t){t.ha=void 0}async function wz(t){t.la.set("Online")}async function xz(t){t._a.forEach((e,n)=>{uw(t,e)})}async function _z(t,e){BP(t),hw(t)?(t.la.ia(e),dw(t)):t.la.set("Unknown")}async function Ez(t,e,n){if(t.la.set("Online"),e instanceof IP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s._a.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s._a.delete(a),s.ha.removeTarget(a))}(t,e)}catch(r){oe(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yf(t,r)}else if(e instanceof hh?t.ha.Xe(e):e instanceof CP?t.ha.ot(e):t.ha.nt(e),!n.isEqual(we.min()))try{const r=await FP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i._a.get(d);h&&i._a.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i._a.get(c);if(!h)return;i._a.set(c,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),zP(i,c);const p=new Js(h.target,c,d,h.sequenceNumber);uw(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(xo,"Failed to raise snapshot:",r),await yf(t,r)}}async function yf(t,e,n){if(!wl(e))throw e;t.aa.add(1),await Ru(t),t.la.set("Offline"),n||(n=()=>FP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(xo,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Ep(t)})}function WP(t,e){return e().catch(n=>yf(t,n,e))}async function bp(t){const e=xe(t),n=Si(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:G0;for(;bz(e);)try{const s=await sz(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Tz(e,s)}catch(s){await yf(e,s)}HP(e)&&KP(e)}function bz(t){return Ro(t)&&t.oa.length<10}function Tz(t,e){t.oa.push(e);const n=Si(t);n.b_()&&n.W_&&n.G_(e.mutations)}function HP(t){return Ro(t)&&!Si(t).w_()&&t.oa.length>0}function KP(t){Si(t).start()}async function Sz(t){Si(t).H_()}async function Cz(t){const e=Si(t);for(const n of t.oa)e.G_(n.mutations)}async function Iz(t,e,n){const r=t.oa.shift(),s=nw.from(r,e,n);await WP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bp(t)}async function Az(t,e){e&&Si(t).W_&&await async function(r,s){if(function(o){return u9(o)&&o!==Q.ABORTED}(s.code)){const i=r.oa.shift();Si(r).D_(),await WP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bp(r)}}(t,e),HP(t)&&KP(t)}async function Kb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),oe(xo,"RemoteStore received new credentials");const r=Ro(n);n.aa.add(3),await Ru(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Ep(n)}async function Pz(t,e){const n=xe(t);e?(n.aa.delete(2),await Ep(n)):e||(n.aa.add(2),await Ru(n),n.la.set("Unknown"))}function xl(t){return t.Pa||(t.Pa=function(n,r,s){const i=xe(n);return i.Y_(),new fz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:wz.bind(null,t),Jo:xz.bind(null,t),Zo:_z.bind(null,t),Q_:Ez.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),hw(t)?dw(t):t.la.set("Unknown")):(await t.Pa.stop(),BP(t))})),t.Pa}function Si(t){return t.Ta||(t.Ta=function(n,r,s){const i=xe(n);return i.Y_(),new pz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Sz.bind(null,t),Zo:Az.bind(null,t),z_:Cz.bind(null,t),j_:Iz.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await bp(t)):(await t.Ta.stop(),t.oa.length>0&&(oe(xo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new fw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pw(t,e){if(us("AsyncQueue",`${e}: ${t}`),wl(t))return new ue(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.Ia=new Je(fe.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class tl{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tl(e,n,Ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Rz{constructor(){this.queries=Gb(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=Gb(),i.forEach((o,a)=>{for(const c of a.Ra)c.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function Gb(){return new No(t=>fP(t),gp)}async function qP(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new Nz,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=pw(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&mw(n)}async function GP(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kz(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(s)&&(r=!0);o.Aa=s}}r&&mw(n)}function Dz(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function mw(t){t.fa.forEach(e=>{e.next()})}var Hv,Qb;(Qb=Hv||(Hv={})).ya="default",Qb.Cache="cache";class QP{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.key=e}}class XP{constructor(e){this.key=e}}class jz{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pe(),this.mutatedKeys=Pe(),this.Ua=pP(e),this.Ka=new Ta(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new qb,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const m=s.get(h),y=vp(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?_!==v&&(r.track({type:3,doc:y}),E=!0):this.ja(m,y)||(r.track({type:2,doc:y}),E=!0,(c&&this.Ua(y,c)>0||d&&this.Ua(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),E=!0):m&&!y&&(r.track({type:1,doc:m}),E=!0,(c||d)&&(a=!0)),E&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,p)=>function(y,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:E})}};return v(y)-v(_)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),s=s!=null&&s;const a=n&&!s?this.Ja():[],c=this.$a.size===0&&this.current&&!s?1:0,d=c!==this.Qa;return this.Qa=c,o.length!==0||d?{snapshot:new tl(this.query,e.Ka,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new qb,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Pe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new XP(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new YP(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Pe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return tl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const gw="SyncEngine";class Mz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Oz{constructor(e){this.key=e,this.tu=!1}}class Lz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new No(a=>fP(a),gp),this.iu=new Map,this.su=new Set,this.ou=new Je(fe.comparator),this._u=new Map,this.au=new iw,this.uu={},this.cu=new Map,this.lu=el.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Fz(t,e,n=!0){const r=rN(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await JP(r,e,n,!0),s}async function Vz(t,e){const n=rN(t);await JP(n,e,!0,!1)}async function JP(t,e,n,r){const s=await iz(t.localStore,Rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await $z(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&UP(t.remoteStore,s),a}async function $z(t,e,n,r,s){t.Pu=(p,m,y)=>async function(v,E,x,w){let T=E.view.Ga(x);T.ys&&(T=await Ub(v.localStore,E.query,!1).then(({documents:C})=>E.view.Ga(C,T)));const N=w&&w.targetChanges.get(E.targetId),j=w&&w.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,v.isPrimaryClient,N,j);return Xb(v,E.targetId,L.Ya),L.snapshot}(t,p,m,y);const i=await Ub(t.localStore,e,!0),o=new jz(e,i.Ns),a=o.Ga(i.documents),c=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);Xb(t,n,d.Ya);const h=new Mz(e,n,o);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),d.snapshot}async function Uz(t,e,n){const r=xe(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!gp(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&cw(r.remoteStore,s.targetId),Kv(r,s.targetId)}).catch(yl)):(Kv(r,s.targetId),await Bv(r.localStore,s.targetId,!0))}async function zz(t,e){const n=xe(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cw(n.remoteStore,r.targetId))}async function Bz(t,e,n){const r=Yz(t);try{const s=await function(o,a){const c=xe(o),d=gt.now(),h=a.reduce((y,_)=>y.add(_.key),Pe());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=ds(),v=Pe();return c.Cs.getEntries(y,h).next(E=>{_=E,_.forEach((x,w)=>{w.isValidDocument()||(v=v.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,_)).next(E=>{p=E;const x=[];for(const w of a){const T=i9(w,p.get(w.key).overlayedDocument);T!=null&&x.push(new ji(w.key,T,oP(T.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,x,a)}).next(E=>{m=E;const x=E.applyToLocalDocumentSet(p,v);return c.documentOverlayCache.saveOverlays(y,E.batchId,x)})}).then(()=>({batchId:m.batchId,changes:gP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.uu[o.currentUser.toKey()];d||(d=new Je(Se)),d=d.insert(a,c),o.uu[o.currentUser.toKey()]=d}(r,s.batchId,n),await ku(r,s.changes),await bp(r.remoteStore)}catch(s){const i=pw(s,"Failed to persist write");n.reject(i)}}async function ZP(t,e){const n=xe(t);try{const r=await nz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Me(o.tu,14607):s.removedDocuments.size>0&&(Me(o.tu,42227),o.tu=!1))}),await ku(n,r,e)}catch(r){await yl(r)}}function Yb(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=xe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const m of p.Ra)m.ga(a)&&(d=!0)}),d&&mw(c)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wz(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new Je(fe.comparator);o=o.insert(i,Kt.newNoDocument(i,we.min()));const a=Pe().add(i),c=new xp(we.min(),new Map,new Je(Se),o,a);await ZP(r,c),r.ou=r.ou.remove(i),r._u.delete(e),vw(r)}else await Bv(r.localStore,e,!1).then(()=>Kv(r,e,n)).catch(yl)}async function Hz(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await tz(n.localStore,e);tN(n,r,null),eN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,s)}catch(s){await yl(s)}}async function Kz(t,e,n){const r=xe(t);try{const s=await function(o,a){const c=xe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Me(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);tN(r,e,n),eN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,s)}catch(s){await yl(s)}}function eN(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function tN(t,e,n){const r=xe(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Kv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||nN(t,r)})}function nN(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(cw(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),vw(t))}function Xb(t,e,n){for(const r of n)r instanceof YP?(t.au.addReference(r.key,e),qz(t,r)):r instanceof XP?(oe(gw,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||nN(t,r.key)):ge(19791,{Iu:r})}function qz(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(oe(gw,"New document in limbo: "+n),t.su.add(r),vw(t))}function vw(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new fe(Ke.fromString(e)),r=t.lu.next();t._u.set(r,new Oz(n)),t.ou=t.ou.insert(n,r),UP(t.remoteStore,new Js(Rr(Z0(n.path)),r,"TargetPurposeLimboResolution",hp.le))}}async function ku(t,e,n){const r=xe(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,c)=>{o.push(r.Pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){s.push(d);const p=aw.Ps(c.targetId,d);i.push(p)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(c,d){const h=xe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>K.forEach(d,m=>K.forEach(m.ls,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>K.forEach(m.hs,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!wl(p))throw p;oe(lw,"Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const y=h.Ss.get(m),_=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(_);h.Ss=h.Ss.insert(m,v)}}}(r.localStore,i))}async function Gz(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){oe(gw,"User change. New user:",e.toKey());const r=await LP(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(c=>{c.reject(new ue(Q.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.Ms)}}function Qz(t,e){const n=xe(t),r=n._u.get(e);if(r&&r.tu)return Pe().add(r.key);{let s=Pe();const i=n.iu.get(e);if(!i)return s;for(const o of i){const a=n.ru.get(o);s=s.unionWith(a.view.Wa)}return s}}function rN(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wz.bind(null,e),e.nu.Q_=kz.bind(null,e.eventManager),e.nu.Tu=Dz.bind(null,e.eventManager),e}function Yz(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kz.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return ez(this.persistence,new X9,e.initialUser,this.serializer)}Ru(e){return new OP(ow.Ei,this.serializer)}Au(e){return new az}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class Xz extends wf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Me(this.persistence.referenceDelegate instanceof vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O9(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new OP(r=>vf.Ei(r,n),this.serializer)}}class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gz.bind(null,this.syncEngine),await Pz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rz}()}createDatastore(e){const n=_p(e.databaseInfo.databaseId),r=function(i){return new hz(i)}(e.databaseInfo);return function(i,o,a,c){return new gz(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new yz(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Yb(this.syncEngine,n,0),function(){return Wb.C()?new Wb:new lz}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const p=new Lz(s,i,o,a,c,d);return h&&(p.hu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=xe(s);oe(xo,"RemoteStore shutting down."),i.aa.add(5),await Ru(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class Jz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=QA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{oe(Ci,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe(Ci,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qm(t,e){t.asyncQueue.verifyOperationInProgress(),oe(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zz(t);oe(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Kb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Kb(e.remoteStore,s)),t._onlineComponents=e}async function Zz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(Ci,"Using user provided OfflineComponentProvider");try{await Qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Qm(t,new wf)}}else oe(Ci,"Using default OfflineComponentProvider"),await Qm(t,new Xz(void 0));return t._offlineComponents}async function iN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(Ci,"Using user provided OnlineComponentProvider"),await Jb(t,t._uninitializedComponentsProvider._online)):(oe(Ci,"Using default OnlineComponentProvider"),await Jb(t,new qv))),t._onlineComponents}function eB(t){return iN(t).then(e=>e.syncEngine)}async function oN(t){const e=await iN(t),n=e.eventManager;return n.onListen=Fz.bind(null,e.syncEngine),n.onUnlisten=Uz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zz.bind(null,e.syncEngine),n}function tB(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new sN({next:m=>{h.yu(),o.enqueueAndForget(()=>GP(i,p));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new QP(Z0(a.path),h,{includeMetadataChanges:!0,Fa:!0});return qP(i,p)}(await oN(t),t.asyncQueue,e,n,r)),r.promise}function nB(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new sN({next:m=>{h.yu(),o.enqueueAndForget(()=>GP(i,p)),m.fromCache&&c.source==="server"?d.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new QP(a,h,{includeMetadataChanges:!0,Fa:!0});return qP(i,p)}(await oN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rB(t,e,n,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e1(t){if(!fe.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t1(t){if(fe.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yw(t);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firestore.googleapis.com",n1=!0;class r1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cN,this.ssl=n1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:n1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j9)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dU;switch(r.type){case"firstParty":return new mU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Zb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),Zb.delete(n),r.terminate())}(this),Promise.resolve()}}function sB(t,e,n,r={}){var s;t=hs(t,Tp);const i=lp(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&GI(`https://${c}`),o.host!==cN&&o.host!==c&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!go(d,a)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=zt.MOCK_USER;else{h=S$(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(m)}t._authCredentials=new hU(new qA(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sp(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class hi extends Sp{constructor(e,n,r){super(e,n,Z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new fe(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function uN(t,e,...n){if(t=bt(t),lN("collection","path",e),t instanceof Tp){const r=Ke.fromString(e,...n);return t1(r),new hi(t,null,r)}{if(!(t instanceof Pn||t instanceof hi))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return t1(r),new hi(t.firestore,null,r)}}function Cp(t,e,...n){if(t=bt(t),arguments.length===1&&(e=QA.newId()),lN("doc","path",e),t instanceof Tp){const r=Ke.fromString(e,...n);return e1(r),new Pn(t,null,new fe(r))}{if(!(t instanceof Pn||t instanceof hi))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return e1(r),new Pn(t.firestore,t instanceof hi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="AsyncQueue";class i1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VP(this,"async_queue_retry"),this.ju=()=>{const r=Gm();r&&oe(s1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wl(e))throw e;oe(s1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,us("INTERNAL UNHANDLED ERROR: ",o1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=fw.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&ge(47125,{ec:o1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function o1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _l extends Tp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new i1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i1(e),this._firestoreClient=void 0,await e}}}function iB(t,e){const n=typeof t=="object"?t:JI(),r=typeof t=="string"?t:uf,s=L0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=b$("firestore");i&&sB(s,...i)}return s}function ww(t){if(t._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oB(t),t._firestoreClient}function oB(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,d,h){return new NU(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Jz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Dt.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=/^__.*__$/;class lB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class dN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{oc:t})}}class bw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return xf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(hN(this.oc)&&aB.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class cB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_p(e)}dc(e,n,r,s=!1){return new bw({oc:e,methodName:n,Ec:r,path:At.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fN(t){const e=t._freezeSettings(),n=_p(t._databaseId);return new cB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uB(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);Tw("Data must be an object, but it was:",o,r);const a=pN(r,o);let c,d;if(i.merge)c=new Cn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=Gv(e,p,n);if(!o.contains(m))throw new ue(Q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gN(h,m)||h.push(m)}c=new Cn(h),d=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=o.fieldTransforms;return new lB(new fn(a),c,d)}class Ap extends xw{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function dB(t,e,n,r){const s=t.dc(1,e,n);Tw("Data must be an object, but it was:",s,r);const i=[],o=fn.empty();Di(r,(c,d)=>{const h=Sw(e,c,n);d=bt(d);const p=s.hc(h);if(d instanceof Ap)i.push(h);else{const m=Pp(d,p);m!=null&&(i.push(h),o.set(h,m))}});const a=new Cn(i);return new dN(o,a,s.fieldTransforms)}function hB(t,e,n,r,s,i){const o=t.dc(1,e,n),a=[Gv(e,r,n)],c=[s];if(i.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Gv(e,i[m])),c.push(i[m+1]);const d=[],h=fn.empty();for(let m=a.length-1;m>=0;--m)if(!gN(d,a[m])){const y=a[m];let _=c[m];_=bt(_);const v=o.hc(y);if(_ instanceof Ap)d.push(y);else{const E=Pp(_,v);E!=null&&(d.push(y),h.set(y,E))}}const p=new Cn(d);return new dN(h,p,o.fieldTransforms)}function Pp(t,e){if(mN(t=bt(t)))return Tw("Unsupported field value:",e,t),pN(t,e);if(t instanceof xw)return function(r,s){if(!hN(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Pp(a,s.Pc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gt.fromDate(r);return{timestampValue:gf(s.serializer,i)}}if(r instanceof gt){const i=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gf(s.serializer,i)}}if(r instanceof _w)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nl)return{bytesValue:AP(s.serializer,r._byteString)};if(r instanceof Pn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ew)return function(o,a){return{mapValue:{fields:{[rP]:{stringValue:iP},[df]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Tc("VectorValues must only contain numeric values.");return ew(a.serializer,d)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${yw(r)}`)}(t,e)}function pN(t,e){const n={};return XA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,s)=>{const i=Pp(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof _w||t instanceof nl||t instanceof Pn||t instanceof xw||t instanceof Ew)}function Tw(t,e,n){if(!mN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=yw(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Gv(t,e,n){if((e=bt(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return Sw(t,e);throw xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const fB=new RegExp("[~\\*/\\[\\]]");function Sw(t,e,n){if(e.search(fB)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ip(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ue(Q.INVALID_ARGUMENT,a+t+c)}function gN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pB extends vN{data(){return super.data()}}function yN(t,e){return typeof e=="string"?Sw(t,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gB{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[df].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>at(o.doubleValue));return new Ew(i)}convertGeoPoint(e){return new _w(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Me(jP(r),9688,{name:e});const s=new ru(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wN extends vN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fh extends wN{data(e={}){return super.data(e)}}class yB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new fh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new fh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:wB(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){t=hs(t,Pn);const e=hs(t.firestore,_l);return tB(ww(e),t._key).then(n=>SB(e,t,n))}class xN extends gB{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function _B(t){t=hs(t,Sp);const e=hs(t.firestore,_l),n=ww(e),r=new xN(e);return mB(t._query),nB(n,t._query).then(s=>new yB(e,r,t,s))}function EB(t,e,n,...r){t=hs(t,Pn);const s=hs(t.firestore,_l),i=fN(s);let o;return o=typeof(e=bt(e))=="string"||e instanceof Ip?hB(i,"updateDoc",t._key,e,n,r):dB(i,"updateDoc",t._key,e),Cw(s,[o.toMutation(t._key,or.exists(!0))])}function bB(t){return Cw(hs(t.firestore,_l),[new tw(t._key,or.none())])}function TB(t,e){const n=hs(t.firestore,_l),r=Cp(t),s=vB(t.converter,e);return Cw(n,[uB(fN(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function Cw(t,e){return function(r,s){const i=new Zr;return r.asyncQueue.enqueueAndForget(async()=>Bz(await eB(r),s,i)),i.promise}(ww(t),e)}function SB(t,e,n){const r=n.docs.get(e._key),s=new xN(t);return new wN(t,s,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){vl=s})(pl),Ga(new vo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _l(new fU(r.getProvider("auth-internal")),new gU(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ui(db,hb,e),ui(db,hb,"esm2017")})();const CB={apiKey:"AIzaSyCi5ttsvEuAeUJOI6KMEsdKhJkkZ6sDHus",authDomain:"btihrobjektbetreuer.firebaseapp.com",projectId:"btihrobjektbetreuer",storageBucket:"btihrobjektbetreuer.firebasestorage.app",messagingSenderId:"305001906036",appId:"1:305001906036:web:81200a28803d6256093621"},_N=XI(CB),Du=iB(_N),Sr=aU(_N);W0(Sr,t=>{t||B3(Sr)});const EN=f.createContext(null),_s=()=>{const t=f.useContext(EN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},IB=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(!0),[i,o]=f.useState(null);f.useEffect(()=>W0(Sr,m=>{n(m),s(!1)}),[]);const h={currentUser:e,loading:r,signIn:async(p,m)=>{try{o(null),await AA(Sr,p,m)}catch(y){throw o(y.message),y}},signUp:async(p,m)=>{try{o(null),await IA(Sr,p,m)}catch(y){throw o(y.message),y}},signOut:async()=>{try{o(null),await PA(Sr)}catch(p){throw o(p.message),p}},error:i};return l.jsx(EN.Provider,{value:h,children:t})};var AB=f.createContext(void 0);function Np(t){const e=f.useContext(AB);return t||e||"ltr"}var Ym=0;function Rp(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??a1()),document.body.insertAdjacentElement("beforeend",t[1]??a1()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ym--}},[])}function a1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xm="focusScope.autoFocusOnMount",Jm="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},PB="FocusScope",ju=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=f.useState(null),d=kt(s),h=kt(i),p=f.useRef(null),m=Ne(e,v=>c(v)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let v=function(T){if(y.paused||!a)return;const N=T.target;a.contains(N)?p.current=N:Ds(p.current,{select:!0})},E=function(T){if(y.paused||!a)return;const N=T.relatedTarget;N!==null&&(a.contains(N)||Ds(p.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const j of T)j.removedNodes.length>0&&Ds(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){u1.add(y);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(Xm,l1);a.addEventListener(Xm,d),a.dispatchEvent(x),x.defaultPrevented||(NB(MB(bN(a)),{select:!0}),document.activeElement===v&&Ds(a))}return()=>{a.removeEventListener(Xm,d),setTimeout(()=>{const x=new CustomEvent(Jm,l1);a.addEventListener(Jm,h),a.dispatchEvent(x),x.defaultPrevented||Ds(v??document.body,{select:!0}),a.removeEventListener(Jm,h),u1.remove(y)},0)}}},[a,d,h,y]);const _=f.useCallback(v=>{if(!n&&!r||y.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const w=v.currentTarget,[T,N]=RB(w);T&&N?!v.shiftKey&&x===N?(v.preventDefault(),n&&Ds(T,{select:!0})):v.shiftKey&&x===T&&(v.preventDefault(),n&&Ds(N,{select:!0})):x===w&&v.preventDefault()}},[n,r,y.paused]);return l.jsx(he.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});ju.displayName=PB;function NB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ds(r,{select:e}),document.activeElement!==n)return}function RB(t){const e=bN(t),n=c1(e,t),r=c1(e.reverse(),t);return[n,r]}function bN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function c1(t,e){for(const n of t)if(!kB(n,{upTo:e}))return n}function kB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DB(t){return t instanceof HTMLInputElement&&"select"in t}function Ds(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&DB(t)&&e&&t.select()}}var u1=jB();function jB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=d1(t,e),t.unshift(e)},remove(e){var n;t=d1(t,e),(n=t[0])==null||n.resume()}}}function d1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function MB(t){return t.filter(e=>e.tagName!=="A")}function OB(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];function d(p){const{scope:m,children:y,..._}=p,v=(m==null?void 0:m[t][c])||a,E=f.useMemo(()=>_,Object.values(_));return l.jsx(v.Provider,{value:E,children:y})}function h(p,m){const y=(m==null?void 0:m[t][c])||a,_=f.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,LB(s,...e)]}function LB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zm="rovingFocusGroup.onEntryFocus",FB={bubbles:!1,cancelable:!0},kp="RovingFocusGroup",[Qv,TN,VB]=Wf(kp),[$B,Dp]=OB(kp,[VB]),[UB,zB]=$B(kp),SN=f.forwardRef((t,e)=>l.jsx(Qv.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Qv.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(BB,{...t,ref:e})})}));SN.displayName=kp;var BB=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=t,m=f.useRef(null),y=Ne(e,m),_=Np(i),[v=null,E]=Dr({prop:o,defaultProp:a,onChange:c}),[x,w]=f.useState(!1),T=kt(d),N=TN(n),j=f.useRef(!1),[L,C]=f.useState(0);return f.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Zm,T),()=>S.removeEventListener(Zm,T)},[T]),l.jsx(UB,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:v,onItemFocus:f.useCallback(S=>E(S),[E]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:f.useCallback(()=>C(S=>S-1),[]),children:l.jsx(he.div,{tabIndex:x||L===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{j.current=!0}),onFocus:ee(t.onFocus,S=>{const P=!j.current;if(S.target===S.currentTarget&&P&&!x){const A=new CustomEvent(Zm,FB);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=N().filter(W=>W.focusable),O=D.find(W=>W.active),I=D.find(W=>W.id===v),$=[O,I,...D].filter(Boolean).map(W=>W.ref.current);AN($,h)}}j.current=!1}),onBlur:ee(t.onBlur,()=>w(!1))})})}),CN="RovingFocusGroupItem",IN=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Un(),c=i||a,d=zB(CN,n),h=d.currentTabStopId===c,p=TN(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return f.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),l.jsx(Qv.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(he.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,_=>{r?d.onItemFocus(c):_.preventDefault()}),onFocus:ee(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ee(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=KB(_,d.orientation,d.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=p().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const w=x.indexOf(_.currentTarget);x=d.loop?qB(x,w+1):x.slice(w+1)}setTimeout(()=>AN(x))}})})})});IN.displayName=CN;var WB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KB(t,e,n){const r=HB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WB[r]}function AN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var PN=SN,NN=IN,GB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$o=new WeakMap,jd=new WeakMap,Md={},eg=0,RN=function(t){return t&&(t.host||RN(t.parentNode))},QB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},YB=function(t,e,n,r){var s=QB(e,Array.isArray(t)?t:[t]);Md[n]||(Md[n]=new WeakMap);var i=Md[n],o=[],a=new Set,c=new Set(s),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};s.forEach(d);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),_=y!==null&&y!=="false",v=($o.get(m)||0)+1,E=(i.get(m)||0)+1;$o.set(m,v),i.set(m,E),o.push(m),v===1&&_&&jd.set(m,!0),E===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),a.clear(),eg++,function(){o.forEach(function(p){var m=$o.get(p)-1,y=i.get(p)-1;$o.set(p,m),i.set(p,y),m||(jd.has(p)||p.removeAttribute(r),jd.delete(p)),y||p.removeAttribute(n)}),eg--,eg||($o=new WeakMap,$o=new WeakMap,jd=new WeakMap,Md={})}},Mu=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=GB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),YB(r,s,n,"aria-hidden")):function(){return null}},Cc="right-scroll-bar-position",Ic="width-before-scroll-bar",XB="with-scroll-bars-hidden",JB="--removed-body-scroll-bar-size";function tg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZB(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var e7=typeof window<"u"?f.useLayoutEffect:f.useEffect,h1=new WeakMap;function kN(t,e){var n=ZB(null,function(r){return t.forEach(function(s){return tg(s,r)})});return e7(function(){var r=h1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tg(a,null)}),i.forEach(function(a){s.has(a)||tg(a,o)})}h1.set(n,t)},[t]),n}function t7(t){return t}function n7(t,e){e===void 0&&(e=t7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function DN(t){t===void 0&&(t={});var e=n7(null);return e.options=qt({async:!0,ssr:!1},t),e}var jN=function(t){var e=t.sideCar,n=ml(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,qt({},n))};jN.isSideCarExport=!0;function MN(t,e){return t.useMedium(e),jN}var ON=DN(),ng=function(){},jp=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:ng,onWheelCapture:ng,onTouchMoveCapture:ng}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,_=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,w=t.gapMode,T=ml(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,j=kN([n,e]),L=qt(qt({},T),s);return f.createElement(f.Fragment,null,h&&f.createElement(N,{sideCar:ON,removeScrollBar:d,shards:p,noIsolation:y,inert:_,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?f.cloneElement(f.Children.only(a),qt(qt({},L),{ref:j})):f.createElement(x,qt({},L,{className:c,ref:j}),a))});jp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jp.classNames={fullWidth:Ic,zeroRight:Cc};var r7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function s7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=r7();return e&&t.setAttribute("nonce",e),t}function i7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function o7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var a7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=s7())&&(i7(e,n),o7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},l7=function(){var t=a7();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Iw=function(){var t=l7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},c7={left:0,top:0,right:0,gap:0},rg=function(t){return parseInt(t||"",10)||0},u7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rg(n),rg(r),rg(s)]},d7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return c7;var e=u7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},h7=Iw(),Sa="data-scroll-locked",f7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sa,`] {
    `).concat(JB,": ").concat(a,`px;
  }
`)},f1=function(){var t=parseInt(document.body.getAttribute(Sa)||"0",10);return isFinite(t)?t:0},p7=function(){f.useEffect(function(){return document.body.setAttribute(Sa,(f1()+1).toString()),function(){var t=f1()-1;t<=0?document.body.removeAttribute(Sa):document.body.setAttribute(Sa,t.toString())}},[])},LN=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;p7();var i=f.useMemo(function(){return d7(s)},[s]);return f.createElement(h7,{styles:f7(i,!e,s,n?"":"!important")})},Yv=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return Yv=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{Yv=!1}var Uo=Yv?{passive:!1}:!1,m7=function(t){return t.tagName==="TEXTAREA"},FN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!m7(t)&&n[e]==="visible")},g7=function(t){return FN(t,"overflowY")},v7=function(t){return FN(t,"overflowX")},p1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VN(t,r);if(s){var i=$N(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},w7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VN=function(t,e){return t==="v"?g7(e):v7(e)},$N=function(t,e){return t==="v"?y7(e):w7(e)},x7=function(t,e){return t==="h"&&e==="rtl"?-1:1},_7=function(t,e,n,r,s){var i=x7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,p=0,m=0;do{var y=$N(t,a),_=y[0],v=y[1],E=y[2],x=v-E-i*_;(_||x)&&VN(t,a)&&(p+=x,m+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m1=function(t){return[t.deltaX,t.deltaY]},g1=function(t){return t&&"current"in t?t.current:t},E7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},b7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},T7=0,zo=[];function S7(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(T7++)[0],i=f.useState(Iw)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=tA([t.lockRef.current],(t.shards||[]).map(g1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Ld(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-x[0],N="deltaY"in v?v.deltaY:w[1]-x[1],j,L=v.target,C=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in v&&C==="h"&&L.type==="range")return!1;var S=p1(C,L);if(!S)return!0;if(S?j=C:(j=C==="v"?"h":"v",S=p1(C,L)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||N)&&(r.current=j),!j)return!0;var P=r.current||j;return _7(P,E,v,P==="h"?T:N,!0)},[]),c=f.useCallback(function(v){var E=v;if(!(!zo.length||zo[zo.length-1]!==i)){var x="deltaY"in E?m1(E):Ld(E),w=e.current.filter(function(j){return j.name===E.type&&(j.target===E.target||E.target===j.shadowParent)&&E7(j.delta,x)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(g1).filter(Boolean).filter(function(j){return j.contains(E.target)}),N=T.length>0?a(E,T[0]):!o.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),d=f.useCallback(function(v,E,x,w){var T={name:v,delta:E,target:x,should:w,shadowParent:C7(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),h=f.useCallback(function(v){n.current=Ld(v),r.current=void 0},[]),p=f.useCallback(function(v){d(v.type,m1(v),v.target,a(v,t.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,Ld(v),v.target,a(v,t.lockRef.current))},[]);f.useEffect(function(){return zo.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Uo),document.addEventListener("touchmove",c,Uo),document.addEventListener("touchstart",h,Uo),function(){zo=zo.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Uo),document.removeEventListener("touchmove",c,Uo),document.removeEventListener("touchstart",h,Uo)}},[]);var y=t.removeScrollBar,_=t.inert;return f.createElement(f.Fragment,null,_?f.createElement(i,{styles:b7(s)}):null,y?f.createElement(LN,{gapMode:t.gapMode}):null)}function C7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const I7=MN(ON,S7);var Ou=f.forwardRef(function(t,e){return f.createElement(jp,qt({},t,{ref:e,sideCar:I7}))});Ou.classNames=jp.classNames;var Xv=["Enter"," "],A7=["ArrowDown","PageUp","Home"],UN=["ArrowUp","PageDown","End"],P7=[...A7,...UN],N7={ltr:[...Xv,"ArrowRight"],rtl:[...Xv,"ArrowLeft"]},R7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lu="Menu",[au,k7,D7]=Wf(Lu),[ko,zN]=dr(Lu,[D7,Ni,Dp]),Mp=Ni(),BN=Dp(),[j7,Do]=ko(Lu),[M7,Fu]=ko(Lu),WN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Mp(e),[c,d]=f.useState(null),h=f.useRef(!1),p=kt(i),m=Np(s);return f.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),l.jsx(S0,{...a,children:l.jsx(j7,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:d,children:l.jsx(M7,{scope:e,onClose:f.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};WN.displayName=Lu;var O7="MenuAnchor",Aw=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mp(n);return l.jsx(Eu,{...s,...r,ref:e})});Aw.displayName=O7;var Pw="MenuPortal",[L7,HN]=ko(Pw,{forceMount:void 0}),KN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Do(Pw,e);return l.jsx(L7,{scope:e,forceMount:n,children:l.jsx(ln,{present:n||i.open,children:l.jsx(al,{asChild:!0,container:s,children:r})})})};KN.displayName=Pw;var zn="MenuContent",[F7,Nw]=ko(zn),qN=f.forwardRef((t,e)=>{const n=HN(zn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Do(zn,t.__scopeMenu),o=Fu(zn,t.__scopeMenu);return l.jsx(au.Provider,{scope:t.__scopeMenu,children:l.jsx(ln,{present:r||i.open,children:l.jsx(au.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(V7,{...s,ref:e}):l.jsx($7,{...s,ref:e})})})})}),V7=f.forwardRef((t,e)=>{const n=Do(zn,t.__scopeMenu),r=f.useRef(null),s=Ne(e,r);return f.useEffect(()=>{const i=r.current;if(i)return Mu(i)},[]),l.jsx(Rw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$7=f.forwardRef((t,e)=>{const n=Do(zn,t.__scopeMenu);return l.jsx(Rw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Rw=f.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:y,disableOutsideScroll:_,...v}=t,E=Do(zn,n),x=Fu(zn,n),w=Mp(n),T=BN(n),N=k7(n),[j,L]=f.useState(null),C=f.useRef(null),S=Ne(e,C,E.onContentChange),P=f.useRef(0),A=f.useRef(""),D=f.useRef(0),O=f.useRef(null),I=f.useRef("right"),z=f.useRef(0),$=_?Ou:f.Fragment,W=_?{as:ss,allowPinchZoom:!0}:void 0,Y=k=>{var J,de;const U=A.current+k,H=N().filter(ve=>!ve.disabled),F=document.activeElement,G=(J=H.find(ve=>ve.ref.current===F))==null?void 0:J.textValue,se=H.map(ve=>ve.textValue),te=J7(se,U,G),Z=(de=H.find(ve=>ve.textValue===te))==null?void 0:de.ref.current;(function ve(pe){A.current=pe,window.clearTimeout(P.current),pe!==""&&(P.current=window.setTimeout(()=>ve(""),1e3))})(U),Z&&setTimeout(()=>Z.focus())};f.useEffect(()=>()=>window.clearTimeout(P.current),[]),Rp();const M=f.useCallback(k=>{var H,F;return I.current===((H=O.current)==null?void 0:H.side)&&e8(k,(F=O.current)==null?void 0:F.area)},[]);return l.jsx(F7,{scope:n,searchRef:A,onItemEnter:f.useCallback(k=>{M(k)&&k.preventDefault()},[M]),onItemLeave:f.useCallback(k=>{var U;M(k)||((U=C.current)==null||U.focus(),L(null))},[M]),onTriggerLeave:f.useCallback(k=>{M(k)&&k.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(k=>{O.current=k},[]),children:l.jsx($,{...W,children:l.jsx(ju,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,k=>{var U;k.preventDefault(),(U=C.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Po,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:y,children:l.jsx(PN,{asChild:!0,...T,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:L,onEntryFocus:ee(c,k=>{x.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Yf,{role:"menu","aria-orientation":"vertical","data-state":cR(E.open),"data-radix-menu-content":"",dir:x.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,k=>{const H=k.target.closest("[data-radix-menu-content]")===k.currentTarget,F=k.ctrlKey||k.altKey||k.metaKey,G=k.key.length===1;H&&(k.key==="Tab"&&k.preventDefault(),!F&&G&&Y(k.key));const se=C.current;if(k.target!==se||!P7.includes(k.key))return;k.preventDefault();const Z=N().filter(J=>!J.disabled).map(J=>J.ref.current);UN.includes(k.key)&&Z.reverse(),Y7(Z)}),onBlur:ee(t.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:ee(t.onPointerMove,lu(k=>{const U=k.target,H=z.current!==k.clientX;if(k.currentTarget.contains(U)&&H){const F=k.clientX>z.current?"right":"left";I.current=F,z.current=k.clientX}}))})})})})})})});qN.displayName=zn;var U7="MenuGroup",kw=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(he.div,{role:"group",...r,ref:e})});kw.displayName=U7;var z7="MenuLabel",GN=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(he.div,{...r,ref:e})});GN.displayName=z7;var _f="MenuItem",v1="menu.itemSelect",Op=f.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=f.useRef(null),o=Fu(_f,t.__scopeMenu),a=Nw(_f,t.__scopeMenu),c=Ne(e,i),d=f.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const m=new CustomEvent(v1,{bubbles:!0,cancelable:!0});p.addEventListener(v1,y=>r==null?void 0:r(y),{once:!0}),h0(p,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(QN,{...s,ref:c,disabled:n,onClick:ee(t.onClick,h),onPointerDown:p=>{var m;(m=t.onPointerDown)==null||m.call(t,p),d.current=!0},onPointerUp:ee(t.onPointerUp,p=>{var m;d.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:ee(t.onKeyDown,p=>{const m=a.searchRef.current!=="";n||m&&p.key===" "||Xv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Op.displayName=_f;var QN=f.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Nw(_f,n),a=BN(n),c=f.useRef(null),d=Ne(e,c),[h,p]=f.useState(!1),[m,y]=f.useState("");return f.useEffect(()=>{const _=c.current;_&&y((_.textContent??"").trim())},[i.children]),l.jsx(au.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx(NN,{asChild:!0,...a,focusable:!r,children:l.jsx(he.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ee(t.onPointerMove,lu(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,lu(_=>o.onItemLeave(_))),onFocus:ee(t.onFocus,()=>p(!0)),onBlur:ee(t.onBlur,()=>p(!1))})})})}),B7="MenuCheckboxItem",YN=f.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(tR,{scope:t.__scopeMenu,checked:n,children:l.jsx(Op,{role:"menuitemcheckbox","aria-checked":Ef(n)?"mixed":n,...s,ref:e,"data-state":jw(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Ef(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YN.displayName=B7;var XN="MenuRadioGroup",[W7,H7]=ko(XN,{value:void 0,onValueChange:()=>{}}),JN=f.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=kt(r);return l.jsx(W7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(kw,{...s,ref:e})})});JN.displayName=XN;var ZN="MenuRadioItem",eR=f.forwardRef((t,e)=>{const{value:n,...r}=t,s=H7(ZN,t.__scopeMenu),i=n===s.value;return l.jsx(tR,{scope:t.__scopeMenu,checked:i,children:l.jsx(Op,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":jw(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});eR.displayName=ZN;var Dw="MenuItemIndicator",[tR,K7]=ko(Dw,{checked:!1}),nR=f.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=K7(Dw,n);return l.jsx(ln,{present:r||Ef(i.checked)||i.checked===!0,children:l.jsx(he.span,{...s,ref:e,"data-state":jw(i.checked)})})});nR.displayName=Dw;var q7="MenuSeparator",rR=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rR.displayName=q7;var G7="MenuArrow",sR=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mp(n);return l.jsx(Xf,{...s,...r,ref:e})});sR.displayName=G7;var Q7="MenuSub",[WG,iR]=ko(Q7),ac="MenuSubTrigger",oR=f.forwardRef((t,e)=>{const n=Do(ac,t.__scopeMenu),r=Fu(ac,t.__scopeMenu),s=iR(ac,t.__scopeMenu),i=Nw(ac,t.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},h=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),l.jsx(Aw,{asChild:!0,...d,children:l.jsx(QN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":cR(n.open),...t,ref:Bf(e,s.onTriggerChange),onClick:p=>{var m;(m=t.onClick)==null||m.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,lu(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,lu(p=>{var y,_;h();const m=(y=n.content)==null?void 0:y.getBoundingClientRect();if(m){const v=(_=n.content)==null?void 0:_.dataset.side,E=v==="right",x=E?-5:5,w=m[E?"left":"right"],T=m[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+x,y:p.clientY},{x:w,y:m.top},{x:T,y:m.top},{x:T,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,p=>{var y;const m=i.searchRef.current!=="";t.disabled||m&&p.key===" "||N7[r.dir].includes(p.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),p.preventDefault())})})})});oR.displayName=ac;var aR="MenuSubContent",lR=f.forwardRef((t,e)=>{const n=HN(zn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Do(zn,t.__scopeMenu),o=Fu(zn,t.__scopeMenu),a=iR(aR,t.__scopeMenu),c=f.useRef(null),d=Ne(e,c);return l.jsx(au.Provider,{scope:t.__scopeMenu,children:l.jsx(ln,{present:r||i.open,children:l.jsx(au.Slot,{scope:t.__scopeMenu,children:l.jsx(Rw,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var y;const p=h.currentTarget.contains(h.target),m=R7[o.dir].includes(h.key);p&&m&&(i.onOpenChange(!1),(y=a.trigger)==null||y.focus(),h.preventDefault())})})})})})});lR.displayName=aR;function cR(t){return t?"open":"closed"}function Ef(t){return t==="indeterminate"}function jw(t){return Ef(t)?"indeterminate":t?"checked":"unchecked"}function Y7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function X7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function J7(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X7(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Z7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function e8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Z7(n,e)}function lu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var t8=WN,n8=Aw,r8=KN,s8=qN,i8=kw,o8=GN,a8=Op,l8=YN,c8=JN,u8=eR,d8=nR,h8=rR,f8=sR,p8=oR,m8=lR,Mw="DropdownMenu",[g8,HG]=dr(Mw,[zN]),cn=zN(),[v8,uR]=g8(Mw),dR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=cn(e),d=f.useRef(null),[h=!1,p]=Dr({prop:s,defaultProp:i,onChange:o});return l.jsx(v8,{scope:e,triggerId:Un(),triggerRef:d,contentId:Un(),open:h,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(m=>!m),[p]),modal:a,children:l.jsx(t8,{...c,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};dR.displayName=Mw;var hR="DropdownMenuTrigger",fR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=uR(hR,n),o=cn(n);return l.jsx(n8,{asChild:!0,...o,children:l.jsx(he.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Bf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fR.displayName=hR;var y8="DropdownMenuPortal",pR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=cn(e);return l.jsx(r8,{...r,...n})};pR.displayName=y8;var mR="DropdownMenuContent",gR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=uR(mR,n),i=cn(n),o=f.useRef(!1);return l.jsx(s8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gR.displayName=mR;var w8="DropdownMenuGroup",x8=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(i8,{...s,...r,ref:e})});x8.displayName=w8;var _8="DropdownMenuLabel",vR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(o8,{...s,...r,ref:e})});vR.displayName=_8;var E8="DropdownMenuItem",yR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(a8,{...s,...r,ref:e})});yR.displayName=E8;var b8="DropdownMenuCheckboxItem",wR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(l8,{...s,...r,ref:e})});wR.displayName=b8;var T8="DropdownMenuRadioGroup",S8=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(c8,{...s,...r,ref:e})});S8.displayName=T8;var C8="DropdownMenuRadioItem",xR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(u8,{...s,...r,ref:e})});xR.displayName=C8;var I8="DropdownMenuItemIndicator",_R=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(d8,{...s,...r,ref:e})});_R.displayName=I8;var A8="DropdownMenuSeparator",ER=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(h8,{...s,...r,ref:e})});ER.displayName=A8;var P8="DropdownMenuArrow",N8=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(f8,{...s,...r,ref:e})});N8.displayName=P8;var R8="DropdownMenuSubTrigger",bR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(p8,{...s,...r,ref:e})});bR.displayName=R8;var k8="DropdownMenuSubContent",TR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return l.jsx(m8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TR.displayName=k8;var D8=dR,j8=fR,M8=pR,SR=gR,CR=vR,IR=yR,AR=wR,PR=xR,NR=_R,RR=ER,kR=bR,DR=TR;const O8=D8,L8=j8,F8=f.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(kR,{ref:s,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(KO,{className:"ml-auto h-4 w-4"})]}));F8.displayName=kR.displayName;const V8=f.forwardRef(({className:t,...e},n)=>l.jsx(DR,{ref:n,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));V8.displayName=DR.displayName;const jR=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(M8,{children:l.jsx(SR,{ref:r,sideOffset:e,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));jR.displayName=SR.displayName;const Jv=f.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(IR,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Jv.displayName=IR.displayName;const $8=f.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(AR,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(NR,{children:l.jsx(ya,{className:"h-4 w-4"})})}),e]}));$8.displayName=AR.displayName;const U8=f.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(PR,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(NR,{children:l.jsx(GO,{className:"h-2 w-2 fill-current"})})}),e]}));U8.displayName=PR.displayName;const z8=f.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(CR,{ref:r,className:ie("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));z8.displayName=CR.displayName;const Zv=f.forwardRef(({className:t,...e},n)=>l.jsx(RR,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));Zv.displayName=RR.displayName;const Lr=({toggleSidebar:t,title:e})=>{const n=jn(),{currentUser:r,signOut:s}=_s(),i=async()=>{try{await s(),n("/login")}catch(a){console.error("Error signing out:",a)}},o=()=>r!=null&&r.email?r.email.charAt(0).toUpperCase():"?";return l.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center px-4 justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(le,{variant:"ghost",size:"icon",onClick:t,className:"mr-4 lg:hidden",children:l.jsx(XO,{size:24})}),l.jsx("h1",{className:"text-xl font-semibold",children:e})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(le,{variant:"ghost",className:"font-medium hidden md:flex",onClick:()=>n("/"),children:"Objektbetreuer Portal"}),r?l.jsxs(O8,{children:[l.jsx(L8,{asChild:!0,children:l.jsx(le,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:l.jsxs(k0,{children:[l.jsx(D0,{src:r.photoURL||void 0}),l.jsx(j0,{children:o()})]})})}),l.jsxs(jR,{align:"end",children:[l.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:l.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[r.displayName&&l.jsx("p",{className:"font-medium",children:r.displayName}),r.email&&l.jsx("p",{className:"text-sm text-muted-foreground",children:r.email})]})}),l.jsx(Zv,{}),l.jsxs(Jv,{className:"cursor-pointer",onClick:()=>n("/profile"),children:[l.jsx(ZO,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Profil"})]}),l.jsx(Zv,{}),l.jsxs(Jv,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:i,children:[l.jsx(YO,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Abmelden"})]})]})]}):l.jsx(le,{variant:"outline",onClick:()=>n("/login"),children:"Anmelden"})]})]})},fs=({isOpen:t,onClose:e})=>{const n=[{icon:l.jsx(QO,{size:20}),label:"Dashboard",path:"/"},{icon:l.jsx(xu,{size:20}),label:"Liegenschaften",path:"/properties"},{icon:l.jsx(oo,{size:20}),label:"Liegenschaftsaufträge",path:"/jobs"},{icon:l.jsx(oo,{size:20}),label:"Baustellen",children:[{label:"Wasserschäden",path:"/jobs/baustellen/wasserschaden"},{label:"Sonderaufträge",path:"/jobs/baustellen/sonderauftrag"}]},{icon:l.jsx(oo,{size:20}),label:"Meine Aufträge",path:"/meine-auftraege"},{icon:l.jsx(eL,{size:20}),label:"Mitarbeiter",path:"/employees"}],r=s=>{s.target===s.currentTarget&&e()};return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/20 lg:hidden z-40",onClick:r}),l.jsxs("div",{className:ie("fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200 z-50 transition-transform duration-300 lg:translate-x-0 lg:static lg:z-0",t?"translate-x-0":"-translate-x-full"),children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-bold text-primary",children:"Objektverwaltung"})}),l.jsx("nav",{className:"p-3 space-y-1",children:n.map(s=>s.children?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 font-semibold text-sm text-gray-700",children:[s.icon,l.jsx("span",{children:s.label})]}),l.jsx("div",{className:"ml-8 space-y-1",children:s.children.map(i=>l.jsx(DE,{to:i.path,onClick:()=>e(),className:({isActive:o})=>ie("flex items-center gap-3 px-3 py-2 rounded-md w-full text-sm",o?"bg-primary text-primary-foreground":"text-gray-700 hover:bg-gray-100"),children:l.jsx("span",{children:i.label})},i.path))})]},s.label):l.jsxs(DE,{to:s.path,onClick:()=>e(),className:({isActive:i})=>ie("flex items-center gap-3 px-3 py-2 rounded-md w-full text-sm",i?"bg-primary text-primary-foreground":"text-gray-700 hover:bg-gray-100"),children:[s.icon,l.jsx("span",{children:s.label})]},s.path))})]})]})},ey=async(t,e)=>{const n=Cp(Du,t,e),r=await xB(n);return r.exists()?{id:r.id,...r.data()}:null},Nn=async t=>(await _B(uN(Du,t))).docs.map(n=>({id:n.id,...n.data()})),_o=async(t,e)=>(await TB(uN(Du,t),e)).id,fi=async(t,e,n)=>{const r=Cp(Du,t,e);return await EB(r,n),e},El=async(t,e)=>(await bB(Cp(Du,t,e)),e);function B8(t){var e,n,r,s;return{...t,createdAt:(e=t.createdAt)!=null&&e.toDate?t.createdAt.toDate():new Date(t.createdAt),updatedAt:(n=t.updatedAt)!=null&&n.toDate?t.updatedAt.toDate():new Date(t.updatedAt),dueDate:(r=t.dueDate)!=null&&r.toDate?t.dueDate.toDate():t.dueDate?new Date(t.dueDate):void 0,completedAt:(s=t.completedAt)!=null&&s.toDate?t.completedAt.toDate():t.completedAt?new Date(t.completedAt):void 0}}const W8=()=>{const[t,e]=f.useState(!1),n=jn(),[r,s]=f.useState([]),[i,o]=f.useState([]),[a,c]=f.useState(!0),d=async()=>{c(!0);const m=await Nn("properties"),y=await Nn("jobs");s(m),o(y.map(B8)),c(!1)};f.useEffect(()=>{d()},[]);const h=r.slice(0,3),p=i.slice(0,5);return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Dashboard",toggleSidebar:()=>e(!t)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Willkommen"}),l.jsx("p",{className:"text-gray-500",children:"Übersicht Ihrer Liegenschaften und Aufträge"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[l.jsxs(st,{onClick:()=>n("/properties"),className:"cursor-pointer transition-shadow hover:shadow-lg",children:[l.jsxs(Wt,{className:"pb-2 flex flex-row items-center gap-2",children:[l.jsx(xu,{className:"h-5 w-5 text-primary"}),l.jsx(Ht,{className:"text-sm font-medium text-gray-500",children:"Liegenschaften"})]}),l.jsx(Ge,{children:l.jsx("span",{className:"text-3xl font-bold mt-2 flex justify-center w-full",children:a?"-":r.length})})]}),l.jsxs(st,{onClick:()=>n("/jobs"),className:"cursor-pointer transition-shadow hover:shadow-lg",children:[l.jsxs(Wt,{className:"pb-2 flex flex-row items-center gap-2",children:[l.jsx(oo,{className:"h-5 w-5 text-status-inprogress"}),l.jsx(Ht,{className:"text-sm font-medium text-gray-500",children:"Liegenschaftsaufträge"})]}),l.jsx(Ge,{children:l.jsx("span",{className:"text-3xl font-bold mt-2 flex justify-center w-full",children:a?"-":i.length})})]}),l.jsxs(st,{onClick:()=>n("/baustellen-wasserschaden"),className:"cursor-pointer transition-shadow hover:shadow-lg",children:[l.jsxs(Wt,{className:"pb-2 flex flex-row items-center gap-2",children:[l.jsx(oo,{className:"h-5 w-5 text-blue-500"}),l.jsx(Ht,{className:"text-sm font-medium text-gray-500",children:"Baustellen – Wasserschäden"})]}),l.jsx(Ge,{children:l.jsx("span",{className:"text-3xl font-bold mt-2 flex justify-center w-full",children:a?"-":i.filter(m=>(m.title+" "+m.description).toLowerCase().includes("wasser")).length})})]}),l.jsxs(st,{onClick:()=>n("/baustellen-sonderauftrag"),className:"cursor-pointer transition-shadow hover:shadow-lg",children:[l.jsxs(Wt,{className:"pb-2 flex flex-row items-center gap-2",children:[l.jsx(oo,{className:"h-5 w-5 text-green-500"}),l.jsx(Ht,{className:"text-sm font-medium text-gray-500",children:"Baustellen – Sonderaufträge"})]}),l.jsx(Ge,{children:l.jsx("span",{className:"text-3xl font-bold mt-2 flex justify-center w-full",children:a?"-":i.filter(m=>(m.title+" "+m.description).toLowerCase().includes("sonderauftrag")).length})})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Neueste Liegenschaften"}),l.jsxs(le,{variant:"ghost",onClick:()=>n("/properties"),className:"text-primary hover:text-primary hover:bg-primary/10",children:["Alle anzeigen ",l.jsx(aE,{className:"ml-1 h-4 w-4"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a?l.jsx("div",{className:"col-span-3 text-center text-gray-500",children:"Lade Liegenschaften..."}):h.map(m=>l.jsx(kI,{property:m},m.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Aktuelle Aufträge"}),l.jsxs(le,{variant:"ghost",onClick:()=>n("/jobs"),className:"text-primary hover:text-primary hover:bg-primary/10",children:["Alle anzeigen ",l.jsx(aE,{className:"ml-1 h-4 w-4"})]})]}),l.jsx(st,{children:l.jsx(Ge,{className:"p-0",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:a?l.jsx("li",{className:"p-4 text-center text-gray-500",children:"Lade Aufträge..."}):p.map(m=>{const y=r.find(_=>_.id===m.propertyId);return l.jsx("li",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:m.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:[y==null?void 0:y.name," - ",new Date(m.createdAt).toLocaleDateString()]})]}),l.jsx(mo,{status:m.status})]})},m.id)})})})})]})]})]})]})};var Ow="Dialog",[MR,KG]=dr(Ow),[H8,hr]=MR(Ow),OR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),c=f.useRef(null),[d=!1,h]=Dr({prop:r,defaultProp:s,onChange:i});return l.jsx(H8,{scope:e,triggerRef:a,contentRef:c,contentId:Un(),titleId:Un(),descriptionId:Un(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};OR.displayName=Ow;var LR="DialogTrigger",K8=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(LR,n),i=Ne(e,s.triggerRef);return l.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vw(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});K8.displayName=LR;var Lw="DialogPortal",[q8,FR]=MR(Lw,{forceMount:void 0}),VR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=hr(Lw,e);return l.jsx(q8,{scope:e,forceMount:n,children:f.Children.map(r,o=>l.jsx(ln,{present:n||i.open,children:l.jsx(al,{asChild:!0,container:s,children:o})}))})};VR.displayName=Lw;var bf="DialogOverlay",$R=f.forwardRef((t,e)=>{const n=FR(bf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(bf,t.__scopeDialog);return i.modal?l.jsx(ln,{present:r||i.open,children:l.jsx(G8,{...s,ref:e})}):null});$R.displayName=bf;var G8=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(bf,n);return l.jsx(Ou,{as:ss,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(he.div,{"data-state":Vw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",UR=f.forwardRef((t,e)=>{const n=FR(Eo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(Eo,t.__scopeDialog);return l.jsx(ln,{present:r||i.open,children:i.modal?l.jsx(Q8,{...s,ref:e}):l.jsx(Y8,{...s,ref:e})})});UR.displayName=Eo;var Q8=f.forwardRef((t,e)=>{const n=hr(Eo,t.__scopeDialog),r=f.useRef(null),s=Ne(e,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return Mu(i)},[]),l.jsx(zR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),Y8=f.forwardRef((t,e)=>{const n=hr(Eo,t.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(zR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),zR=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=hr(Eo,n),c=f.useRef(null),d=Ne(e,c);return Rp(),l.jsxs(l.Fragment,{children:[l.jsx(ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Po,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(X8,{titleId:a.titleId}),l.jsx(Z8,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Fw="DialogTitle",BR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(Fw,n);return l.jsx(he.h2,{id:s.titleId,...r,ref:e})});BR.displayName=Fw;var WR="DialogDescription",HR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(WR,n);return l.jsx(he.p,{id:s.descriptionId,...r,ref:e})});HR.displayName=WR;var KR="DialogClose",qR=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(KR,n);return l.jsx(he.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});qR.displayName=KR;function Vw(t){return t?"open":"closed"}var GR="DialogTitleWarning",[qG,QR]=oO(GR,{contentName:Eo,titleName:Fw,docsSlug:"dialog"}),X8=({titleId:t})=>{const e=QR(GR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},J8="DialogDescriptionWarning",Z8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QR(J8).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},eW=OR,tW=VR,YR=$R,XR=UR,JR=BR,ZR=HR,nW=qR;const tr=eW,rW=tW,ek=f.forwardRef(({className:t,...e},n)=>l.jsx(YR,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ek.displayName=YR.displayName;const Vn=f.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(rW,{children:[l.jsx(ek,{}),l.jsxs(XR,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(nW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Bh,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vn.displayName=XR.displayName;const nr=({className:t,...e})=>l.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nr.displayName="DialogHeader";const rr=f.forwardRef(({className:t,...e},n)=>l.jsx(JR,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));rr.displayName=JR.displayName;const sW=f.forwardRef(({className:t,...e},n)=>l.jsx(ZR,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));sW.displayName=ZR.displayName;const _e=f.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));_e.displayName="Input";const iW=({searchQuery:t,setSearchQuery:e,onAddProperty:n})=>l.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(_e,{placeholder:"Liegenschaft suchen...",value:t,onChange:r=>e(r.target.value),className:"pl-9"})]}),l.jsx(le,{onClick:n,children:"Liegenschaft hinzufügen"})]});var oW="Label",tk=f.forwardRef((t,e)=>l.jsx(he.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tk.displayName=oW;var nk=tk;const aW=wu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=f.forwardRef(({className:t,...e},n)=>l.jsx(nk,{ref:n,className:ie(aW(),t),...e}));ce.displayName=nk.displayName;const lW="AIzaSyDTRlbBes3PHeMaKgI9fJxygaaUEHwengc",cW=({value:t,onChange:e,placeholder:n,required:r,id:s,className:i})=>{const o=f.useRef(null),a=f.useRef(null);f.useEffect(()=>{if(!window.google||!window.google.maps){const d=document.createElement("script");d.src=`https://maps.googleapis.com/maps/api/js?key=${lW}&libraries=places`,d.async=!0,d.onload=()=>c(),document.body.appendChild(d)}else c()},[]);const c=()=>{o.current&&window.google&&window.google.maps&&(a.current=new window.google.maps.places.Autocomplete(o.current,{types:["address"],componentRestrictions:{country:"de"}}),a.current.addListener("place_changed",()=>{const d=a.current.getPlace();e(o.current.value,d)}))};return l.jsx(_e,{ref:o,id:s,className:i,value:t,onChange:d=>e(d.target.value),placeholder:n,required:r,autoComplete:"off",type:"text"})},uW=()=>{const[t,e]=f.useState(!1),[n,r]=f.useState(""),[s,i]=f.useState(!1),[o,a]=f.useState([]),[c,d]=f.useState(!0),[h,p]=f.useState({name:"",address:"",city:"",postalCode:"",type:""});jn();const m=async()=>{d(!0);const v=await Nn("properties");a(v),d(!1)};f.useEffect(()=>{m()},[]);const y=n?o.filter(v=>v.name.toLowerCase().includes(n.toLowerCase())||v.address.toLowerCase().includes(n.toLowerCase())||v.city.toLowerCase().includes(n.toLowerCase())):o,_=async v=>{v.preventDefault();const E=new Date,x={...h,size:0,owner:"",contactPhone:"",contactEmail:"",notes:"",createdAt:E,updatedAt:E};await _o("properties",x),i(!1),p({name:"",address:"",city:"",postalCode:"",type:""}),m()};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Liegenschaften",toggleSidebar:()=>e(!t)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsx(iW,{searchQuery:n,setSearchQuery:r,onAddProperty:()=>i(!0)})}),c?l.jsx("div",{className:"text-center py-12 text-gray-500",children:"Lade Liegenschaften..."}):y.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"Keine Liegenschaften gefunden."}),l.jsxs(le,{onClick:()=>i(!0),children:[l.jsx(fo,{className:"mr-2 h-4 w-4"}),"Liegenschaft hinzufügen"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(v=>l.jsx(kI,{property:v},v.id))})]})]}),l.jsx(tr,{open:s,onOpenChange:i,children:l.jsxs(Vn,{onInteractOutside:v=>{const E=v.target;E instanceof HTMLElement&&E.closest(".pac-container")&&v.preventDefault()},children:[l.jsx(nr,{children:l.jsx(rr,{children:"Neue Liegenschaft hinzufügen"})}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"name",children:"Name"}),l.jsx(_e,{id:"name",value:h.name,onChange:v=>p({...h,name:v.target.value}),placeholder:"z.B. Apartment-Komplex Nord",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"address",children:"Adresse"}),l.jsx(cW,{id:"address",value:h.address||"",onChange:(v,E)=>{let x="",w="";if(E&&E.address_components)for(const T of E.address_components)T.types.includes("locality")&&(x=T.long_name),T.types.includes("postal_code")&&(w=T.long_name);p({...h,address:v,city:x,postalCode:w})},placeholder:"Straße und Hausnummer",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"type",children:"Typ"}),l.jsx(_e,{id:"type",value:h.type,onChange:v=>p({...h,type:v.target.value}),placeholder:"z.B. Wohnkomplex, Bürogebäude, etc.",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Speichern"})]})]})]})})]})},Ca=f.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ca.displayName="Textarea";var $w="Tabs",[dW,GG]=dr($w,[Dp]),rk=Dp(),[hW,Uw]=dW($w),sk=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Np(a),[p,m]=Dr({prop:r,onChange:s,defaultProp:i});return l.jsx(hW,{scope:n,baseId:Un(),value:p,onValueChange:m,orientation:o,dir:h,activationMode:c,children:l.jsx(he.div,{dir:h,"data-orientation":o,...d,ref:e})})});sk.displayName=$w;var ik="TabsList",ok=f.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Uw(ik,n),o=rk(n);return l.jsx(PN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(he.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ok.displayName=ik;var ak="TabsTrigger",lk=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Uw(ak,n),a=rk(n),c=dk(o.baseId,r),d=hk(o.baseId,r),h=r===o.value;return l.jsx(NN,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(he.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ee(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:ee(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});lk.displayName=ak;var ck="TabsContent",uk=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Uw(ck,n),c=dk(a.baseId,r),d=hk(a.baseId,r),h=r===a.value,p=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(ln,{present:s||h,children:({present:m})=>l.jsx(he.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});uk.displayName=ck;function dk(t,e){return`${t}-trigger-${e}`}function hk(t,e){return`${t}-content-${e}`}var fW=sk,fk=ok,pk=lk,mk=uk;const gk=fW,zw=f.forwardRef(({className:t,...e},n)=>l.jsx(fk,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zw.displayName=fk.displayName;const Ji=f.forwardRef(({className:t,...e},n)=>l.jsx(pk,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ji.displayName=pk.displayName;const Zi=f.forwardRef(({className:t,...e},n)=>l.jsx(mk,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zi.displayName=mk.displayName;function pW(t){var e,n,r,s;return{...t,createdAt:(e=t.createdAt)!=null&&e.toDate?t.createdAt.toDate():new Date(t.createdAt),updatedAt:(n=t.updatedAt)!=null&&n.toDate?t.updatedAt.toDate():new Date(t.updatedAt),dueDate:(r=t.dueDate)!=null&&r.toDate?t.dueDate.toDate():t.dueDate?new Date(t.dueDate):void 0,completedAt:(s=t.completedAt)!=null&&s.toDate?t.completedAt.toDate():t.completedAt?new Date(t.completedAt):void 0}}const Bo=[{key:"altpapier",label:"Altpapier",color:"bg-green-700",short:"P"},{key:"bioabfall",label:"Bioabfall",color:"bg-yellow-900",short:"B"},{key:"restabfall",label:"Restabfall",color:"bg-gray-500",short:"R1"},{key:"restabfall2",label:"Restabfall 2. wöchentliche Leerung (wenn beantragt)",color:"bg-gray-500",short:"R2"},{key:"verpackung",label:"Verpackung",color:"bg-yellow-400",short:"V"}],Yo={altpapier:/altpapier/i,bioabfall:/bioabfall/i,restabfall:/restabfall 1/i,restabfall2:/restabfall 2/i,verpackung:/verpackung(en)?|grüner punkt/i},mW=t=>{const e={};return[...t].sort((r,s)=>r.dueDate?s.dueDate?new Date(r.dueDate).getTime()-new Date(s.dueDate).getTime():-1:1).forEach(r=>{if(!r.dueDate||r.jobType!=="abfallkalender_view")return;const s=new Date(r.dueDate),i=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`,o=s.getDate();let a=r.wasteType||"other";if(!a||a==="other"){for(const[c,d]of Object.entries(Yo))if(d.test(r.title.toLowerCase())){a=c;break}}e[i]||(e[i]={}),e[i][a]||(e[i][a]=[]),e[i][a].push(o)}),e},gW=t=>{const[e,n]=t.split("-").map(Number);return new Date(e,n-1,1).toLocaleDateString("de-DE",{month:"long",year:"numeric"})},vW=()=>{const{id:t}=AI(),e=jn(),{toast:n}=d0(),{currentUser:r}=_s(),[s,i]=f.useState(null),[o,a]=f.useState(!1),[c,d]=f.useState(!1),[h,p]=f.useState(null),[m,y]=f.useState(!0),[_,v]=f.useState(!1),[E,x]=f.useState([]),[w,T]=f.useState([]),[N,j]=f.useState(""),L=async()=>{y(!0);const I=await ey("properties",t),z=await Nn("jobs");p(I),x(z.filter($=>$.propertyId===t).map(pW)),y(!1)};f.useEffect(()=>{t&&L()},[t]),f.useEffect(()=>{(async()=>{if(!(r!=null&&r.email))return;const $=(await Nn("employees")).find(W=>W.email===r.email);i(($==null?void 0:$.role)||null)})()},[r]);const C=async()=>{h&&(await fi("properties",h.id,{...h,updatedAt:new Date}),n({title:"Änderungen gespeichert",description:"Die Änderungen wurden erfolgreich gespeichert."}),d(!1),L())},S=async()=>{h&&(await El("properties",h.id),n({title:"Liegenschaft gelöscht",description:"Die Liegenschaft wurde erfolgreich gelöscht."}),e("/properties"))},P=async I=>{T(z=>z.includes(I)?z.filter($=>$!==I):[...z,I])},A=async()=>{try{const z=E.filter(W=>W.jobType==="abfallkalender_view").filter(W=>{let Y=W.wasteType;if(!Y||Y==="other"){for(const[M,k]of Object.entries(Yo))if(k.test(W.title.toLowerCase())){Y=M;break}}return Y&&w.includes(Y)});let $=0;for(const W of z){if(!W.dueDate)continue;let Y=Bo.find(k=>k.key===W.wasteType);if(!Y){for(const[k,U]of Object.entries(Yo))if(U.test(W.title.toLowerCase())){Y=Bo.find(H=>H.key===k);break}}const M={propertyId:h.id,title:`Abfall: ${(Y==null?void 0:Y.label)||W.title}`,description:`Abfuhrtermin für ${(Y==null?void 0:Y.label)||W.title} am ${new Date(W.dueDate).toLocaleDateString()}`,status:"open",createdAt:new Date,updatedAt:new Date,dueDate:new Date(W.dueDate),jobType:"waste_collection"};await _o("jobs",M),$++}n({title:"Aufträge erstellt",description:`${$} Aufträge wurden erfolgreich erstellt.`}),L()}catch(I){console.error("Fehler beim Erstellen der Aufträge:",I),n({title:"Fehler",description:"Die Aufträge konnten nicht erstellt werden.",variant:"destructive"})}},D=async I=>{var $,W;const z=($=I.target.files)==null?void 0:$[0];if(!(!z||!h)){v(!0);try{const Y=await z.text();console.log("ICS Dateilänge:",Y.length,"Zeichen");const M=Y.split("BEGIN:VEVENT").slice(1).map(Z=>{const J=Z.indexOf("END:VEVENT");return J!==-1?Z.substring(0,J):Z});console.log(`Gefundene Events: ${M.length}`);let k=0,U=0,H=0,F=0;const G=[],se=new Set(E.filter(Z=>Z.jobType==="abfallkalender_view").map(Z=>Z.dueDate?Z.dueDate.toISOString().split("T")[0]:null).filter(Boolean));for(let Z=0;Z<M.length;Z++){const J=M[Z];F++;try{const de=J.match(/SUMMARY:(.*?)(\r?\n|$)/);if(!de||!de[1]){console.log(`Event Nr. ${Z+1}: Kein Summary gefunden`),U++;continue}const ve=de[1].replace(/\\,/g,",").trim(),pe=J.match(/DTSTART:(\d{8})/);if(!pe||!pe[1]){console.log(`Event Nr. ${Z+1}: Kein DTSTART gefunden`),U++;continue}const be=pe[1],Ce=parseInt(be.slice(0,4),10),ot=parseInt(be.slice(4,6),10)-1,ht=parseInt(be.slice(6,8),10),Tt=new Date(Ce,ot,ht);if(isNaN(Tt.getTime())){console.log(`Event Nr. ${Z+1}: Ungültiges Datum: ${be}`),U++;continue}const wt=Tt.toISOString().split("T")[0];if(se.has(wt)){console.log(`Event Nr. ${Z+1}: Duplikat für dieses Datum`),H++;continue}let Yt=null;const Fi=ve.toLowerCase();for(const Xt of Object.keys(Yo))if(Yo[Xt].test(Fi)){Yt=Xt;break}const Ze={propertyId:h.id,title:ve,description:`Abfuhrtermin für ${Yt?((W=Bo.find(Xt=>Xt.key===Yt))==null?void 0:W.label)||Yt:ve} am ${Tt.toLocaleDateString()}`,status:"open",createdAt:new Date,updatedAt:new Date,dueDate:Tt,jobType:"abfallkalender_view",wasteType:Yt,isCalendarEntryOnly:!0};G.push(Ze),k++,se.add(wt)}catch(de){console.error(`Fehler bei Event ${Z+1}:`,de),U++}}for(const Z of G)await _o("jobs",Z);console.log("Zusammenfassung:"),console.log(`- Verarbeitet: ${F} von ${M.length}`),console.log(`- Importiert: ${k}`),console.log(`- Übersprungen: ${U}`),console.log(`- Bereits vorhanden: ${H}`);const te=`${k} Termine importiert, ${U} übersprungen${H>0?`, ${H} bereits vorhanden`:""}`;n({title:"Abfallkalender importiert",description:te+". Bitte auswählen, welche Termine übernommen werden sollen."}),L()}catch(Y){console.error("Fehler beim ICS-Import:",Y),n({title:"Fehler beim Import",description:"Die Datei konnte nicht verarbeitet werden. Bitte überprüfen Sie das Format.",variant:"destructive"})}finally{v(!1),I.target&&(I.target.value="")}}},O=async I=>{if(I.preventDefault(),!h||!r)return;const z={id:`note-${Date.now()}`,text:N,createdAt:new Date,user:r.email||"Unbekannt"},$=[...h.notes||[],z];await fi("properties",h.id,{notes:$,updatedAt:new Date}),p({...h,notes:$}),j("")};return m?l.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Lade Daten..."}):h?l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:o,onClose:()=>a(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Liegenschaftsdetails",toggleSidebar:()=>a(!o)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsxs("div",{className:"mb-6 flex items-center",children:[l.jsxs(le,{variant:"ghost",className:"mr-4",onClick:()=>e("/properties"),children:[l.jsx(dv,{className:"h-4 w-4 mr-2"}),"Zurück"]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:h.name}),l.jsxs("p",{className:"text-gray-500",children:[h.address,", ",h.postalCode," ",h.city]})]}),l.jsx("div",{className:"flex gap-2",children:c?l.jsxs(le,{onClick:C,children:[l.jsx(NC,{className:"h-4 w-4 mr-2"}),"Speichern"]}):l.jsxs(l.Fragment,{children:[l.jsxs(le,{variant:"outline",onClick:()=>d(!0),children:[l.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Bearbeiten"]}),l.jsxs(le,{variant:"destructive",onClick:S,children:[l.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Löschen"]})]})})]}),l.jsxs(gk,{defaultValue:"details",children:[l.jsxs(zw,{className:"mb-6",children:[l.jsx(Ji,{value:"details",children:"Details"}),l.jsxs(Ji,{value:"jobs",children:["Aufträge (",E.length,")"]}),l.jsx(Ji,{value:"abfall",children:"Abfall"}),l.jsx(Ji,{value:"notizen",children:"Notizen"})]}),l.jsxs(Zi,{value:"details",className:"space-y-6",children:[l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsxs(Ht,{className:"flex items-center text-lg",children:[l.jsx(xu,{className:"h-5 w-5 mr-2"}),"Liegenschaftsdaten"]})}),l.jsx(Ge,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:c?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"name",children:"Name"}),l.jsx(_e,{id:"name",value:h.name,onChange:I=>p({...h,name:I.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"type",children:"Typ"}),l.jsx(_e,{id:"type",value:h.type,onChange:I=>p({...h,type:I.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"address",children:"Adresse"}),l.jsx(_e,{id:"address",value:h.address,onChange:I=>p({...h,address:I.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"postalCode",children:"PLZ"}),l.jsx(_e,{id:"postalCode",value:h.postalCode,onChange:I=>p({...h,postalCode:I.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"city",children:"Stadt"}),l.jsx(_e,{id:"city",value:h.city,onChange:I=>p({...h,city:I.target.value})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"size",children:"Größe (m²)"}),l.jsx(_e,{id:"size",type:"number",value:h.size,onChange:I=>p({...h,size:Number(I.target.value)})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(ce,{children:"Name"}),l.jsx("p",{className:"mt-1",children:h.name})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"Typ"}),l.jsx("p",{className:"mt-1",children:h.type})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"Adresse"}),l.jsx("p",{className:"mt-1",children:h.address})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx(ce,{children:"PLZ"}),l.jsx("p",{className:"mt-1",children:h.postalCode})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"Stadt"}),l.jsx("p",{className:"mt-1",children:h.city})]})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"Größe"}),l.jsxs("p",{className:"mt-1",children:[h.size," m²"]})]})]})})]}),l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsx(Ht,{className:"text-lg",children:"Kontaktdaten"})}),l.jsx(Ge,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:c?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"owner",children:"Eigentümer"}),l.jsx(_e,{id:"owner",value:h.owner,onChange:I=>p({...h,owner:I.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"contactPhone",children:"Telefon"}),l.jsx(_e,{id:"contactPhone",value:h.contactPhone,onChange:I=>p({...h,contactPhone:I.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"contactEmail",children:"E-Mail"}),l.jsx(_e,{id:"contactEmail",value:h.contactEmail,onChange:I=>p({...h,contactEmail:I.target.value})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(ce,{children:"Eigentümer"}),l.jsx("p",{className:"mt-1",children:h.owner||"-"})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"Telefon"}),l.jsx("p",{className:"mt-1",children:h.contactPhone||"-"})]}),l.jsxs("div",{children:[l.jsx(ce,{children:"E-Mail"}),l.jsx("p",{className:"mt-1",children:h.contactEmail||"-"})]})]})})]}),l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsx(Ht,{className:"text-lg",children:"Notizen"})}),l.jsx(Ge,{children:c?l.jsx(Ca,{value:h.notes,onChange:I=>p({...h,notes:I.target.value}),rows:5,placeholder:"Notizen zur Liegenschaft hinzufügen..."}):l.jsx("p",{className:"text-gray-700",children:h.notes||"Keine Notizen vorhanden."})})]})]}),l.jsxs(Zi,{value:"jobs",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Aufträge für diese Liegenschaft"}),l.jsxs(le,{onClick:()=>e(`/jobs/new?propertyId=${t}`),children:[l.jsx(fo,{className:"h-4 w-4 mr-2"}),"Auftrag erstellen"]})]}),E.length===0?l.jsx(st,{children:l.jsxs(Ge,{className:"py-6 text-center",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"Es sind noch keine Aufträge für diese Liegenschaft vorhanden."}),l.jsxs(le,{onClick:()=>e(`/jobs/new?propertyId=${t}`),children:[l.jsx(fo,{className:"h-4 w-4 mr-2"}),"Auftrag erstellen"]})]})}):l.jsx(st,{children:l.jsx(Ge,{className:"p-0",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:E.map(I=>l.jsx("li",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>e(`/jobs/${I.id}`),children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:I.title}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[I.description.substring(0,100),I.description.length>100?"...":""]}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[l.jsx(zh,{className:"h-3 w-3 mr-1"}),"Erstellt am ",new Date(I.createdAt).toLocaleDateString()]})]}),l.jsx(mo,{status:I.status})]})},I.id))})})})]}),l.jsxs(Zi,{value:"abfall",className:"space-y-6",children:[l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsx(Ht,{className:"text-lg",children:"Abfallkalender"})}),l.jsx(Ge,{children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-2 text-blue-800 text-sm",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Info:"}),' Hier werden alle importierten Abfalltermine angezeigt. Mit den Filtern können Sie auswählen, welche Abfallarten Sie in Aufträge übernehmen möchten. Importierte Termine werden erst dann als Aufträge angelegt, wenn Sie auf "Als Aufträge übernehmen" klicken.']})}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Abfallarten filtern:"}),l.jsxs(le,{onClick:A,disabled:w.length===0||E.filter(I=>{if(I.jobType!=="abfallkalender_view")return!1;let z=I.wasteType;if(!z){for(const[$,W]of Object.entries(Yo))if(W.test(I.title.toLowerCase())){z=$;break}}return z&&w.includes(z)}).length===0,size:"sm",children:[l.jsx(oo,{className:"h-4 w-4 mr-2"}),"Als Aufträge übernehmen"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Bo.map(I=>l.jsxs("button",{type:"button",className:`flex items-center px-2 py-1 rounded-full text-sm font-medium border ${w.includes(I.key)?I.color+" text-white":"bg-gray-200 text-gray-500"} transition`,onClick:()=>P(I.key),children:[l.jsx("span",{className:"inline-block w-6 h-6 rounded-full mr-1 flex items-center justify-center font-bold",style:{background:w.includes(I.key)?"":"#e5e7eb"},children:I.short}),I.label]},I.key))})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border px-3 py-2 text-left",children:"Monat"}),Bo.map(I=>l.jsx("th",{className:"border px-3 py-2",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:`w-4 h-4 rounded-full ${I.color}`}),l.jsx("span",{className:"text-xs font-medium mt-1",children:I.label})]})},I.key))]})}),l.jsx("tbody",{children:Object.entries(mW(E)).sort(([I],[z])=>I.localeCompare(z)).map(([I,z])=>Object.keys(z).length>0?l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"border px-3 py-2 font-medium",children:gW(I)}),Bo.map(W=>{var Y,M;return l.jsx("td",{className:"border px-3 py-2 text-center",children:(Y=z[W.key])!=null&&Y.length?l.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:(M=z[W.key])==null?void 0:M.sort((k,U)=>k-U).map(k=>l.jsx("span",{className:`inline-block text-xs px-1.5 py-0.5 rounded ${w.includes(W.key)?"bg-green-50":""}`,children:k},k))}):l.jsx("span",{className:"text-gray-300",children:"-"})},W.key)})]},I):null)})]})}),E.filter(I=>I.jobType==="abfallkalender_view").length===0&&l.jsx("div",{className:"text-center text-gray-500 py-4",children:l.jsx("p",{children:"Noch keine Abfalltermine vorhanden. Laden Sie einen Abfallkalender hoch."})})]})})]}),l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsx(Ht,{className:"text-lg",children:"Abfallkalender (.ics) hochladen"})}),l.jsx(Ge,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(_e,{type:"file",accept:".ics",onChange:D,disabled:_}),_&&l.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verarbeite ICS-Datei..."]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Lade eine .ics-Datei hoch, um Abfalltermine zu importieren. Die Termine werden nur importiert und können später als Aufträge übernommen werden."})]})})]})]}),l.jsx(Zi,{value:"notizen",className:"space-y-6",children:l.jsxs(st,{children:[l.jsx(Wt,{className:"pb-2",children:l.jsx(Ht,{className:"text-lg",children:"Notizen zur Liegenschaft"})}),l.jsxs(Ge,{children:[r&&l.jsxs("form",{className:"mb-6 flex flex-col gap-2",onSubmit:O,children:[l.jsx(Ca,{value:N,onChange:I=>j(I.target.value),rows:3,placeholder:"Notiz hinzufügen...",required:!0,autoFocus:!0}),l.jsx(le,{type:"submit",className:"self-end",children:"Notiz speichern"})]}),h!=null&&h.notes&&h.notes.length>0?l.jsx("ul",{className:"space-y-4",children:h.notes.slice().reverse().map((I,z)=>l.jsxs("li",{className:"border-b pb-2",children:[l.jsx("div",{className:"text-sm text-gray-700",children:I.text}),l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[I.user," – ",new Date(I.createdAt).toLocaleString()]})]},I.id||z))}):l.jsx("div",{className:"text-gray-400",children:"Noch keine Notizen vorhanden."})]})]})})]})]})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Liegenschaft nicht gefunden"}),l.jsx("p",{className:"mb-4 text-gray-500",children:"Die gesuchte Liegenschaft konnte nicht gefunden werden."}),l.jsx(le,{onClick:()=>e("/properties"),children:"Zurück zur Übersicht"})]})})},yW=[{id:"prop-1",name:"Wohnkomplex Seeblick",address:"Seestraße 123",city:"Berlin",postalCode:"10115",type:"Wohnkomplex",size:2500,owner:"Immobilien GmbH",contactPhone:"+49 30 12345678",contactEmail:"kontakt@immobilien-gmbh.de",notes:"Wohnkomplex mit 25 Wohneinheiten, Baujahr 2010.",createdAt:new Date("2023-01-15"),updatedAt:new Date("2023-05-20")},{id:"prop-2",name:"Bürogebäude Zentrum",address:"Hauptplatz 42",city:"München",postalCode:"80331",type:"Bürogebäude",size:1800,owner:"Business Properties AG",contactPhone:"+49 89 98765432",contactEmail:"info@business-properties.de",notes:"Modernes Bürogebäude mit 6 Etagen und Tiefgarage.",createdAt:new Date("2023-02-08"),updatedAt:new Date("2023-06-14")},{id:"prop-3",name:"Appartementkomplex Stadtpark",address:"Parkstraße 78",city:"Hamburg",postalCode:"20095",type:"Wohnkomplex",size:3200,owner:"Norddeutsche Wohnbau KG",contactPhone:"+49 40 44556677",contactEmail:"kontakt@nordwohnbau.de",notes:"Komplex mit 42 Appartements, Baujahr 2015, mit Gemeinschaftsgarten.",createdAt:new Date("2023-03-22"),updatedAt:new Date("2023-07-01")},{id:"prop-4",name:"Einkaufszentrum Ost",address:"Ostweg 100",city:"Dresden",postalCode:"01067",type:"Einkaufszentrum",size:5e3,owner:"Retail Invest Dresden GmbH",contactPhone:"+49 351 11223344",contactEmail:"info@retail-dresden.de",notes:"Einkaufszentrum mit 35 Geschäften, Foodcourt und Kino.",createdAt:new Date("2023-04-05"),updatedAt:new Date("2023-08-12")},{id:"prop-5",name:"Lagerhalle West",address:"Industriestr. 200",city:"Köln",postalCode:"50667",type:"Industriegebäude",size:4200,owner:"Logistik & Lager GmbH",contactPhone:"+49 221 55667788",contactEmail:"kontakt@logistik-lager.de",notes:"Moderne Lagerhalle mit automatisierten Systemen, Baujahr 2018.",createdAt:new Date("2023-05-17"),updatedAt:new Date("2023-09-03")}],wW=[{id:"job-1",propertyId:"property-1",title:"Heizungsreparatur in Wohnung 12",description:"Die Heizung in Wohnung 12 funktioniert nicht richtig. Der Mieter berichtet, dass sie nicht über 18 Grad erhitzt.",status:"open",createdAt:new Date("2023-06-15"),updatedAt:new Date("2023-06-15"),createdBy:"max.mustermann@example.com",priority:"high"},{id:"job-2",propertyId:"property-2",title:"Jährliche Inspektion der Brandmelder",description:"Routinemäßige Inspektion aller Brandmelder im Gebäude durchführen.",status:"in-progress",createdAt:new Date("2023-06-10"),updatedAt:new Date("2023-06-17"),createdBy:"thomas.weber@example.com",assignedTo:"thomas.weber@example.com",dueDate:new Date("2023-07-10")},{id:"job-3",propertyId:"property-1",title:"Graffiti an der Außenwand entfernen",description:"Graffiti an der Nordseite des Gebäudes entfernen und die Wand neu streichen.",status:"closed",createdAt:new Date("2023-05-20"),updatedAt:new Date("2023-06-05"),createdBy:"anna.schmidt@example.com",completedAt:new Date("2023-06-05")},{id:"job-4",propertyId:"property-3",title:"Wasserrohrbruch in der Tiefgarage",description:"Wasserrohrbruch in der Tiefgarage neben Stellplatz 15. Der Bereich ist bereits abgesperrt.",status:"open",createdAt:new Date("2023-06-18"),updatedAt:new Date("2023-06-18"),createdBy:"max.mustermann@example.com",priority:"high"},{id:"job-5",propertyId:"property-4",title:"Neuer Schließanlage installieren",description:"Installation einer neuen Schließanlage für das gesamte Gebäude nach mehreren verlorenen Schlüsseln.",status:"canceled",createdAt:new Date("2023-05-05"),updatedAt:new Date("2023-05-12"),createdBy:"julia.becker@example.com",notes:"Storniert aufgrund von Budgetkürzungen."},{id:"job-6",propertyId:"prop-1",title:"Erneuerung der Gartenbepflanzung",description:"Die Grünanlagen rund um den Wohnkomplex sollen neu bepflanzt werden.",status:"new",priority:"low",createdAt:new Date("2023-10-09"),dueDate:new Date("2023-11-30"),notes:"Planung für das Frühjahr 2024."},{id:"job-7",propertyId:"prop-2",title:"Modernisierung der Aufzüge",description:"Die Aufzugsanlage im Bürogebäude soll modernisiert werden, um Energieeffizienz zu verbessern.",status:"canceled",priority:"medium",createdAt:new Date("2023-08-15"),dueDate:new Date("2023-12-01"),assignedTo:"Lift & Aufzug GmbH",notes:"Projekt wurde aus Budgetgründen auf nächstes Jahr verschoben."}],Bw=[{id:"employee-1",firstName:"Max",lastName:"Mustermann",email:"max.mustermann@example.com",phone:"+49 123 4567890",position:"Hausmeister",role:"admin",assignedProperties:["property-1","property-2"],isActive:!0,createdAt:new Date("2023-01-15"),updatedAt:new Date("2023-06-20")},{id:"employee-2",firstName:"Anna",lastName:"Schmidt",email:"anna.schmidt@example.com",phone:"+49 234 5678901",position:"Reinigungskraft",role:"mitarbeiter",assignedProperties:["property-3"],isActive:!0,createdAt:new Date("2023-02-10"),updatedAt:new Date("2023-05-15")},{id:"employee-3",firstName:"Thomas",lastName:"Weber",email:"thomas.weber@example.com",phone:"+49 345 6789012",position:"Techniker",role:"mitarbeiter",assignedProperties:["property-1","property-4"],isActive:!0,createdAt:new Date("2023-03-05"),updatedAt:new Date("2023-07-01")},{id:"employee-4",firstName:"Julia",lastName:"Becker",email:"julia.becker@example.com",phone:"+49 456 7890123",position:"Bürokraft",role:"mitarbeiter",assignedProperties:[],isActive:!1,createdAt:new Date("2023-01-20"),updatedAt:new Date("2023-04-30")}];function Pt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xW(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Fd=43200,y1=1440;let _W={};function EW(){return _W}function w1(t){const e=Pt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ph(t,e){const n=Pt(t),r=Pt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function bW(t){return xW(t,Date.now())}function TW(t,e){const n=Pt(t),r=Pt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function SW(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function CW(t,e){return+Pt(t)-+Pt(e)}function IW(t){const e=Pt(t);return e.setHours(23,59,59,999),e}function AW(t){const e=Pt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function PW(t){const e=Pt(t);return+IW(e)==+AW(e)}function NW(t,e){const n=Pt(t),r=Pt(e),s=ph(n,r),i=Math.abs(TW(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=ph(n,r)===-s;PW(Pt(t))&&i===1&&ph(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function RW(t,e,n){const r=CW(t,e)/1e3;return SW(n==null?void 0:n.roundingMethod)(r)}const kW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DW=(t,e,n)=>{let r;const s=kW[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ia(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const jW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LW={date:Ia({formats:jW,defaultWidth:"full"}),time:Ia({formats:MW,defaultWidth:"full"}),dateTime:Ia({formats:OW,defaultWidth:"full"})},FW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VW=(t,e,n,r)=>FW[t];function br(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const $W={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qW={ordinalNumber:KW,era:br({values:$W,defaultWidth:"wide"}),quarter:br({values:UW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:br({values:zW,defaultWidth:"wide"}),day:br({values:BW,defaultWidth:"wide"}),dayPeriod:br({values:WW,defaultWidth:"wide",formattingValues:HW,defaultFormattingWidth:"wide"})};function Tr(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?QW(a,p=>p.test(o)):GW(a,p=>p.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function GW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function QW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vk(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const YW=/^(\d+)(th|st|nd|rd)?/i,XW=/\d+/i,JW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZW={any:[/^b/i,/^(a|c)/i]},eH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tH={any:[/1/i,/2/i,/3/i,/4/i]},nH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lH={ordinalNumber:vk({matchPattern:YW,parsePattern:XW,valueCallback:t=>parseInt(t,10)}),era:Tr({matchPatterns:JW,defaultMatchWidth:"wide",parsePatterns:ZW,defaultParseWidth:"any"}),quarter:Tr({matchPatterns:eH,defaultMatchWidth:"wide",parsePatterns:tH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tr({matchPatterns:nH,defaultMatchWidth:"wide",parsePatterns:rH,defaultParseWidth:"any"}),day:Tr({matchPatterns:sH,defaultMatchWidth:"wide",parsePatterns:iH,defaultParseWidth:"any"}),dayPeriod:Tr({matchPatterns:oH,defaultMatchWidth:"any",parsePatterns:aH,defaultParseWidth:"any"})},cH={code:"en-US",formatDistance:DW,formatLong:LW,formatRelative:VW,localize:qW,match:lH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uH(t,e,n){const r=EW(),s=(n==null?void 0:n.locale)??r.locale??cH,i=2520,o=ph(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Pt(e),d=Pt(t)):(c=Pt(t),d=Pt(e));const h=RW(d,c),p=(w1(d)-w1(c))/1e3,m=Math.round((h-p)/60);let y;if(m<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,a):h<10?s.formatDistance("lessThanXSeconds",10,a):h<20?s.formatDistance("lessThanXSeconds",20,a):h<40?s.formatDistance("halfAMinute",0,a):h<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<y1){const _=Math.round(m/60);return s.formatDistance("aboutXHours",_,a)}else{if(m<i)return s.formatDistance("xDays",1,a);if(m<Fd){const _=Math.round(m/y1);return s.formatDistance("xDays",_,a)}else if(m<Fd*2)return y=Math.round(m/Fd),s.formatDistance("aboutXMonths",y,a)}if(y=NW(d,c),y<12){const _=Math.round(m/Fd);return s.formatDistance("xMonths",_,a)}else{const _=y%12,v=Math.trunc(y/12);return _<3?s.formatDistance("aboutXYears",v,a):_<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function dH(t,e){return uH(t,bW(t),e)}const x1={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},hH=(t,e,n)=>{let r;const s=n!=null&&n.addSuffix?x1[t].withPreposition:x1[t].standalone;return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},fH={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},pH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mH={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},gH={date:Ia({formats:fH,defaultWidth:"full"}),time:Ia({formats:pH,defaultWidth:"full"}),dateTime:Ia({formats:mH,defaultWidth:"full"})},vH={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},yH=(t,e,n,r)=>vH[t],wH={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},xH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},ty={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},_H={narrow:ty.narrow,abbreviated:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:ty.wide},EH={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},bH={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},TH={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},SH=t=>Number(t)+".",CH={ordinalNumber:SH,era:br({values:wH,defaultWidth:"wide"}),quarter:br({values:xH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:br({values:ty,formattingValues:_H,defaultWidth:"wide"}),day:br({values:EH,defaultWidth:"wide"}),dayPeriod:br({values:bH,defaultWidth:"wide",formattingValues:TH,defaultFormattingWidth:"wide"})},IH=/^(\d+)(\.)?/i,AH=/\d+/i,PH={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},NH={any:[/^v/i,/^n/i]},RH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},kH={any:[/1/i,/2/i,/3/i,/4/i]},DH={narrow:/^[jfmasond]/i,abbreviated:/^(j[aä]n|feb|mär[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|märz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},jH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[aä]/i,/^f/i,/^mär/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MH={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},OH={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},LH={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},FH={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},VH={ordinalNumber:vk({matchPattern:IH,parsePattern:AH,valueCallback:t=>parseInt(t)}),era:Tr({matchPatterns:PH,defaultMatchWidth:"wide",parsePatterns:NH,defaultParseWidth:"any"}),quarter:Tr({matchPatterns:RH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tr({matchPatterns:DH,defaultMatchWidth:"wide",parsePatterns:jH,defaultParseWidth:"any"}),day:Tr({matchPatterns:MH,defaultMatchWidth:"wide",parsePatterns:OH,defaultParseWidth:"any"}),dayPeriod:Tr({matchPatterns:LH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"})},$H={code:"de",formatDistance:hH,formatLong:gH,formatRelative:yH,localize:CH,match:VH,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Ww="Popover",[yk,QG]=dr(Ww,[Ni]),Vu=Ni(),[UH,Mi]=yk(Ww),wk=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Vu(e),c=f.useRef(null),[d,h]=f.useState(!1),[p=!1,m]=Dr({prop:r,defaultProp:s,onChange:i});return l.jsx(S0,{...a,children:l.jsx(UH,{scope:e,contentId:Un(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>h(!0),[]),onCustomAnchorRemove:f.useCallback(()=>h(!1),[]),modal:o,children:n})})};wk.displayName=Ww;var xk="PopoverAnchor",zH=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mi(xk,n),i=Vu(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return f.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(Eu,{...i,...r,ref:e})});zH.displayName=xk;var _k="PopoverTrigger",Ek=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mi(_k,n),i=Vu(n),o=Ne(e,s.triggerRef),a=l.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ik(s.open),...r,ref:o,onClick:ee(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Eu,{asChild:!0,...i,children:a})});Ek.displayName=_k;var Hw="PopoverPortal",[BH,WH]=yk(Hw,{forceMount:void 0}),bk=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Mi(Hw,e);return l.jsx(BH,{scope:e,forceMount:n,children:l.jsx(ln,{present:n||i.open,children:l.jsx(al,{asChild:!0,container:s,children:r})})})};bk.displayName=Hw;var rl="PopoverContent",Tk=f.forwardRef((t,e)=>{const n=WH(rl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Mi(rl,t.__scopePopover);return l.jsx(ln,{present:r||i.open,children:i.modal?l.jsx(HH,{...s,ref:e}):l.jsx(KH,{...s,ref:e})})});Tk.displayName=rl;var HH=f.forwardRef((t,e)=>{const n=Mi(rl,t.__scopePopover),r=f.useRef(null),s=Ne(e,r),i=f.useRef(!1);return f.useEffect(()=>{const o=r.current;if(o)return Mu(o)},[]),l.jsx(Ou,{as:ss,allowPinchZoom:!0,children:l.jsx(Sk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,d=a.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),KH=f.forwardRef((t,e)=>{const n=Mi(rl,t.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(Sk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Sk=f.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...p}=t,m=Mi(rl,n),y=Vu(n);return Rp(),l.jsx(ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Po,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Yf,{"data-state":Ik(m.open),role:"dialog",id:m.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ck="PopoverClose",qH=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Mi(Ck,n);return l.jsx(he.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});qH.displayName=Ck;var GH="PopoverArrow",QH=f.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Vu(n);return l.jsx(Xf,{...s,...r,ref:e})});QH.displayName=GH;function Ik(t){return t?"open":"closed"}var YH=wk,XH=Ek,JH=bk,Ak=Tk;const Pk=YH,Nk=XH,Kw=f.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>l.jsx(JH,{children:l.jsx(Ak,{ref:s,align:e,sideOffset:n,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kw.displayName=Ak.displayName;const ZH=()=>{const[t,e]=f.useState(!1),[n,r]=f.useState(""),[s,i]=f.useState([]),[o,a]=f.useState(!1),[c,d]=f.useState([]),[h,p]=f.useState([]),[m,y]=f.useState(!0),[_,v]=f.useState({title:"",description:"",propertyId:"",status:"open",dueDate:""}),E=jn(),{currentUser:x}=_s(),[w,T]=f.useState([]),[N,j]=f.useState(null),[L,C]=f.useState(null),[S,P]=f.useState(!1);f.useEffect(()=>{if(x!=null&&x.email){const M=Bw.find(k=>k.email===x.email);T(M?M.assignedProperties:[])}},[x]);function A(M){if(!M)return;const k=M.toDate?M.toDate():new Date(M);return isNaN(k.getTime())?void 0:k}function D(M){return{...M,createdAt:A(M.createdAt),updatedAt:A(M.updatedAt),dueDate:A(M.dueDate),completedAt:A(M.completedAt)}}const O=async()=>{y(!0);const M=await Nn("jobs"),k=await Nn("properties");d(M.map(D)),p(k),y(!1)};f.useEffect(()=>{O()},[]);const z=[...c.filter(M=>!(s.length===0||s.includes(M.status))||!(!n||M.title.toLowerCase().includes(n.toLowerCase())||M.description.toLowerCase().includes(n.toLowerCase()))?!1:w.length>0?w.includes(M.propertyId):!0)].sort((M,k)=>{const U={open:0,"in-progress":1,closed:2,canceled:3};return U[M.status]!==U[k.status]?U[M.status]-U[k.status]:new Date(k.createdAt).getTime()-new Date(M.createdAt).getTime()}),$=async M=>{M.preventDefault();const k=new Date,U={..._,dueDate:_.dueDate?new Date(_.dueDate):void 0,createdAt:k,updatedAt:k,createdBy:(x==null?void 0:x.email)||"unknown"};await _o("jobs",U),a(!1),v({title:"",description:"",propertyId:"",status:"open",dueDate:""}),O()},W=async(M,k)=>{if(M.status===k)return;const U=new Date,H=(x==null?void 0:x.email)||"Unbekannt",F=Er[M.status]||M.status,G=Er[k]||k,se=`Status von "${F}" auf "${G}" geändert von ${H} am ${U.toLocaleDateString()} um ${U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,te=[{id:`note-${Date.now()}`,text:se,createdAt:U,user:H},...Array.isArray(M.notes)?M.notes:[]];await fi("jobs",M.id,{status:k,notes:te,updatedAt:U}),j(null),O()},Y=async()=>{L&&(await El("jobs",L.id),C(null),O())};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Aufträge",toggleSidebar:()=>e(!t)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between gap-3",children:[l.jsx("div",{className:"flex flex-1 max-w-md items-center gap-3",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx(_e,{placeholder:"Nach Aufträgen suchen...",value:n,onChange:M=>r(M.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Pk,{open:S,onOpenChange:P,children:[l.jsx(Nk,{asChild:!0,children:l.jsx("button",{className:"h-12 min-w-[160px] rounded-lg border border-border bg-secondary text-sidebar-foreground text-base px-6 shadow-none focus:ring-2 focus:ring-sidebar-ring focus:outline-none flex items-center",children:s.length===0||s.length===4?"Alle Status":s.map(M=>Er[M]).join(", ")})}),l.jsx(Kw,{className:"rounded-lg border border-border bg-secondary text-sidebar-foreground min-w-[180px] p-0",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("label",{className:"flex items-center px-4 py-2 cursor-pointer hover:bg-muted",children:[l.jsx("input",{type:"checkbox",checked:s.length===4,onChange:M=>{M.target.checked?i(["open","in-progress","closed","canceled"]):i([])},className:"mr-2 accent-blue-600"}),"Alle"]}),l.jsx("div",{className:"border-t my-1 border-border"}),["open","in-progress","closed","canceled"].map(M=>l.jsxs("label",{className:"flex items-center px-4 py-2 cursor-pointer hover:bg-muted",children:[l.jsx("input",{type:"checkbox",checked:s.includes(M),onChange:k=>{i(U=>{if(k.target.checked){const H=[...U,M];return Array.from(new Set(H))}else return U.filter(H=>H!==M)})},className:"mr-2 accent-blue-600"}),Er[M]]},M))]})})]}),l.jsxs(le,{className:"h-12 px-6 text-base rounded-lg",onClick:()=>a(!0),children:[l.jsx(fo,{className:"mr-2 h-4 w-4"}),"Neuer Auftrag"]})]})]}),m?l.jsx("div",{className:"text-center py-12 text-gray-500",children:"Lade Aufträge..."}):z.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"Keine Aufträge gefunden."}),l.jsxs(le,{onClick:()=>a(!0),children:[l.jsx(fo,{className:"mr-2 h-4 w-4"}),"Neuer Auftrag"]})]}):l.jsx("div",{className:"grid grid-cols-1 gap-4",children:z.map(M=>l.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow group",children:l.jsxs("div",{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>E(`/jobs/${M.id}`),children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[l.jsx("h3",{className:"font-medium",children:M.title}),l.jsx(mo,{status:M.status})]}),l.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:M.description}),l.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-1 mt-2 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(zh,{size:14,className:"mr-1"}),dH(new Date(M.createdAt),{addSuffix:!0,locale:$H})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(zh,{size:14,className:"mr-1"}),M.dueDate?`Fällig am ${new Date(M.dueDate).toLocaleDateString()}`:"Kein Fälligkeitsdatum"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-2 relative",children:[l.jsx("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-500 hover:text-blue-600 transition",title:"Bearbeiten",onClick:k=>{k.stopPropagation(),E(`/jobs/${M.id}?edit=1`)},children:l.jsx(Hc,{size:18})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-500 hover:text-yellow-600 transition",title:"Status ändern",onClick:k=>{k.stopPropagation(),j(N===M.id?null:M.id)},children:l.jsx(JO,{size:18})}),N===M.id&&l.jsx("div",{className:"absolute right-0 z-50 mt-2 w-44 bg-white border rounded-lg shadow-lg p-2 flex flex-col",children:["open","in-progress","closed","canceled"].map(k=>l.jsx("button",{className:`text-left px-3 py-2 rounded hover:bg-gray-100 ${M.status===k?"font-bold text-blue-600":""}`,onClick:U=>{U.stopPropagation(),W(M,k)},children:Er[k]},k))})]}),l.jsx("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-500 hover:text-red-600 transition",title:"Löschen",onClick:k=>{k.stopPropagation(),C(M)},children:l.jsx(Kc,{size:18})})]})]})},M.id))})]})]}),l.jsx(tr,{open:o,onOpenChange:a,children:l.jsxs(Vn,{children:[l.jsx(nr,{children:l.jsx(rr,{children:"Neuen Auftrag erstellen"})}),l.jsxs("form",{onSubmit:$,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"title",children:"Titel"}),l.jsx(_e,{id:"title",value:_.title,onChange:M=>v({..._,title:M.target.value}),placeholder:"Auftragstitel",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"description",children:"Beschreibung"}),l.jsx("textarea",{id:"description",value:_.description,onChange:M=>v({..._,description:M.target.value}),placeholder:"Detaillierte Beschreibung des Auftrags",className:"w-full min-h-[100px] p-2 border rounded-md",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"propertyId",children:"Liegenschaft"}),l.jsxs("select",{id:"propertyId",value:_.propertyId,onChange:M=>v({..._,propertyId:M.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Liegenschaft auswählen"}),h.map(M=>l.jsxs("option",{value:M.id,children:[M.name," - ",M.address]},M.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"dueDate",children:"Fälligkeitsdatum"}),l.jsx(_e,{id:"dueDate",type:"date",value:_.dueDate||"",onChange:M=>v({..._,dueDate:M.target.value}),required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Erstellen"})]})]})]})}),l.jsx(tr,{open:!!L,onOpenChange:M=>!M&&C(null),children:l.jsxs(Vn,{children:[l.jsx(nr,{children:l.jsx(rr,{children:"Auftrag löschen"})}),l.jsx("div",{className:"mb-4",children:"Möchten Sie diesen Auftrag wirklich löschen?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{variant:"outline",onClick:()=>C(null),children:"Abbrechen"}),l.jsx(le,{variant:"destructive",onClick:Y,children:"Löschen"})]})]})})]})};function eK(){return l.jsx(Rk,{filterType:"wasserschaden"})}function tK(){return l.jsx(Rk,{filterType:"sonderauftrag"})}function Rk({filterType:t}){const[e,n]=f.useState(!1),[r,s]=f.useState(""),[i,o]=f.useState([]),[a,c]=f.useState(!1),[d,h]=f.useState([]),[p,m]=f.useState([]),[y,_]=f.useState(!0),[v,E]=f.useState({title:"",description:"",propertyId:"",status:"open",dueDate:""});jn();const{currentUser:x}=_s(),[w,T]=f.useState([]);f.useState(null);const[N,j]=f.useState(null),[L,C]=f.useState(!1);f.useEffect(()=>{if(x!=null&&x.email){const $=Bw.find(W=>W.email===x.email);T($?$.assignedProperties:[])}},[x]);function S($){if(!$)return;const W=$.toDate?$.toDate():new Date($);return isNaN(W.getTime())?void 0:W}function P($){return{...$,createdAt:S($.createdAt),updatedAt:S($.updatedAt),dueDate:S($.dueDate),completedAt:S($.completedAt)}}const A=async()=>{_(!0);const $=await Nn("jobs"),W=await Nn("properties");h($.map(P)),m(W),_(!1)};f.useEffect(()=>{A()},[]);const O=[...d.filter($=>$.jobType!==t||!(i.length===0||i.includes($.status))||!(!r||$.title.toLowerCase().includes(r.toLowerCase())||$.description.toLowerCase().includes(r.toLowerCase()))?!1:w.length>0?w.includes($.propertyId):!0)].sort(($,W)=>{const Y={open:0,"in-progress":1,closed:2,canceled:3};return Y[$.status]!==Y[W.status]?Y[$.status]-Y[W.status]:new Date(W.createdAt).getTime()-new Date($.createdAt).getTime()}),I=async $=>{$.preventDefault();const W=new Date,Y={...v,dueDate:v.dueDate?new Date(v.dueDate):void 0,createdAt:W,updatedAt:W,createdBy:(x==null?void 0:x.email)||"unknown",jobType:t};await _o("jobs",Y),c(!1),E({title:"",description:"",propertyId:"",status:"open",dueDate:""}),A()},z=async()=>{N&&(await El("jobs",N.id),j(null),A())};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:e,onClose:()=>n(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:t==="wasserschaden"?"Baustellen – Wasserschäden":"Baustellen – Sonderaufträge",toggleSidebar:()=>n(!e)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between gap-3",children:[l.jsx("div",{className:"flex flex-1 max-w-md items-center gap-3",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx(_e,{placeholder:"Nach Aufträgen suchen...",value:r,onChange:$=>s($.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Pk,{open:L,onOpenChange:C,children:[l.jsx(Nk,{asChild:!0,children:l.jsx("button",{className:"h-12 min-w-[160px] rounded-lg border border-border bg-secondary text-sidebar-foreground text-base px-6 shadow-none focus:ring-2 focus:ring-sidebar-ring focus:outline-none flex items-center",children:i.length===0||i.length===4?"Alle Status":i.map($=>Er[$]).join(", ")})}),l.jsx(Kw,{className:"rounded-lg border border-border bg-secondary text-sidebar-foreground min-w-[180px] p-0",children:l.jsxs("div",{className:"py-2",children:[l.jsxs("label",{className:"flex items-center px-4 py-2 cursor-pointer hover:bg-muted",children:[l.jsx("input",{type:"checkbox",checked:i.length===4,onChange:$=>{$.target.checked?o(["open","in-progress","closed","canceled"]):o([])},className:"mr-2 accent-blue-600"}),"Alle"]}),l.jsx("div",{className:"border-t my-1 border-border"}),["open","in-progress","closed","canceled"].map($=>l.jsxs("label",{className:"flex items-center px-4 py-2 cursor-pointer hover:bg-muted",children:[l.jsx("input",{type:"checkbox",checked:i.includes($),onChange:W=>{o(Y=>{if(W.target.checked){const M=[...Y,$];return Array.from(new Set(M))}else return Y.filter(M=>M!==$)})},className:"mr-2 accent-blue-600"}),Er[$]]},$))]})})]}),l.jsxs(le,{className:"h-12 px-6 text-base rounded-lg",onClick:()=>c(!0),children:[l.jsx(fo,{className:"mr-2 h-4 w-4"}),"Neuer Auftrag"]})]})]}),l.jsx(st,{children:l.jsx(Ge,{className:"p-0",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:y?l.jsx("li",{className:"p-4 text-center text-gray-500",children:"Lade Aufträge..."}):O.map($=>{const W=p.find(Y=>Y.id===$.propertyId);return l.jsx("li",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:$.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:[W==null?void 0:W.name," - ",new Date($.createdAt).toLocaleDateString()]})]}),l.jsx(mo,{status:$.status})]})},$.id)})})})}),l.jsx(tr,{open:a,onOpenChange:c,children:l.jsxs(Vn,{children:[l.jsx(nr,{children:l.jsxs(rr,{children:["Neuen Auftrag erstellen (",t==="wasserschaden"?"Wasserschaden":"Sonderauftrag",")"]})}),l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"title",children:"Titel"}),l.jsx(_e,{id:"title",value:v.title,onChange:$=>E({...v,title:$.target.value}),placeholder:"Auftragstitel",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"description",children:"Beschreibung"}),l.jsx("textarea",{id:"description",value:v.description,onChange:$=>E({...v,description:$.target.value}),placeholder:"Detaillierte Beschreibung des Auftrags",className:"w-full min-h-[100px] p-2 border rounded-md",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"propertyId",children:"Liegenschaft"}),l.jsxs("select",{id:"propertyId",value:v.propertyId,onChange:$=>E({...v,propertyId:$.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Liegenschaft auswählen"}),p.map($=>l.jsxs("option",{value:$.id,children:[$.name," - ",$.address]},$.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"dueDate",children:"Fälligkeitsdatum"}),l.jsx(_e,{id:"dueDate",type:"date",value:v.dueDate||"",onChange:$=>E({...v,dueDate:$.target.value}),required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Erstellen"})]})]})]})}),l.jsx(tr,{open:!!N,onOpenChange:$=>!$&&j(null),children:l.jsxs(Vn,{children:[l.jsx(nr,{children:l.jsx(rr,{children:"Auftrag löschen"})}),l.jsx("div",{className:"mb-4",children:"Möchten Sie diesen Auftrag wirklich löschen?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{variant:"outline",onClick:()=>j(null),children:"Abbrechen"}),l.jsx(le,{variant:"destructive",onClick:z,children:"Löschen"})]})]})})]})]})]})}function _1(t,[e,n]){return Math.min(n,Math.max(e,t))}function kk(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var nK=[" ","Enter","ArrowUp","ArrowDown"],rK=[" ","Enter"],$u="Select",[Lp,Fp,sK]=Wf($u),[bl,YG]=dr($u,[sK,Ni]),Vp=Ni(),[iK,Oi]=bl($u),[oK,aK]=bl($u),Dk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:p,disabled:m,required:y,form:_}=t,v=Vp(e),[E,x]=f.useState(null),[w,T]=f.useState(null),[N,j]=f.useState(!1),L=Np(d),[C=!1,S]=Dr({prop:r,defaultProp:s,onChange:i}),[P,A]=Dr({prop:o,defaultProp:a,onChange:c}),D=f.useRef(null),O=E?_||!!E.closest("form"):!0,[I,z]=f.useState(new Set),$=Array.from(I).map(W=>W.props.value).join(";");return l.jsx(S0,{...v,children:l.jsxs(iK,{required:y,scope:e,trigger:E,onTriggerChange:x,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Un(),value:P,onValueChange:A,open:C,onOpenChange:S,dir:L,triggerPointerDownPosRef:D,disabled:m,children:[l.jsx(Lp.Provider,{scope:e,children:l.jsx(oK,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(W=>{z(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:f.useCallback(W=>{z(Y=>{const M=new Set(Y);return M.delete(W),M})},[]),children:n})}),O?l.jsxs(sD,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:P,onChange:W=>A(W.target.value),disabled:m,form:_,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(I)]},$):null]})})};Dk.displayName=$u;var jk="SelectTrigger",Mk=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Vp(n),o=Oi(jk,n),a=o.disabled||r,c=Ne(e,o.onTriggerChange),d=Fp(n),h=f.useRef("touch"),[p,m,y]=iD(v=>{const E=d().filter(T=>!T.disabled),x=E.find(T=>T.value===o.value),w=oD(E,v,x);w!==void 0&&o.onValueChange(w.value)}),_=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Eu,{asChild:!0,...i,children:l.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rD(o.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&_(v)}),onPointerDown:ee(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const E=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(E&&v.key===" ")&&nK.includes(v.key)&&(_(),v.preventDefault())})})})});Mk.displayName=jk;var Ok="SelectValue",Lk=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Oi(Ok,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,p=Ne(e,c.onValueNodeChange);return yt(()=>{d(h)},[d,h]),l.jsx(he.span,{...a,ref:p,style:{pointerEvents:"none"},children:rD(c.value)?l.jsx(l.Fragment,{children:o}):i})});Lk.displayName=Ok;var lK="SelectIcon",Fk=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(he.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Fk.displayName=lK;var cK="SelectPortal",Vk=t=>l.jsx(al,{asChild:!0,...t});Vk.displayName=cK;var bo="SelectContent",$k=f.forwardRef((t,e)=>{const n=Oi(bo,t.__scopeSelect),[r,s]=f.useState();if(yt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ms.createPortal(l.jsx(Uk,{scope:t.__scopeSelect,children:l.jsx(Lp.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(zk,{...t,ref:e})});$k.displayName=bo;var Gn=10,[Uk,Li]=bl(bo),uK="SelectContentImpl",zk=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:v,avoidCollisions:E,...x}=t,w=Oi(bo,n),[T,N]=f.useState(null),[j,L]=f.useState(null),C=Ne(e,J=>N(J)),[S,P]=f.useState(null),[A,D]=f.useState(null),O=Fp(n),[I,z]=f.useState(!1),$=f.useRef(!1);f.useEffect(()=>{if(T)return Mu(T)},[T]),Rp();const W=f.useCallback(J=>{const[de,...ve]=O().map(Ce=>Ce.ref.current),[pe]=ve.slice(-1),be=document.activeElement;for(const Ce of J)if(Ce===be||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===de&&j&&(j.scrollTop=0),Ce===pe&&j&&(j.scrollTop=j.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==be))return},[O,j]),Y=f.useCallback(()=>W([S,T]),[W,S,T]);f.useEffect(()=>{I&&Y()},[I,Y]);const{onOpenChange:M,triggerPointerDownPosRef:k}=w;f.useEffect(()=>{if(T){let J={x:0,y:0};const de=pe=>{var be,Ce;J={x:Math.abs(Math.round(pe.pageX)-(((be=k.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Ce=k.current)==null?void 0:Ce.y)??0))}},ve=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():T.contains(pe.target)||M(!1),document.removeEventListener("pointermove",de),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ve,{capture:!0})}}},[T,M,k]),f.useEffect(()=>{const J=()=>M(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[M]);const[U,H]=iD(J=>{const de=O().filter(be=>!be.disabled),ve=de.find(be=>be.ref.current===document.activeElement),pe=oD(de,J,ve);pe&&setTimeout(()=>pe.ref.current.focus())}),F=f.useCallback((J,de,ve)=>{const pe=!$.current&&!ve;(w.value!==void 0&&w.value===de||pe)&&(P(J),pe&&($.current=!0))},[w.value]),G=f.useCallback(()=>T==null?void 0:T.focus(),[T]),se=f.useCallback((J,de,ve)=>{const pe=!$.current&&!ve;(w.value!==void 0&&w.value===de||pe)&&D(J)},[w.value]),te=r==="popper"?ny:Bk,Z=te===ny?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:_,hideWhenDetached:v,avoidCollisions:E}:{};return l.jsx(Uk,{scope:n,content:T,viewport:j,onViewportChange:L,itemRefCallback:F,selectedItem:S,onItemLeave:G,itemTextRefCallback:se,focusSelectedItem:Y,selectedItemText:A,position:r,isPositioned:I,searchRef:U,children:l.jsx(Ou,{as:ss,allowPinchZoom:!0,children:l.jsx(ju,{asChild:!0,trapped:w.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ee(s,J=>{var de;(de=w.trigger)==null||de.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(Po,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:J=>J.preventDefault(),...x,...Z,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,J=>{const de=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!de&&J.key.length===1&&H(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=O().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const be=J.target,Ce=pe.indexOf(be);pe=pe.slice(Ce+1)}setTimeout(()=>W(pe)),J.preventDefault()}})})})})})})});zk.displayName=uK;var dK="SelectItemAlignedPosition",Bk=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Oi(bo,n),o=Li(bo,n),[a,c]=f.useState(null),[d,h]=f.useState(null),p=Ne(e,C=>h(C)),m=Fp(n),y=f.useRef(!1),_=f.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:w}=o,T=f.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&E&&x){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=A.left-S.left,Ce=P.left-be,ot=C.left-Ce,ht=C.width+ot,Tt=Math.max(ht,S.width),wt=window.innerWidth-Gn,Yt=_1(Ce,[Gn,Math.max(Gn,wt-Tt)]);a.style.minWidth=ht+"px",a.style.left=Yt+"px"}else{const be=S.right-A.right,Ce=window.innerWidth-P.right-be,ot=window.innerWidth-C.right-Ce,ht=C.width+ot,Tt=Math.max(ht,S.width),wt=window.innerWidth-Gn,Yt=_1(Ce,[Gn,Math.max(Gn,wt-Tt)]);a.style.minWidth=ht+"px",a.style.right=Yt+"px"}const D=m(),O=window.innerHeight-Gn*2,I=v.scrollHeight,z=window.getComputedStyle(d),$=parseInt(z.borderTopWidth,10),W=parseInt(z.paddingTop,10),Y=parseInt(z.borderBottomWidth,10),M=parseInt(z.paddingBottom,10),k=$+W+I+M+Y,U=Math.min(E.offsetHeight*5,k),H=window.getComputedStyle(v),F=parseInt(H.paddingTop,10),G=parseInt(H.paddingBottom,10),se=C.top+C.height/2-Gn,te=O-se,Z=E.offsetHeight/2,J=E.offsetTop+Z,de=$+W+J,ve=k-de;if(de<=se){const be=D.length>0&&E===D[D.length-1].ref.current;a.style.bottom="0px";const Ce=d.clientHeight-v.offsetTop-v.offsetHeight,ot=Math.max(te,Z+(be?G:0)+Ce+Y),ht=de+ot;a.style.height=ht+"px"}else{const be=D.length>0&&E===D[0].ref.current;a.style.top="0px";const ot=Math.max(se,$+v.offsetTop+(be?F:0)+Z)+ve;a.style.height=ot+"px",v.scrollTop=de-se+v.offsetTop}a.style.margin=`${Gn}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,E,x,i.dir,r]);yt(()=>T(),[T]);const[N,j]=f.useState();yt(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const L=f.useCallback(C=>{C&&_.current===!0&&(T(),w==null||w(),_.current=!1)},[T,w]);return l.jsx(fK,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:l.jsx(he.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Bk.displayName=dK;var hK="SelectPopperPosition",ny=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gn,...i}=t,o=Vp(n);return l.jsx(Yf,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ny.displayName=hK;var[fK,qw]=bl(bo,{}),ry="SelectViewport",Wk=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Li(ry,n),o=qw(ry,n),a=Ne(e,i.onViewportChange),c=f.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Lp.Slot,{scope:n,children:l.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const y=Math.abs(c.current-h.scrollTop);if(y>0){const _=window.innerHeight-Gn*2,v=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),x=Math.max(v,E);if(x<_){const w=x+y,T=Math.min(_,w),N=w-T;p.style.height=T+"px",p.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Wk.displayName=ry;var Hk="SelectGroup",[pK,mK]=bl(Hk),gK=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Un();return l.jsx(pK,{scope:n,id:s,children:l.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:e})})});gK.displayName=Hk;var Kk="SelectLabel",qk=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mK(Kk,n);return l.jsx(he.div,{id:s.id,...r,ref:e})});qk.displayName=Kk;var Tf="SelectItem",[vK,Gk]=bl(Tf),Qk=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Oi(Tf,n),c=Li(Tf,n),d=a.value===r,[h,p]=f.useState(i??""),[m,y]=f.useState(!1),_=Ne(e,w=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,w,r,s)}),v=Un(),E=f.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(vK,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:f.useCallback(w=>{p(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Lp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(he.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:ee(o.onFocus,()=>y(!0)),onBlur:ee(o.onBlur,()=>y(!1)),onClick:ee(o.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:ee(o.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:ee(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:ee(o.onPointerMove,w=>{var T;E.current=w.pointerType,s?(T=c.onItemLeave)==null||T.call(c):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:ee(o.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(rK.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Qk.displayName=Tf;var lc="SelectItemText",Yk=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Oi(lc,n),a=Li(lc,n),c=Gk(lc,n),d=aK(lc,n),[h,p]=f.useState(null),m=Ne(e,x=>p(x),c.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,c.value,c.disabled)}),y=h==null?void 0:h.textContent,_=f.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=d;return yt(()=>(v(_),()=>E(_)),[v,E,_]),l.jsxs(l.Fragment,{children:[l.jsx(he.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ms.createPortal(i.children,o.valueNode):null]})});Yk.displayName=lc;var Xk="SelectItemIndicator",Jk=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Gk(Xk,n).isSelected?l.jsx(he.span,{"aria-hidden":!0,...r,ref:e}):null});Jk.displayName=Xk;var sy="SelectScrollUpButton",Zk=f.forwardRef((t,e)=>{const n=Li(sy,t.__scopeSelect),r=qw(sy,t.__scopeSelect),[s,i]=f.useState(!1),o=Ne(e,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(tD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Zk.displayName=sy;var iy="SelectScrollDownButton",eD=f.forwardRef((t,e)=>{const n=Li(iy,t.__scopeSelect),r=qw(iy,t.__scopeSelect),[s,i]=f.useState(!1),o=Ne(e,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(tD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});eD.displayName=iy;var tD=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Li("SelectScrollButton",n),o=f.useRef(null),a=Fp(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),yt(()=>{var h;const d=a().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(he.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),yK="SelectSeparator",nD=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(he.div,{"aria-hidden":!0,...r,ref:e})});nD.displayName=yK;var oy="SelectArrow",wK=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vp(n),i=Oi(oy,n),o=Li(oy,n);return i.open&&o.position==="popper"?l.jsx(Xf,{...s,...r,ref:e}):null});wK.displayName=oy;function rD(t){return t===""||t===void 0}var sD=f.forwardRef((t,e)=>{const{value:n,...r}=t,s=f.useRef(null),i=Ne(e,s),o=kk(n);return f.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),l.jsx(yu,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});sD.displayName="BubbleSelect";function iD(t){const e=kt(t),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function oD(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=xK(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _K=Dk,aD=Mk,EK=Lk,bK=Fk,TK=Vk,lD=$k,SK=Wk,cD=qk,uD=Qk,CK=Yk,IK=Jk,dD=Zk,hD=eD,fD=nD;const sg=_K,ig=EK,mh=f.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(aD,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(bK,{asChild:!0,children:l.jsx(PC,{className:"h-4 w-4 opacity-50"})})]}));mh.displayName=aD.displayName;const pD=f.forwardRef(({className:t,...e},n)=>l.jsx(dD,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(qO,{className:"h-4 w-4"})}));pD.displayName=dD.displayName;const mD=f.forwardRef(({className:t,...e},n)=>l.jsx(hD,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(PC,{className:"h-4 w-4"})}));mD.displayName=hD.displayName;const gh=f.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(TK,{children:l.jsxs(lD,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(pD,{}),l.jsx(SK,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(mD,{})]})}));gh.displayName=lD.displayName;const AK=f.forwardRef(({className:t,...e},n)=>l.jsx(cD,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));AK.displayName=cD.displayName;const Hr=f.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(uD,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(IK,{children:l.jsx(ya,{className:"h-4 w-4"})})}),l.jsx(CK,{children:e})]}));Hr.displayName=uD.displayName;const PK=f.forwardRef(({className:t,...e},n)=>l.jsx(fD,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));PK.displayName=fD.displayName;var Gw="Collapsible",[NK,XG]=dr(Gw),[RK,Qw]=NK(Gw),gD=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[c=!1,d]=Dr({prop:r,defaultProp:s,onChange:o});return l.jsx(RK,{scope:n,disabled:i,contentId:Un(),open:c,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),children:l.jsx(he.div,{"data-state":Xw(c),"data-disabled":i?"":void 0,...a,ref:e})})});gD.displayName=Gw;var vD="CollapsibleTrigger",yD=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Qw(vD,n);return l.jsx(he.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Xw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ee(t.onClick,s.onOpenToggle)})});yD.displayName=vD;var Yw="CollapsibleContent",wD=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Qw(Yw,t.__scopeCollapsible);return l.jsx(ln,{present:n||s.open,children:({present:i})=>l.jsx(kK,{...r,ref:e,present:i})})});wD.displayName=Yw;var kK=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=Qw(Yw,n),[a,c]=f.useState(r),d=f.useRef(null),h=Ne(e,d),p=f.useRef(0),m=p.current,y=f.useRef(0),_=y.current,v=o.open||a,E=f.useRef(v),x=f.useRef();return f.useEffect(()=>{const w=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(w)},[]),yt(()=>{const w=d.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const T=w.getBoundingClientRect();p.current=T.height,y.current=T.width,E.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(r)}},[o.open,r]),l.jsx(he.div,{"data-state":Xw(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:v&&s})});function Xw(t){return t?"open":"closed"}var DK=gD;const jK=DK,MK=yD,OK=wD;function cc(t){if(!t)return;const e=t.toDate?t.toDate():new Date(t);return isNaN(e.getTime())?void 0:e}function LK(t){return{...t,createdAt:cc(t.createdAt),updatedAt:cc(t.updatedAt),dueDate:cc(t.dueDate),completedAt:cc(t.completedAt)}}function FK(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}const VK=()=>{const{id:t}=AI(),e=jn(),{toast:n}=d0(),{currentUser:r}=_s(),[s,i]=f.useState(!1),[o,a]=f.useState(null),[c,d]=f.useState(!1),[h,p]=f.useState(null),[m,y]=f.useState(!0),[_,v]=f.useState(!1),[E,x]=f.useState(null),[w,T]=f.useState(""),[N,j]=f.useState(!0),L=async()=>{y(!0);const A=await ey("jobs",t);let D=Array.isArray(A==null?void 0:A.notes)?A.notes.map(I=>({...I,createdAt:cc(I.createdAt)})):[];const O={...LK(A),notes:D};if(a(O),p(O),A&&A.propertyId){const I=await ey("properties",A.propertyId);x(I)}y(!1)};f.useEffect(()=>{t&&L()},[t]);const C=async()=>{if(h&&o){let A=Array.isArray(h.notes)?[...h.notes]:[];if(h.status!==o.status){const O=new Date,I=(r==null?void 0:r.email)||"Unbekannt",z=Er[o.status]||o.status,$=Er[h.status]||h.status,W=`Status von "${z}" auf "${$}" geändert von ${I} am ${O.toLocaleDateString()} um ${O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;A=[{id:`note-${Date.now()}`,text:W,createdAt:O,user:I},...A]}const D=FK({...h,notes:A,updatedAt:new Date});await fi("jobs",h.id,D),a({...h,notes:A}),d(!1),n({title:"Änderungen gespeichert",description:"Die Änderungen am Auftrag wurden erfolgreich gespeichert."}),L()}},S=async()=>{o&&(v(!1),await El("jobs",o.id),n({title:"Auftrag gelöscht",description:"Der Auftrag wurde erfolgreich gelöscht.",variant:"destructive"}),e("/jobs"))},P=async()=>{if(w.trim().length>0&&o){const A=new Date,D=(r==null?void 0:r.email)||"Unbekannt",I=[{id:`note-${Date.now()}`,text:w,createdAt:A,user:D},...Array.isArray(o.notes)?o.notes:[]];await fi("jobs",o.id,{notes:I}),T(""),n({title:"Notiz hinzugefügt",description:`Die Notiz wurde erfolgreich am ${A.toLocaleDateString()} um ${A.toLocaleTimeString()} hinzugefügt.`}),L()}};return m?l.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Lade Daten..."}):o?l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:s,onClose:()=>i(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:c?"Auftrag bearbeiten":`Auftrag: ${o.title}`,toggleSidebar:()=>i(!s)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(le,{variant:"outline",onClick:()=>e("/jobs"),children:[l.jsx(dv,{className:"mr-2 h-4 w-4"}),"Zurück zur Auftragsübersicht"]})}),l.jsxs("div",{className:"mb-6 flex justify-between",children:[l.jsx("div",{children:l.jsx(mo,{status:o.status,className:"text-sm"})}),l.jsx("div",{className:"space-x-2",children:c?l.jsxs(l.Fragment,{children:[l.jsx(le,{onClick:()=>d(!1),variant:"outline",children:"Abbrechen"}),l.jsxs(le,{onClick:C,children:[l.jsx(NC,{className:"mr-2 h-4 w-4"}),"Speichern"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(le,{onClick:()=>d(!0),variant:"outline",children:[l.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Bearbeiten"]}),l.jsxs(le,{onClick:()=>v(!0),variant:"destructive",children:[l.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Löschen"]})]})})]}),l.jsxs(st,{className:"mb-6",children:[l.jsx(Wt,{children:l.jsx(Ht,{children:"Auftrags Details"})}),l.jsx(Ge,{className:"space-y-4",children:c?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"title",children:"Titel"}),l.jsx(_e,{id:"title",value:h==null?void 0:h.title,onChange:A=>h&&p({...h,title:A.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"description",children:"Beschreibung"}),l.jsx(Ca,{id:"description",value:h==null?void 0:h.description,onChange:A=>h&&p({...h,description:A.target.value}),rows:4})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"status",children:"Status"}),l.jsxs(sg,{value:h==null?void 0:h.status,onValueChange:A=>h&&p({...h,status:A}),children:[l.jsx(mh,{id:"status",children:l.jsx(ig,{})}),l.jsxs(gh,{children:[l.jsx(Hr,{value:"open",children:"Offen"}),l.jsx(Hr,{value:"in-progress",children:"In Bearbeitung"}),l.jsx(Hr,{value:"closed",children:"Abgeschlossen"}),l.jsx(Hr,{value:"canceled",children:"Storniert"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"priority",children:"Priorität"}),l.jsxs(sg,{value:h==null?void 0:h.priority,onValueChange:A=>h&&p({...h,priority:A}),children:[l.jsx(mh,{id:"priority",children:l.jsx(ig,{})}),l.jsxs(gh,{children:[l.jsx(Hr,{value:"low",children:"Niedrig"}),l.jsx(Hr,{value:"medium",children:"Mittel"}),l.jsx(Hr,{value:"high",children:"Hoch"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"property",children:"Liegenschaft"}),l.jsxs(sg,{value:h==null?void 0:h.propertyId,onValueChange:A=>h&&p({...h,propertyId:A}),children:[l.jsx(mh,{id:"property",children:l.jsx(ig,{placeholder:"Liegenschaft auswählen"})}),l.jsx(gh,{children:E&&l.jsx(Hr,{value:E.id,children:E.name},E.id)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"assignedTo",children:"Zugewiesen an"}),l.jsx(_e,{id:"assignedTo",value:(h==null?void 0:h.assignedTo)||"",onChange:A=>h&&p({...h,assignedTo:A.target.value||null}),placeholder:"Name des Verantwortlichen"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"notes",children:"Notizen"}),l.jsx(Ca,{id:"notes",value:h==null?void 0:h.notes,onChange:A=>h&&p({...h,notes:A.target.value}),rows:4})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"dueDate",children:"Fälligkeitsdatum"}),l.jsx(_e,{id:"dueDate",type:"date",value:h!=null&&h.dueDate?typeof h.dueDate=="string"?h.dueDate:new Date(h.dueDate).toISOString().split("T")[0]:"",onChange:A=>h&&p({...h,dueDate:A.target.value?new Date(A.target.value):void 0})})]})]}):l.jsx(l.Fragment,{children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:o.title}),l.jsx("p",{className:"text-gray-700 mb-4",children:o.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[l.jsx("div",{children:l.jsxs("dl",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Status"}),l.jsx("dd",{children:l.jsx(mo,{status:o.status})})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Priorität"}),l.jsxs("dd",{className:"capitalize",children:[o.priority==="low"&&"Niedrig",o.priority==="medium"&&"Mittel",o.priority==="high"&&"Hoch"]})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Liegenschaft"}),l.jsxs("dd",{className:"flex items-center",children:[l.jsx(xu,{className:"h-3 w-3 mr-1"}),(E==null?void 0:E.name)||"Unbekannte Liegenschaft"]})]}),l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Erstellt am"}),l.jsxs("dd",{className:"flex items-center",children:[l.jsx(zh,{className:"h-3 w-3 mr-1"}),new Date(o.createdAt).toLocaleDateString()]})]}),o.dueDate&&l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Fällig bis"}),l.jsx("dd",{children:new Date(o.dueDate).toLocaleDateString()})]}),o.completedAt&&l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Abgeschlossen am"}),l.jsx("dd",{children:new Date(o.completedAt).toLocaleDateString()})]}),o.assignedTo&&l.jsxs("div",{className:"flex justify-between border-b pb-2",children:[l.jsx("dt",{className:"font-medium text-gray-500",children:"Zugewiesen an"}),l.jsx("dd",{children:o.assignedTo})]})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Notizen"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:Array.isArray(o.notes)&&o.notes.length>0?l.jsx("div",{className:"space-y-4",children:o.notes.map(A=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border",children:[l.jsx("p",{className:"text-sm text-gray-700",children:A.text}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[A.createdAt instanceof Date?A.createdAt.toLocaleDateString():""," um ",A.createdAt instanceof Date?A.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):""," — ",A.user]})]},A.id))}):l.jsx("span",{className:"text-gray-500 italic",children:"Keine Notizen vorhanden"})})]})]})]})})})]}),l.jsx(st,{className:"mb-6",children:l.jsx(Wt,{className:"pb-3",children:l.jsxs(jK,{open:N,onOpenChange:j,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ht,{children:"Notizen"}),l.jsx(MK,{asChild:!0,children:l.jsxs(le,{variant:"ghost",size:"sm",className:"w-9 p-0",children:[l.jsx("span",{className:"sr-only",children:"Toggle"}),N?l.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:l.jsx("path",{d:"M4 6L7.5 9.5L11 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}):l.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:l.jsx("path",{d:"M11 9L7.5 5.5L4 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),l.jsx(OK,{children:l.jsx(Ge,{className:"pt-0",children:l.jsxs("div",{className:"mb-4 space-y-2",children:[l.jsx(Ca,{placeholder:"Notiz eingeben...",value:w,onChange:A=>T(A.target.value),rows:3}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{variant:"outline",size:"sm",onClick:()=>{T("")},children:"Abbrechen"}),l.jsx(le,{size:"sm",onClick:P,children:"Speichern"})]})]})})})]})})})]})]}),l.jsx(tr,{open:_,onOpenChange:v,children:l.jsxs(Vn,{children:[l.jsx(nr,{children:l.jsx(rr,{children:"Auftrag löschen"})}),l.jsx("div",{className:"mb-4",children:"Möchten Sie diesen Auftrag wirklich löschen?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{variant:"outline",onClick:()=>v(!1),children:"Abbrechen"}),l.jsx(le,{variant:"destructive",onClick:S,children:"Löschen"})]})]})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:s,onClose:()=>i(!1)}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Lr,{title:"Auftrag nicht gefunden",toggleSidebar:()=>i(!s)}),l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Auftrag nicht gefunden"}),l.jsx("p",{className:"mb-6",children:"Der gesuchte Auftrag konnte nicht gefunden werden."}),l.jsxs(le,{onClick:()=>e("/jobs"),children:[l.jsx(dv,{className:"mr-2 h-4 w-4"}),"Zurück zur Auftragsübersicht"]})]})]})]})},$K=()=>{const t=ys();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function ay(){const t=ys(),e=[{path:"/firebase/firestore",label:"Firestore Example"},{path:"/firebase/auth",label:"Authentication Example"}];return l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Firebase Examples"}),l.jsx(Zh,{to:"/",className:"text-blue-600 hover:text-blue-800",children:"Back to Dashboard"})]}),l.jsx("nav",{className:"flex border-b border-gray-200",children:e.map(n=>l.jsx(Zh,{to:n.path,className:`px-4 py-2 text-sm font-medium ${t.pathname===n.path?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,children:n.label},n.path))})]})}function UK(){const[t,e]=f.useState([]),[n,r]=f.useState(!0),[s,i]=f.useState(""),[o,a]=f.useState("");f.useEffect(()=>{(async()=>{try{r(!0);const p=await Nn("items");e(p)}catch(p){console.error("Error loading data:",p)}finally{r(!1)}})()},[]);const c=async h=>{if(h.preventDefault(),!!s.trim())try{const p={name:s,description:o,createdAt:new Date},m=await _o("items",p);e([...t,{id:m,...p}]),i(""),a("")}catch(p){console.error("Error adding item:",p)}},d=async h=>{try{await El("items",h),e(t.filter(p=>p.id!==h))}catch(p){console.error("Error deleting item:",p)}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx(ay,{}),l.jsxs("div",{className:"p-4 max-w-md mx-auto bg-white rounded-lg shadow",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Firestore Example"}),l.jsxs("form",{onSubmit:c,className:"mb-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("input",{type:"text",id:"name",value:s,onChange:h=>i(h.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border",required:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{id:"description",value:o,onChange:h=>a(h.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border",rows:3})]}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Item"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-3",children:"Items"}),n?l.jsx("p",{children:"Loading..."}):t.length===0?l.jsx("p",{className:"text-gray-500",children:"No items found. Add your first item!"}):l.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(h=>l.jsx("li",{className:"py-4",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold",children:h.name}),l.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),l.jsx("button",{onClick:()=>d(h.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})},h.id))})]})]})]})}function zK(){const[t,e]=f.useState(""),[n,r]=f.useState(""),[s,i]=f.useState(null),[o,a]=f.useState(!0),[c,d]=f.useState(null);f.useEffect(()=>{const y=W0(Sr,_=>{i(_),a(!1)});return()=>y()},[]);const h=async y=>{y.preventDefault();try{d(null),await IA(Sr,t,n),e(""),r("")}catch(_){d(_.message),console.error("Sign up error:",_)}},p=async y=>{y.preventDefault();try{d(null),await AA(Sr,t,n),e(""),r("")}catch(_){d(_.message),console.error("Sign in error:",_)}},m=async()=>{try{await PA(Sr)}catch(y){d(y.message),console.error("Sign out error:",y)}};return o?l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx(ay,{}),l.jsx("div",{className:"p-4",children:"Loading..."})]}):l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx(ay,{}),l.jsxs("div",{className:"p-4 max-w-md mx-auto bg-white rounded-lg shadow",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Firebase Authentication"}),c&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:c}),s?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Currently logged in as:"}),l.jsx("p",{className:"text-gray-600",children:s.email})]}),l.jsx("button",{onClick:m,className:"w-full py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Sign Out"})]}):l.jsx("div",{children:l.jsxs("form",{className:"mb-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:t,onChange:y=>e(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border",required:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:y=>r(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border",required:!0})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"button",onClick:p,className:"flex-1 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign In"}),l.jsx("button",{type:"button",onClick:h,className:"flex-1 py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign Up"})]})]})})]})]})}const BK=wu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Sf=f.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ie(BK({variant:e}),t),...n}));Sf.displayName="Alert";const WK=f.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",t),...e}));WK.displayName="AlertTitle";const Cf=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",t),...e}));Cf.displayName="AlertDescription";function HK(){const[t,e]=f.useState(""),[n,r]=f.useState(""),[s,i]=f.useState(!1),[o,a]=f.useState(null),{signIn:c,signUp:d,error:h}=_s(),p=jn(),m=async y=>{if(!t||!n){a("Email and password are required");return}i(!0),a(null);try{y==="signin"?await c(t,n):await d(t,n),p("/")}catch{}finally{i(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsx("div",{className:"w-full max-w-md p-4",children:l.jsxs(st,{children:[l.jsxs(Wt,{className:"space-y-1",children:[l.jsx(Ht,{className:"text-2xl font-bold text-center",children:"Welcome back"}),l.jsx(ip,{className:"text-center",children:"Sign in to your account or create a new one"})]}),l.jsx(Ge,{children:l.jsxs(gk,{defaultValue:"signin",className:"w-full",children:[l.jsxs(zw,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(Ji,{value:"signin",children:"Sign In"}),l.jsx(Ji,{value:"signup",children:"Sign Up"})]}),(h||o)&&l.jsx(Sf,{variant:"destructive",className:"mb-4",children:l.jsx(Cf,{children:o||h})}),l.jsx(Zi,{value:"signin",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"email",children:"Email"}),l.jsx(_e,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:y=>e(y.target.value),disabled:s,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ce,{htmlFor:"password",children:"Password"}),l.jsx(Zh,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800",children:"Forgot password?"})]}),l.jsx(_e,{id:"password",type:"password",value:n,onChange:y=>r(y.target.value),disabled:s,required:!0})]}),l.jsx(le,{className:"w-full",disabled:s,onClick:()=>m("signin"),children:s?"Signing in...":"Sign In"})]})}),l.jsx(Zi,{value:"signup",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"email",children:"Email"}),l.jsx(_e,{id:"new-email",type:"email",placeholder:"your@email.com",value:t,onChange:y=>e(y.target.value),disabled:s,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"password",children:"Password"}),l.jsx(_e,{id:"new-password",type:"password",value:n,onChange:y=>r(y.target.value),disabled:s,required:!0}),l.jsx("p",{className:"text-sm text-gray-500",children:"Password must be at least 6 characters long"})]}),l.jsx(le,{className:"w-full",disabled:s,onClick:()=>m("signup"),children:s?"Creating account...":"Create Account"})]})})]})}),l.jsx(op,{className:"flex flex-col space-y-4",children:l.jsx("div",{className:"text-sm text-center text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})})]})})})}function KK(){const[t,e]=f.useState(!1),[n,r]=f.useState(""),[s,i]=f.useState(!1),[o,a]=f.useState(null),[c,d]=f.useState(null),{currentUser:h}=_s(),p=jn();f.useEffect(()=>{h!=null&&h.displayName&&r(h.displayName)},[h]);const m=()=>n?n.charAt(0).toUpperCase():h!=null&&h.email?h.email.charAt(0).toUpperCase():"U",y=async _=>{if(_.preventDefault(),!h){p("/login");return}i(!0),a(null),d(null);try{await G3(h,{displayName:n}),d("Profile updated successfully")}catch(v){a(v.message)}finally{i(!1)}};return l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsx(Lr,{title:"User Profile",toggleSidebar:()=>e(!t)}),l.jsx("main",{className:"flex-1 container max-w-4xl mx-auto p-4 md:p-6 lg:p-8",children:l.jsxs(st,{className:"w-full",children:[l.jsxs(Wt,{children:[l.jsx(Ht,{children:"Your Profile"}),l.jsx(ip,{children:"Manage your account information"})]}),l.jsxs(Ge,{children:[o&&l.jsx(Sf,{variant:"destructive",className:"mb-4",children:l.jsx(Cf,{children:o})}),c&&l.jsx(Sf,{className:"mb-4 bg-green-50 text-green-600 border-green-200",children:l.jsx(Cf,{children:c})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsxs(k0,{className:"h-24 w-24",children:[l.jsx(D0,{src:(h==null?void 0:h.photoURL)||void 0}),l.jsx(j0,{className:"text-3xl",children:m()})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-medium",children:(h==null?void 0:h.displayName)||"User"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:h==null?void 0:h.email})]})]}),l.jsx("div",{className:"flex-1 space-y-4",children:l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"displayName",children:"Display Name"}),l.jsx(_e,{id:"displayName",value:n,onChange:_=>r(_.target.value),disabled:s})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"email",children:"Email"}),l.jsx(_e,{id:"email",value:(h==null?void 0:h.email)||"",disabled:!0,readOnly:!0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed directly"})]}),l.jsx(le,{type:"submit",disabled:s,children:s?"Saving...":"Save Changes"})]})})]})]}),l.jsxs(op,{className:"border-t pt-6 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Account created: ",h==null?void 0:h.metadata.creationTime]}),l.jsx(le,{variant:"outline",onClick:()=>p(-1),children:"Go Back"})]})]})})]})}const xD=f.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",t),...e})}));xD.displayName="Table";const _D=f.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",t),...e}));_D.displayName="TableHeader";const ED=f.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",t),...e}));ED.displayName="TableBody";const qK=f.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));qK.displayName="TableFooter";const uc=f.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));uc.displayName="TableRow";const Xo=f.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xo.displayName="TableHead";const js=f.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));js.displayName="TableCell";const GK=f.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",t),...e}));GK.displayName="TableCaption";const QK=wu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vd({className:t,variant:e,...n}){return l.jsx("div",{className:ie(QK({variant:e}),t),...n})}var Jw="Checkbox",[YK,JG]=dr(Jw),[XK,JK]=YK(Jw),bD=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:d,form:h,...p}=t,[m,y]=f.useState(null),_=Ne(e,N=>y(N)),v=f.useRef(!1),E=m?h||!!m.closest("form"):!0,[x=!1,w]=Dr({prop:s,defaultProp:i,onChange:d}),T=f.useRef(x);return f.useEffect(()=>{const N=m==null?void 0:m.form;if(N){const j=()=>w(T.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[m,w]),l.jsxs(XK,{scope:n,state:x,disabled:a,children:[l.jsx(he.button,{type:"button",role:"checkbox","aria-checked":pi(x)?"mixed":x,"aria-required":o,"data-state":CD(x),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:_,onKeyDown:ee(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ee(t.onClick,N=>{w(j=>pi(j)?!0:!j),E&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),E&&l.jsx(ZK,{control:m,bubbles:!v.current,name:r,value:c,checked:x,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:pi(i)?!1:i})]})});bD.displayName=Jw;var TD="CheckboxIndicator",SD=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=JK(TD,n);return l.jsx(ln,{present:r||pi(i.state)||i.state===!0,children:l.jsx(he.span,{"data-state":CD(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});SD.displayName=TD;var ZK=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=f.useRef(null),a=kk(n),c=YC(e);f.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&y){const _=new Event("click",{bubbles:r});h.indeterminate=pi(n),y.call(h,pi(n)?!1:n),h.dispatchEvent(_)}},[a,n,r]);const d=f.useRef(pi(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pi(t){return t==="indeterminate"}function CD(t){return pi(t)?"indeterminate":t?"checked":"unchecked"}var ID=bD,eq=SD;const vh=f.forwardRef(({className:t,...e},n)=>l.jsx(ID,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(eq,{className:ie("flex items-center justify-center text-current"),children:l.jsx(ya,{className:"h-4 w-4"})})}));vh.displayName=ID.displayName;var E1=1,tq=.9,nq=.8,rq=.17,og=.1,ag=.999,sq=.9999,iq=.99,oq=/[\\\/_+.#"@\[\(\{&]/,aq=/[\\\/_+.#"@\[\(\{&]/g,lq=/[\s-]/,AD=/[\s-]/g;function ly(t,e,n,r,s,i,o){if(i===e.length)return s===t.length?E1:iq;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var c=r.charAt(i),d=n.indexOf(c,s),h=0,p,m,y,_;d>=0;)p=ly(t,e,n,r,d+1,i+1,o),p>h&&(d===s?p*=E1:oq.test(t.charAt(d-1))?(p*=nq,y=t.slice(s,d-1).match(aq),y&&s>0&&(p*=Math.pow(ag,y.length))):lq.test(t.charAt(d-1))?(p*=tq,_=t.slice(s,d-1).match(AD),_&&s>0&&(p*=Math.pow(ag,_.length))):(p*=rq,s>0&&(p*=Math.pow(ag,d-s))),t.charAt(d)!==e.charAt(i)&&(p*=sq)),(p<og&&n.charAt(d-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(d-1)!==r.charAt(i))&&(m=ly(t,e,n,r,d+1,i+2,o),m*og>p&&(p=m*og)),p>h&&(h=p),d=n.indexOf(c,d+1);return o[a]=h,h}function b1(t){return t.toLowerCase().replace(AD," ")}function cq(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,ly(t,e,b1(t),b1(e),0,0,{})}function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(null,arguments)}function Aa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function uq(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function PD(...t){return e=>t.forEach(n=>uq(n,e))}function Uu(...t){return f.useCallback(PD(...t),t)}function dq(t,e=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];function d(p){const{scope:m,children:y,..._}=p,v=(m==null?void 0:m[t][c])||a,E=f.useMemo(()=>_,Object.values(_));return f.createElement(v.Provider,{value:E},y)}function h(p,m){const y=(m==null?void 0:m[t][c])||a,_=f.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,hq(s,...e)]}function hq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const cy=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},fq=wy.useId||(()=>{});let pq=0;function lg(t){const[e,n]=f.useState(fq());return cy(()=>{t||n(r=>r??String(pq++))},[t]),t||(e?`radix-${e}`:"")}function To(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function mq({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=gq({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=To(n),c=f.useCallback(d=>{if(i){const p=typeof d=="function"?d(t):d;p!==t&&a(p)}else s(d)},[i,t,s,a]);return[o,c]}function gq({defaultProp:t,onChange:e}){const n=f.useState(t),[r]=n,s=f.useRef(r),i=To(e);return f.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}const Zw=f.forwardRef((t,e)=>{const{children:n,...r}=t,s=f.Children.toArray(n),i=s.find(yq);if(i){const o=i.props.children,a=s.map(c=>c===i?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return f.createElement(uy,sn({},r,{ref:e}),f.isValidElement(o)?f.cloneElement(o,void 0,a):null)}return f.createElement(uy,sn({},r,{ref:e}),n)});Zw.displayName="Slot";const uy=f.forwardRef((t,e)=>{const{children:n,...r}=t;return f.isValidElement(n)?f.cloneElement(n,{...wq(r,n.props),ref:e?PD(e,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});uy.displayName="SlotClone";const vq=({children:t})=>f.createElement(f.Fragment,null,t);function yq(t){return f.isValidElement(t)&&t.type===vq}function wq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const xq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Hn=xq.reduce((t,e)=>{const n=f.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Zw:e;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(a,sn({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _q(t,e){t&&ms.flushSync(()=>t.dispatchEvent(e))}function Eq(t,e=globalThis==null?void 0:globalThis.document){const n=To(t);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const dy="dismissableLayer.update",bq="dismissableLayer.pointerDownOutside",Tq="dismissableLayer.focusOutside";let T1;const Sq=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cq=f.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...d}=t,h=f.useContext(Sq),[p,m]=f.useState(null),y=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=f.useState({}),v=Uu(e,S=>m(S)),E=Array.from(h.layers),[x]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=E.indexOf(x),T=p?E.indexOf(p):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,j=T>=w,L=Iq(S=>{const P=S.target,A=[...h.branches].some(D=>D.contains(P));!j||A||(i==null||i(S),a==null||a(S),S.defaultPrevented||c==null||c())},y),C=Aq(S=>{const P=S.target;[...h.branches].some(D=>D.contains(P))||(o==null||o(S),a==null||a(S),S.defaultPrevented||c==null||c())},y);return Eq(S=>{T===h.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},y),f.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(T1=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),S1(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=T1)}},[p,y,r,h]),f.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),S1())},[p,h]),f.useEffect(()=>{const S=()=>_({});return document.addEventListener(dy,S),()=>document.removeEventListener(dy,S)},[]),f.createElement(Hn.div,sn({},d,{ref:v,style:{pointerEvents:N?j?"auto":"none":void 0,...t.style},onFocusCapture:Aa(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Aa(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Aa(t.onPointerDownCapture,L.onPointerDownCapture)}))});function Iq(t,e=globalThis==null?void 0:globalThis.document){const n=To(t),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let h=function(){ND(bq,n,d,{discrete:!0})};var c=h;const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Aq(t,e=globalThis==null?void 0:globalThis.document){const n=To(t),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&ND(Tq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S1(){const t=new CustomEvent(dy);document.dispatchEvent(t)}function ND(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_q(s,i):s.dispatchEvent(i)}const cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",C1={bubbles:!1,cancelable:!0},Pq=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=f.useState(null),d=To(s),h=To(i),p=f.useRef(null),m=Uu(e,v=>c(v)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let w=function(L){if(y.paused||!a)return;const C=L.target;a.contains(C)?p.current=C:Ms(p.current,{select:!0})},T=function(L){if(y.paused||!a)return;const C=L.relatedTarget;C!==null&&(a.contains(C)||Ms(p.current,{select:!0}))},N=function(L){if(document.activeElement===document.body)for(const S of L)S.removedNodes.length>0&&Ms(a)};var v=w,E=T,x=N;document.addEventListener("focusin",w),document.addEventListener("focusout",T);const j=new MutationObserver(N);return a&&j.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",T),j.disconnect()}}},[r,a,y.paused]),f.useEffect(()=>{if(a){A1.add(y);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(cg,C1);a.addEventListener(cg,d),a.dispatchEvent(x),x.defaultPrevented||(Nq(Mq(RD(a)),{select:!0}),document.activeElement===v&&Ms(a))}return()=>{a.removeEventListener(cg,d),setTimeout(()=>{const x=new CustomEvent(ug,C1);a.addEventListener(ug,h),a.dispatchEvent(x),x.defaultPrevented||Ms(v??document.body,{select:!0}),a.removeEventListener(ug,h),A1.remove(y)},0)}}},[a,d,h,y]);const _=f.useCallback(v=>{if(!n&&!r||y.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const w=v.currentTarget,[T,N]=Rq(w);T&&N?!v.shiftKey&&x===N?(v.preventDefault(),n&&Ms(T,{select:!0})):v.shiftKey&&x===T&&(v.preventDefault(),n&&Ms(N,{select:!0})):x===w&&v.preventDefault()}},[n,r,y.paused]);return f.createElement(Hn.div,sn({tabIndex:-1},o,{ref:m,onKeyDown:_}))});function Nq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ms(r,{select:e}),document.activeElement!==n)return}function Rq(t){const e=RD(t),n=I1(e,t),r=I1(e.reverse(),t);return[n,r]}function RD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function I1(t,e){for(const n of t)if(!kq(n,{upTo:e}))return n}function kq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Dq(t){return t instanceof HTMLInputElement&&"select"in t}function Ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Dq(t)&&e&&t.select()}}const A1=jq();function jq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=P1(t,e),t.unshift(e)},remove(e){var n;t=P1(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function P1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mq(t){return t.filter(e=>e.tagName!=="A")}const Oq=f.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?u0.createPortal(f.createElement(Hn.div,sn({},s,{ref:e})),r):null});function Lq(t,e){return f.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const $p=t=>{const{present:e,children:n}=t,r=Fq(e),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=Uu(r.ref,s.ref);return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};$p.displayName="Presence";function Fq(t){const[e,n]=f.useState(),r=f.useRef({}),s=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[a,c]=Lq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=$d(r.current);i.current=a==="mounted"?d:"none"},[a]),cy(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=$d(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),cy(()=>{if(e){const d=p=>{const y=$d(r.current).includes(p.animationName);p.target===e&&y&&ms.flushSync(()=>c("ANIMATION_END"))},h=p=>{p.target===e&&(i.current=$d(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function $d(t){return(t==null?void 0:t.animationName)||"none"}let dg=0;function Vq(){f.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:N1()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:N1()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dg--}},[])}function N1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var kD=DN(),hg=function(){},Up=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,y=t.noIsolation,_=t.inert,v=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,w=ml(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=m,N=kN([n,e]),j=qt(qt({},w),s);return f.createElement(f.Fragment,null,h&&f.createElement(T,{sideCar:kD,removeScrollBar:d,shards:p,noIsolation:y,inert:_,setCallbacks:i,allowPinchZoom:!!v,lockRef:n}),o?f.cloneElement(f.Children.only(a),qt(qt({},j),{ref:N})):f.createElement(x,qt({},j,{className:c,ref:N}),a))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:Ic,zeroRight:Cc};var hy=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return hy=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{hy=!1}var Wo=hy?{passive:!1}:!1,$q=function(t){return t.tagName==="TEXTAREA"},DD=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$q(t)&&n[e]==="visible")},Uq=function(t){return DD(t,"overflowY")},zq=function(t){return DD(t,"overflowX")},R1=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=jD(t,n);if(r){var s=MD(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Bq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Wq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jD=function(t,e){return t==="v"?Uq(e):zq(e)},MD=function(t,e){return t==="v"?Bq(e):Wq(e)},Hq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Kq=function(t,e,n,r,s){var i=Hq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,p=0,m=0;do{var y=MD(t,a),_=y[0],v=y[1],E=y[2],x=v-E-i*_;(_||x)&&jD(t,a)&&(p+=x,m+=_),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(p===0||!s)||!h&&(m===0||!s))&&(d=!0),d},zd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},k1=function(t){return[t.deltaX,t.deltaY]},D1=function(t){return t&&"current"in t?t.current:t},qq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Qq=0,Ho=[];function Yq(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(Qq++)[0],i=f.useState(function(){return Iw()})[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=tA([t.lockRef.current],(t.shards||[]).map(D1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(v,E){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var x=zd(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-x[0],N="deltaY"in v?v.deltaY:w[1]-x[1],j,L=v.target,C=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in v&&C==="h"&&L.type==="range")return!1;var S=R1(C,L);if(!S)return!0;if(S?j=C:(j=C==="v"?"h":"v",S=R1(C,L)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||N)&&(r.current=j),!j)return!0;var P=r.current||j;return Kq(P,E,v,P==="h"?T:N,!0)},[]),c=f.useCallback(function(v){var E=v;if(!(!Ho.length||Ho[Ho.length-1]!==i)){var x="deltaY"in E?k1(E):zd(E),w=e.current.filter(function(j){return j.name===E.type&&j.target===E.target&&qq(j.delta,x)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(D1).filter(Boolean).filter(function(j){return j.contains(E.target)}),N=T.length>0?a(E,T[0]):!o.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),d=f.useCallback(function(v,E,x,w){var T={name:v,delta:E,target:x,should:w};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),h=f.useCallback(function(v){n.current=zd(v),r.current=void 0},[]),p=f.useCallback(function(v){d(v.type,k1(v),v.target,a(v,t.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,zd(v),v.target,a(v,t.lockRef.current))},[]);f.useEffect(function(){return Ho.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Wo),document.addEventListener("touchmove",c,Wo),document.addEventListener("touchstart",h,Wo),function(){Ho=Ho.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Wo),document.removeEventListener("touchmove",c,Wo),document.removeEventListener("touchstart",h,Wo)}},[]);var y=t.removeScrollBar,_=t.inert;return f.createElement(f.Fragment,null,_?f.createElement(i,{styles:Gq(s)}):null,y?f.createElement(LN,{gapMode:"margin"}):null)}const Xq=MN(kD,Yq);var OD=f.forwardRef(function(t,e){return f.createElement(Up,qt({},t,{ref:e,sideCar:Xq}))});OD.classNames=Up.classNames;const LD="Dialog",[FD,ZG]=dq(LD),[Jq,jo]=FD(LD),Zq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=f.useRef(null),c=f.useRef(null),[d=!1,h]=mq({prop:r,defaultProp:s,onChange:i});return f.createElement(Jq,{scope:e,triggerRef:a,contentRef:c,contentId:lg(),titleId:lg(),descriptionId:lg(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),modal:o},n)},VD="DialogPortal",[eG,$D]=FD(VD,{forceMount:void 0}),tG=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=jo(VD,e);return f.createElement(eG,{scope:e,forceMount:n},f.Children.map(r,o=>f.createElement($p,{present:n||i.open},f.createElement(Oq,{asChild:!0,container:s},o))))},fy="DialogOverlay",nG=f.forwardRef((t,e)=>{const n=$D(fy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jo(fy,t.__scopeDialog);return i.modal?f.createElement($p,{present:r||i.open},f.createElement(rG,sn({},s,{ref:e}))):null}),rG=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jo(fy,n);return f.createElement(OD,{as:Zw,allowPinchZoom:!0,shards:[s.contentRef]},f.createElement(Hn.div,sn({"data-state":zD(s.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),cu="DialogContent",sG=f.forwardRef((t,e)=>{const n=$D(cu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jo(cu,t.__scopeDialog);return f.createElement($p,{present:r||i.open},i.modal?f.createElement(iG,sn({},s,{ref:e})):f.createElement(oG,sn({},s,{ref:e})))}),iG=f.forwardRef((t,e)=>{const n=jo(cu,t.__scopeDialog),r=f.useRef(null),s=Uu(e,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return Mu(i)},[]),f.createElement(UD,sn({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Aa(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:Aa(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Aa(t.onFocusOutside,i=>i.preventDefault())}))}),oG=f.forwardRef((t,e)=>{const n=jo(cu,t.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return f.createElement(UD,sn({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:i=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),UD=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=jo(cu,n),c=f.useRef(null),d=Uu(e,c);return Vq(),f.createElement(f.Fragment,null,f.createElement(Pq,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i},f.createElement(Cq,sn({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":zD(a.open)},o,{ref:d,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function zD(t){return t?"open":"closed"}const aG=Zq,lG=tG,cG=nG,uG=sG;var Yl='[cmdk-group=""]',fg='[cmdk-group-items=""]',dG='[cmdk-group-heading=""]',ex='[cmdk-item=""]',j1=`${ex}:not([aria-disabled="true"])`,py="cmdk-item-select",qi="data-value",hG=(t,e,n)=>cq(t,e,n),BD=f.createContext(void 0),zu=()=>f.useContext(BD),WD=f.createContext(void 0),tx=()=>f.useContext(WD),HD=f.createContext(void 0),KD=f.forwardRef((t,e)=>{let n=Jo(()=>{var F,G;return{search:"",value:(G=(F=t.value)!=null?F:t.defaultValue)!=null?G:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Jo(()=>new Set),s=Jo(()=>new Map),i=Jo(()=>new Map),o=Jo(()=>new Set),a=qD(t),{label:c,children:d,value:h,onValueChange:p,filter:m,shouldFilter:y,loop:_,disablePointerSelection:v=!1,vimBindings:E=!0,...x}=t,w=f.useId(),T=f.useId(),N=f.useId(),j=f.useRef(null),L=bG();So(()=>{if(h!==void 0){let F=h.trim();n.current.value=F,C.emit()}},[h]),So(()=>{L(6,I)},[]);let C=f.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>n.current,setState:(F,G,se)=>{var te,Z,J;if(!Object.is(n.current[F],G)){if(n.current[F]=G,F==="search")O(),A(),L(1,D);else if(F==="value"&&(se||L(5,I),((te=a.current)==null?void 0:te.value)!==void 0)){let de=G??"";(J=(Z=a.current).onValueChange)==null||J.call(Z,de);return}C.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),S=f.useMemo(()=>({value:(F,G,se)=>{var te;G!==((te=i.current.get(F))==null?void 0:te.value)&&(i.current.set(F,{value:G,keywords:se}),n.current.filtered.items.set(F,P(G,se)),L(2,()=>{A(),C.emit()}))},item:(F,G)=>(r.current.add(F),G&&(s.current.has(G)?s.current.get(G).add(F):s.current.set(G,new Set([F]))),L(3,()=>{O(),A(),n.current.value||D(),C.emit()}),()=>{i.current.delete(F),r.current.delete(F),n.current.filtered.items.delete(F);let se=z();L(4,()=>{O(),(se==null?void 0:se.getAttribute("id"))===F&&D(),C.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{i.current.delete(F),s.current.delete(F)}),filter:()=>a.current.shouldFilter,label:c||t["aria-label"],disablePointerSelection:v,listId:w,inputId:N,labelId:T,listInnerRef:j}),[]);function P(F,G){var se,te;let Z=(te=(se=a.current)==null?void 0:se.filter)!=null?te:hG;return F?Z(F,n.current.search,G):0}function A(){if(!n.current.search||a.current.shouldFilter===!1)return;let F=n.current.filtered.items,G=[];n.current.filtered.groups.forEach(te=>{let Z=s.current.get(te),J=0;Z.forEach(de=>{let ve=F.get(de);J=Math.max(ve,J)}),G.push([te,J])});let se=j.current;$().sort((te,Z)=>{var J,de;let ve=te.getAttribute("id"),pe=Z.getAttribute("id");return((J=F.get(pe))!=null?J:0)-((de=F.get(ve))!=null?de:0)}).forEach(te=>{let Z=te.closest(fg);Z?Z.appendChild(te.parentElement===Z?te:te.closest(`${fg} > *`)):se.appendChild(te.parentElement===se?te:te.closest(`${fg} > *`))}),G.sort((te,Z)=>Z[1]-te[1]).forEach(te=>{let Z=j.current.querySelector(`${Yl}[${qi}="${encodeURIComponent(te[0])}"]`);Z==null||Z.parentElement.appendChild(Z)})}function D(){let F=$().find(se=>se.getAttribute("aria-disabled")!=="true"),G=F==null?void 0:F.getAttribute(qi);C.setState("value",G||void 0)}function O(){var F,G,se,te;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Z=0;for(let J of r.current){let de=(G=(F=i.current.get(J))==null?void 0:F.value)!=null?G:"",ve=(te=(se=i.current.get(J))==null?void 0:se.keywords)!=null?te:[],pe=P(de,ve);n.current.filtered.items.set(J,pe),pe>0&&Z++}for(let[J,de]of s.current)for(let ve of de)if(n.current.filtered.items.get(ve)>0){n.current.filtered.groups.add(J);break}n.current.filtered.count=Z}function I(){var F,G,se;let te=z();te&&(((F=te.parentElement)==null?void 0:F.firstChild)===te&&((se=(G=te.closest(Yl))==null?void 0:G.querySelector(dG))==null||se.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function z(){var F;return(F=j.current)==null?void 0:F.querySelector(`${ex}[aria-selected="true"]`)}function $(){var F;return Array.from((F=j.current)==null?void 0:F.querySelectorAll(j1))}function W(F){let G=$()[F];G&&C.setState("value",G.getAttribute(qi))}function Y(F){var G;let se=z(),te=$(),Z=te.findIndex(de=>de===se),J=te[Z+F];(G=a.current)!=null&&G.loop&&(J=Z+F<0?te[te.length-1]:Z+F===te.length?te[0]:te[Z+F]),J&&C.setState("value",J.getAttribute(qi))}function M(F){let G=z(),se=G==null?void 0:G.closest(Yl),te;for(;se&&!te;)se=F>0?_G(se,Yl):EG(se,Yl),te=se==null?void 0:se.querySelector(j1);te?C.setState("value",te.getAttribute(qi)):Y(F)}let k=()=>W($().length-1),U=F=>{F.preventDefault(),F.metaKey?k():F.altKey?M(1):Y(1)},H=F=>{F.preventDefault(),F.metaKey?W(0):F.altKey?M(-1):Y(-1)};return f.createElement(Hn.div,{ref:e,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:F=>{var G;if((G=x.onKeyDown)==null||G.call(x,F),!F.defaultPrevented)switch(F.key){case"n":case"j":{E&&F.ctrlKey&&U(F);break}case"ArrowDown":{U(F);break}case"p":case"k":{E&&F.ctrlKey&&H(F);break}case"ArrowUp":{H(F);break}case"Home":{F.preventDefault(),W(0);break}case"End":{F.preventDefault(),k();break}case"Enter":if(!F.nativeEvent.isComposing&&F.keyCode!==229){F.preventDefault();let se=z();if(se){let te=new Event(py);se.dispatchEvent(te)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:SG},c),zp(t,F=>f.createElement(WD.Provider,{value:C},f.createElement(BD.Provider,{value:S},F))))}),fG=f.forwardRef((t,e)=>{var n,r;let s=f.useId(),i=f.useRef(null),o=f.useContext(HD),a=zu(),c=qD(t),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;So(()=>{if(!d)return a.item(s,o==null?void 0:o.id)},[d]);let h=GD(s,i,[t.value,t.children,i],t.keywords),p=tx(),m=Co(L=>L.value&&L.value===h.current),y=Co(L=>d||a.filter()===!1?!0:L.search?L.filtered.items.get(s)>0:!0);f.useEffect(()=>{let L=i.current;if(!(!L||t.disabled))return L.addEventListener(py,_),()=>L.removeEventListener(py,_)},[y,t.onSelect,t.disabled]);function _(){var L,C;v(),(C=(L=c.current).onSelect)==null||C.call(L,h.current)}function v(){p.setState("value",h.current,!0)}if(!y)return null;let{disabled:E,value:x,onSelect:w,forceMount:T,keywords:N,...j}=t;return f.createElement(Hn.div,{ref:uu([i,e]),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!m,"data-disabled":!!E,"data-selected":!!m,onPointerMove:E||a.disablePointerSelection?void 0:v,onClick:E?void 0:_},t.children)}),pG=f.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,o=f.useId(),a=f.useRef(null),c=f.useRef(null),d=f.useId(),h=zu(),p=Co(y=>s||h.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);So(()=>h.group(o),[]),GD(o,a,[t.value,t.heading,c]);let m=f.useMemo(()=>({id:o,forceMount:s}),[s]);return f.createElement(Hn.div,{ref:uu([a,e]),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),zp(t,y=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},f.createElement(HD.Provider,{value:m},y))))}),mG=f.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=f.useRef(null),i=Co(o=>!o.search);return!n&&!i?null:f.createElement(Hn.div,{ref:uu([s,e]),...r,"cmdk-separator":"",role:"separator"})}),gG=f.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=tx(),o=Co(h=>h.search),a=Co(h=>h.value),c=zu(),d=f.useMemo(()=>{var h;let p=(h=c.listInnerRef.current)==null?void 0:h.querySelector(`${ex}[${qi}="${encodeURIComponent(a)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return f.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),f.createElement(Hn.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:s?t.value:o,onChange:h=>{s||i.setState("search",h.target.value),n==null||n(h.target.value)}})}),vG=f.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=f.useRef(null),o=f.useRef(null),a=zu();return f.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,h,p=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(h),p.unobserve(c)}}},[]),f.createElement(Hn.div,{ref:uu([i,e]),...s,"cmdk-list":"",role:"listbox","aria-label":r,id:a.listId},zp(t,c=>f.createElement("div",{ref:uu([o,a.listInnerRef]),"cmdk-list-sizer":""},c)))}),yG=f.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:o,...a}=t;return f.createElement(aG,{open:n,onOpenChange:r},f.createElement(lG,{container:o},f.createElement(cG,{"cmdk-overlay":"",className:s}),f.createElement(uG,{"aria-label":t.label,"cmdk-dialog":"",className:i},f.createElement(KD,{ref:e,...a}))))}),wG=f.forwardRef((t,e)=>Co(n=>n.filtered.count===0)?f.createElement(Hn.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),xG=f.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return f.createElement(Hn.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},zp(t,o=>f.createElement("div",{"aria-hidden":!0},o)))}),yn=Object.assign(KD,{List:vG,Item:fG,Input:gG,Group:pG,Separator:mG,Dialog:yG,Empty:wG,Loading:xG});function _G(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function EG(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function qD(t){let e=f.useRef(t);return So(()=>{e.current=t}),e}var So=typeof window>"u"?f.useEffect:f.useLayoutEffect;function Jo(t){let e=f.useRef();return e.current===void 0&&(e.current=t()),e}function uu(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Co(t){let e=tx(),n=()=>t(e.snapshot());return f.useSyncExternalStore(e.subscribe,n,n)}function GD(t,e,n,r=[]){let s=f.useRef(),i=zu();return So(()=>{var o;let a=(()=>{var d;for(let h of n){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():s.current}})(),c=r.map(d=>d.trim());i.value(t,a,c),(o=e.current)==null||o.setAttribute(qi,a),s.current=a}),s}var bG=()=>{let[t,e]=f.useState(),n=Jo(()=>new Map);return So(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function TG(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function zp({asChild:t,children:e},n){return t&&f.isValidElement(e)?f.cloneElement(TG(e),{ref:e.ref},n(e.props.children)):n(e)}var SG={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const QD=f.forwardRef(({className:t,...e},n)=>l.jsx(yn,{ref:n,className:ie("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));QD.displayName=yn.displayName;const CG=({children:t,...e})=>l.jsx(tr,{...e,children:l.jsx(Vn,{className:"overflow-hidden p-0 shadow-lg",children:l.jsx(QD,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),YD=f.forwardRef(({className:t,...e},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(ll,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(yn.Input,{ref:n,className:ie("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));YD.displayName=yn.Input.displayName;const XD=f.forwardRef(({className:t,...e},n)=>l.jsx(yn.List,{ref:n,className:ie("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));XD.displayName=yn.List.displayName;const JD=f.forwardRef((t,e)=>l.jsx(yn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));JD.displayName=yn.Empty.displayName;const IG=f.forwardRef(({className:t,...e},n)=>l.jsx(yn.Group,{ref:n,className:ie("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));IG.displayName=yn.Group.displayName;const AG=f.forwardRef(({className:t,...e},n)=>l.jsx(yn.Separator,{ref:n,className:ie("-mx-1 h-px bg-border",t),...e}));AG.displayName=yn.Separator.displayName;const ZD=f.forwardRef(({className:t,...e},n)=>l.jsx(yn.Item,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));ZD.displayName=yn.Item.displayName;const PG=()=>{const[t,e]=f.useState(!1),[n,r]=f.useState([]),[s,i]=f.useState([]),[o,a]=f.useState([]),[c,d]=f.useState(""),[h,p]=f.useState(!1),[m,y]=f.useState(!1),[_,v]=f.useState(!1),[E,x]=f.useState(!1),[w,T]=f.useState(null),[N,j]=f.useState(!0),[L,C]=f.useState({firstName:"",lastName:"",email:"",phone:"",position:"",role:"mitarbeiter",assignedProperties:[],isActive:!0}),[S,P]=f.useState("");jn();const A=async()=>{j(!0);const k=await Nn("employees"),U=await Nn("properties"),H=await Nn("jobs");r(k),i(U),a(H),j(!1)};f.useEffect(()=>{A()},[]);const D=c?n.filter(k=>k.firstName.toLowerCase().includes(c.toLowerCase())||k.lastName.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.position.toLowerCase().includes(c.toLowerCase())):n,O=async k=>{k.preventDefault();const U=new Date,H={...L,assignedProperties:L.assignedProperties||[],isActive:L.isActive||!0,createdAt:U,updatedAt:U};await _o("employees",H),p(!1),C({firstName:"",lastName:"",email:"",phone:"",position:"",role:"mitarbeiter",assignedProperties:[],isActive:!0}),A()},I=async k=>{if(k.preventDefault(),!w)return;const U={...w,updatedAt:new Date};await fi("employees",w.id,U),y(!1),T(null),A()},z=async k=>{if(k.preventDefault(),!w)return;const U={...w,updatedAt:new Date};await fi("employees",w.id,U),v(!1),T(null),A()},$=async k=>{if(k.preventDefault(),!w)return;const U={...w,updatedAt:new Date};await fi("employees",w.id,U),x(!1),T(null),A()},W=k=>{if(!w)return;const U=[...w.assignedProperties],H=U.indexOf(k);H===-1?U.push(k):U.splice(H,1),T({...w,assignedProperties:U})},Y=k=>{if(!w)return;const U=[...w.assignedJobs||[]],H=U.indexOf(k);H===-1?U.push(k):U.splice(H,1),T({...w,assignedJobs:U})},M=async k=>{window.confirm("Möchten Sie diesen Mitarbeiter wirklich löschen?")&&(await El("employees",k),A())};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Mitarbeiter",toggleSidebar:()=>e(!t)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-6 overflow-y-auto max-w-full",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[l.jsxs("div",{className:"relative w-full sm:max-w-md",children:[l.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),l.jsx(_e,{placeholder:"Nach Mitarbeiter suchen...",value:c,onChange:k=>d(k.target.value),className:"pl-9 h-9 text-sm"})]}),l.jsxs(le,{className:"w-full sm:w-auto h-9 text-sm",onClick:()=>p(!0),children:[l.jsx(fo,{className:"mr-1 h-4 w-4"}),"Mitarbeiter hinzufügen"]})]}),l.jsxs(st,{className:"w-full overflow-hidden",children:[l.jsxs(Wt,{className:"py-3 px-4",children:[l.jsx(Ht,{className:"text-lg",children:"Mitarbeiter-Übersicht"}),l.jsx(ip,{className:"text-xs",children:"Verwalten Sie Ihre Mitarbeiter und weisen Sie ihnen Liegenschaften zu."})]}),l.jsx("div",{className:"hidden md:block",children:l.jsx(Ge,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(xD,{className:"text-sm",children:[l.jsx(_D,{children:l.jsxs(uc,{children:[l.jsx(Xo,{className:"font-medium px-3 py-2 text-xs",children:"Name"}),l.jsx(Xo,{className:"font-medium px-3 py-2 text-xs",children:"Position"}),l.jsx(Xo,{className:"font-medium px-3 py-2 text-xs",children:"Kontakt"}),l.jsx(Xo,{className:"font-medium px-3 py-2 text-xs",children:"Status"}),l.jsx(Xo,{className:"font-medium px-3 py-2 text-xs text-right",children:"Aktionen"})]})}),l.jsx(ED,{children:N?l.jsx(uc,{children:l.jsx(js,{colSpan:5,className:"text-center text-gray-500 py-4 text-xs",children:"Lade Mitarbeiter..."})}):D.length===0?l.jsx(uc,{children:l.jsx(js,{colSpan:5,className:"text-center text-gray-500 py-4 text-xs",children:"Keine Mitarbeiter gefunden."})}):D.map(k=>l.jsxs(uc,{children:[l.jsxs(js,{className:"font-medium px-3 py-2",children:[k.firstName," ",k.lastName]}),l.jsx(js,{className:"px-3 py-2",children:k.position}),l.jsxs(js,{className:"px-3 py-2",children:[l.jsx("div",{className:"text-xs",children:k.email}),l.jsx("div",{className:"text-xs text-gray-500",children:k.phone})]}),l.jsx(js,{className:"px-3 py-2",children:k.isActive?l.jsxs(Vd,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 text-xs py-0 px-2",children:[l.jsx(ya,{size:12,className:"mr-1"})," Aktiv"]}):l.jsxs(Vd,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200 text-xs py-0 px-2",children:[l.jsx(Bh,{size:12,className:"mr-1"})," Inaktiv"]})}),l.jsx(js,{className:"px-3 py-2 text-right",children:l.jsxs("div",{className:"flex justify-end gap-1",children:[l.jsx(le,{variant:"outline",size:"sm",className:"h-7 text-xs px-2",onClick:()=>{T(k),v(!0)},children:"Liegenschaften"}),l.jsx(le,{variant:"outline",size:"sm",className:"h-7 text-xs px-2",onClick:()=>{T(k),x(!0)},children:"Baustellen"}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{T(k),y(!0)},children:l.jsx(Hc,{size:14})}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600",onClick:()=>M(k.id),children:l.jsx(Kc,{size:14})})]})})]},k.id))})]})})})}),l.jsx("div",{className:"md:hidden",children:l.jsx(Ge,{className:"p-3",children:N?l.jsx("div",{className:"text-center text-gray-500 py-4 text-xs",children:"Lade Mitarbeiter..."}):D.length===0?l.jsx("div",{className:"text-center text-gray-500 py-4 text-xs",children:"Keine Mitarbeiter gefunden."}):l.jsx("div",{className:"space-y-3",children:D.map(k=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-sm",children:[k.firstName," ",k.lastName]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:k.position}),l.jsx("div",{className:"text-xs mt-2",children:k.email}),l.jsx("div",{className:"text-xs text-gray-500",children:k.phone})]}),l.jsx("div",{children:k.isActive?l.jsxs(Vd,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 text-xs py-0 px-2",children:[l.jsx(ya,{size:12,className:"mr-1"})," Aktiv"]}):l.jsxs(Vd,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200 text-xs py-0 px-2",children:[l.jsx(Bh,{size:12,className:"mr-1"})," Inaktiv"]})})]}),l.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 flex justify-between",children:[l.jsx(le,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{T(k),v(!0)},children:"Liegenschaften"}),l.jsx(le,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{T(k),x(!0)},children:"Baustellen"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{T(k),y(!0)},children:l.jsx(Hc,{size:14})}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600",onClick:()=>M(k.id),children:l.jsx(Kc,{size:14})})]})]})]},k.id))})})})]})]})]}),l.jsx(tr,{open:h,onOpenChange:p,children:l.jsxs(Vn,{className:"max-w-md",children:[l.jsx(nr,{children:l.jsx(rr,{children:"Neuen Mitarbeiter hinzufügen"})}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"firstName",children:"Vorname"}),l.jsx(_e,{id:"firstName",value:L.firstName,onChange:k=>C({...L,firstName:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"lastName",children:"Nachname"}),l.jsx(_e,{id:"lastName",value:L.lastName,onChange:k=>C({...L,lastName:k.target.value}),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"email",children:"E-Mail"}),l.jsx(_e,{id:"email",type:"email",value:L.email,onChange:k=>C({...L,email:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"phone",children:"Telefonnummer"}),l.jsx(_e,{id:"phone",value:L.phone,onChange:k=>C({...L,phone:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"position",children:"Position"}),l.jsx(_e,{id:"position",value:L.position,onChange:k=>C({...L,position:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"role",children:"Rolle"}),l.jsxs("select",{id:"role",value:L.role,onChange:k=>C({...L,role:k.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[l.jsx("option",{value:"mitarbeiter",children:"Mitarbeiter"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vh,{id:"isActive",checked:L.isActive,onCheckedChange:k=>C({...L,isActive:k})}),l.jsx(ce,{htmlFor:"isActive",children:"Aktiv"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Speichern"})]})]})]})}),l.jsx(tr,{open:m,onOpenChange:y,children:l.jsxs(Vn,{className:"max-w-md",children:[l.jsx(nr,{children:l.jsx(rr,{children:"Mitarbeiter bearbeiten"})}),w&&l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editFirstName",children:"Vorname"}),l.jsx(_e,{id:"editFirstName",value:w.firstName,onChange:k=>T({...w,firstName:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editLastName",children:"Nachname"}),l.jsx(_e,{id:"editLastName",value:w.lastName,onChange:k=>T({...w,lastName:k.target.value}),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editEmail",children:"E-Mail"}),l.jsx(_e,{id:"editEmail",type:"email",value:w.email,onChange:k=>T({...w,email:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editPhone",children:"Telefonnummer"}),l.jsx(_e,{id:"editPhone",value:w.phone,onChange:k=>T({...w,phone:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editPosition",children:"Position"}),l.jsx(_e,{id:"editPosition",value:w.position,onChange:k=>T({...w,position:k.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{htmlFor:"editRole",children:"Rolle"}),l.jsxs("select",{id:"editRole",value:w.role,onChange:k=>T({...w,role:k.target.value}),className:"w-full p-2 border rounded-md",required:!0,children:[l.jsx("option",{value:"mitarbeiter",children:"Mitarbeiter"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vh,{id:"editIsActive",checked:w.isActive,onCheckedChange:k=>T({...w,isActive:k})}),l.jsx(ce,{htmlFor:"editIsActive",children:"Aktiv"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Speichern"})]})]})]})}),l.jsx(tr,{open:_,onOpenChange:v,children:l.jsxs(Vn,{className:"max-w-md",children:[l.jsx(nr,{children:l.jsx(rr,{children:"Liegenschaften zuweisen"})}),w&&l.jsxs("form",{onSubmit:z,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{children:"Liegenschaften"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.map(k=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx(vh,{checked:w.assignedProperties.includes(k.id),onCheckedChange:()=>W(k.id)}),l.jsx("span",{children:k.name})]},k.id))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Speichern"})]})]})]})}),l.jsx(tr,{open:E,onOpenChange:x,children:l.jsxs(Vn,{className:"max-w-md",children:[l.jsx(nr,{children:l.jsx(rr,{children:"Baustellen/Aufträge zuweisen"})}),w&&l.jsxs("form",{onSubmit:$,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ce,{children:"Baustellen/Aufträge"}),l.jsxs(CG,{open:!0,onOpenChange:()=>{},children:[l.jsx(YD,{placeholder:"Suche nach Auftrag (alle Felder)...",value:S,onValueChange:P}),l.jsxs(XD,{children:[o.filter(k=>{const U=S.toLowerCase();return k.title.toLowerCase().includes(U)||k.description.toLowerCase().includes(U)||k.propertyId&&k.propertyId.toLowerCase().includes(U)||k.jobType&&k.jobType.toLowerCase().includes(U)||k.status&&k.status.toLowerCase().includes(U)}).map(k=>{var U,H;return l.jsxs(ZD,{onSelect:()=>Y(k.id),className:(U=w.assignedJobs)!=null&&U.includes(k.id)?"bg-accent":"",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:k.title}),l.jsx("span",{className:"text-xs text-gray-500",children:k.description})]}),((H=w.assignedJobs)==null?void 0:H.includes(k.id))&&l.jsx(ya,{className:"ml-auto h-4 w-4 text-green-600"})]},k.id)}),l.jsx(JD,{children:"Keine Aufträge gefunden."})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Abbrechen"}),l.jsx(le,{type:"submit",children:"Speichern"})]})]})]})})]})};function mr({children:t}){const{currentUser:e,loading:n}=_s(),r=ys();return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(GV,{to:"/login",state:{from:r},replace:!0})}const NG=()=>{const[t,e]=f.useState(!1),[n,r]=f.useState(""),[s,i]=f.useState([]),[o,a]=f.useState([]),{currentUser:c}=_s();f.useEffect(()=>{i(wW),a(yW)},[]);const d=Bw.find(m=>m.email===(c==null?void 0:c.email)),h=s.filter(m=>d?d.assignedJobs&&d.assignedJobs.includes(m.id)||m.assignedTo===d.email:!1).filter(m=>n?m.title.toLowerCase().includes(n.toLowerCase())||m.description.toLowerCase().includes(n.toLowerCase()):!0),p=m=>{const y=o.find(_=>_.id===m);return y?y.name:"Unbekannte Liegenschaft"};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsx(fs,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx(Lr,{title:"Meine Aufträge",toggleSidebar:()=>e(!t)}),l.jsxs("main",{className:"flex-1 p-4 lg:p-8 overflow-y-auto max-w-full",children:[l.jsx("div",{className:"mb-4 flex items-center gap-3 max-w-md",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx(_e,{placeholder:"Nach Auftrag suchen...",value:n,onChange:m=>r(m.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:h.length===0?l.jsx("div",{className:"text-gray-500 col-span-full",children:"Keine Aufträge gefunden."}):h.map(m=>l.jsx(st,{className:"flex flex-col h-full",children:l.jsxs(Ge,{className:"flex flex-col gap-2 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-semibold text-base",children:m.title}),l.jsx(mo,{status:m.status})]}),l.jsx("div",{className:"text-sm text-gray-500",children:p(m.propertyId)}),l.jsx("div",{className:"text-sm",children:m.description}),m.dueDate&&l.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Fällig: ",new Date(m.dueDate).toLocaleDateString()]})]})},m.id))})]})]})]})},RG=new oV,kG=()=>l.jsx(lV,{client:RG,children:l.jsx(IB,{children:l.jsxs(LF,{children:[l.jsx(OL,{}),l.jsx(d4,{}),l.jsx(s$,{children:l.jsxs(YV,{children:[l.jsx(Zt,{path:"/login",element:l.jsx(HK,{})}),l.jsx(Zt,{path:"/",element:l.jsx(mr,{children:l.jsx(W8,{})})}),l.jsx(Zt,{path:"/properties",element:l.jsx(mr,{children:l.jsx(uW,{})})}),l.jsx(Zt,{path:"/properties/:id",element:l.jsx(mr,{children:l.jsx(vW,{})})}),l.jsx(Zt,{path:"/jobs",element:l.jsx(mr,{children:l.jsx(ZH,{})})}),l.jsx(Zt,{path:"/jobs/:id",element:l.jsx(mr,{children:l.jsx(VK,{})})}),l.jsx(Zt,{path:"/jobs/baustellen/wasserschaden",element:l.jsx(mr,{children:l.jsx(eK,{})})}),l.jsx(Zt,{path:"/jobs/baustellen/sonderauftrag",element:l.jsx(mr,{children:l.jsx(tK,{})})}),l.jsx(Zt,{path:"/employees",element:l.jsx(mr,{children:l.jsx(PG,{})})}),l.jsx(Zt,{path:"/profile",element:l.jsx(mr,{children:l.jsx(KK,{})})}),l.jsx(Zt,{path:"/meine-auftraege",element:l.jsx(mr,{children:l.jsx(NG,{})})}),l.jsx(Zt,{path:"/firebase/firestore",element:l.jsx(UK,{})}),l.jsx(Zt,{path:"/firebase/auth",element:l.jsx(zK,{})}),l.jsx(Zt,{path:"*",element:l.jsx($K,{})})]})})]})})});nC(document.getElementById("root")).render(l.jsx(kG,{}));
